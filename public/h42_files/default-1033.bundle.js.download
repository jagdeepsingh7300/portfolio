function ProcessCommonWebRequest(n){n.Status==="success"?n.RedirectionUrl!==undefined&&(window.location=n.RedirectionUrl):$(".tab-content").html(n)}function ProcessValidatedWebRequest(n){var i,r,u,t;n.Status==="success"?n.Html==="application submitted"?(i=screen.availHeight,r=screen.availWidth,n.Paymentredirectionurl!==undefined&&window.open(n.Paymentredirectionurl,"_blank","height="+i+",width="+r+",resizable=yes"),n.RedirectionUrl!==undefined&&(window.location=n.RedirectionUrl)):n.RedirectionUrl!==undefined&&(window.location=n.RedirectionUrl):n.Status==="error list"?typeof DisplayErrorList=="function"&&DisplayErrorList(n.Html):n.Status==="error list 2"?typeof DisplayErrorList2=="function"&&DisplayErrorList2(n.Html):(u=$(n).find("div.error-container .validation-summary-errors li"),u.length===0?$(".tab-content").html(n):(t=$("div.error-container"),t.length>0&&t.html($($(n).find("div.error-container")).html())))}function ProcessAuthenticatedWebRequest(n){n.Status==="success"?n.RedirectionUrl!==undefined&&(alert(n.Html),window.location=n.RedirectionUrl):$(".tab-content").html(n)}function RedirectToUrl(n){n.Status==="success"&&n.RedirectionUrl!==undefined&&(window.location=n.RedirectionUrl)}function ShowActiveTab(){$(".breadcrumb a:eq("+(window.activeTabIndex-1)+")").addClass("active")}function GetQSParameterByName(n){var r=window.location.href,i,t;return(n=n.replace(/[\[\]]/g,"\\$&"),i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)","i"),t=i.exec(r),!t)?null:t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):""}function MakePostRequest(n,t,i,r){$.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",processData:!1,cache:!1,async:!0,data:t,beforeSend:function(){i&&$.blockUI({message:null,overlayCSS:{opacity:.3}})},success:function(n){r(n)},error:function(n,t,i){console.log("Error"+i)},complete:function(n){n.getResponseHeader("X-Responded-JSON")!==null&&JSON.parse(n.getResponseHeader("X-Responded-JSON")).status==="401"&&(window.location="/signIn");i&&$.unblockUI()}})}function MakeGetRequest(n,t,i){$.ajax({type:"GET",url:n,contentType:"application/json; charset=utf-8",processData:!1,cache:!1,async:!0,beforeSend:function(){t&&$.blockUI({message:null,overlayCSS:{opacity:.3}})},success:function(n){i(n)},error:function(n,t,i){console.log("Error"+i)},complete:function(n){n.getResponseHeader("X-Responded-JSON")!==null&&JSON.parse(n.getResponseHeader("X-Responded-JSON")).status==="401"&&(window.location="/signIn");t&&$.unblockUI()}})}function WizardActionClicked(n){if(n==="SaveAndNext"){if(typeof OnWizardNext=="function"&&OnWizardNext(n)===!1)return!1}else if(n==="SaveAndClose"){if(typeof OnWizardNext=="function"&&OnWizardNext(n)===!1)return!1}else if(n==="Previous"){var t=GetQSParameterByName("applicationId"),i=JSON.stringify({model:{Id:t}});return MakePostRequest("/FACS/Application/OnPreviousClicked",i,!0,RedirectToUrl),!1}}function SaveLocationAndReturnToList(){var n=GetQSParameterByName("applicationId"),t=JSON.stringify({model:{Id:n}});MakePostRequest("/FACS/Application/SaveAndClose",t,!0,RedirectToUrl)}function DefaultSaveAndClose(n){n.Status==="success"?SaveLocationAndReturnToList():$(".tab-content").html(n)}function AllowOnlyNumbers(n){$(n).keydown(function(n){n.keyCode!==46&&n.keyCode!==8&&n.keyCode!==9&&n.keyCode!==13&&(n.key.charCodeAt(0)<48||n.key.charCodeAt(0)>57)&&n.preventDefault()})}function MakeSyncPostRequest(n,t){var i;return $.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",processData:!1,cache:!1,async:!1,data:t,beforeSend:function(){},success:function(n){i=n},error:function(n,t,i){console.log("Error"+i)},complete:function(){}}),i}function ShowValidationErrors(n,t){var i=$(".error-container:first"),u,r;if(t!==null&&(i=t.find(".error-container")),i.length>0)if(n!==null&&n.length>0){for(u=[],r=0;r<n.length;r++)u.push("<li>"+n[r]+"<\/li>");i.html('<div class="validation-summary-errors alert alert-block alert-danger" data-valmsg-summary="true"><ul>'+u.join("")+"<\/ul><\/div>")}else i.html("")}function sleep(n){for(var t=(new Date).getTime();(new Date).getTime()<t+n;);}function RequestWizardActionClicked(n){return n==="SaveAndNext"&&typeof OnWizardNext=="function"&&OnWizardNext(n)===!1?!1:n==="Previous"&&typeof OnWizardPrevious=="function"&&OnWizardPrevious(n)===!1?!1:n==="SaveAndClose"&&typeof OnWizardNext=="function"&&OnWizardNext(n)===!1?!1:!0}function ExpandCollapse(n){var t=$(n).closest(".panel-facs").find(".panel-heading i");t.hasClass("glyphicon-minus-sign")?(t.removeClass("glyphicon-minus-sign"),t.addClass("glyphicon-plus-sign"),$(n).closest(".panel-facs").find(".panel-body").slideUp()):(t.addClass("glyphicon-minus-sign"),t.removeClass("glyphicon-plus-sign"),$(n).closest(".panel-facs").find(".panel-body").slideDown(400))}function ExpandCollapseAll(n){$.each($("#accordion .panel-heading"),function(){var t=$(this).closest(".panel-facs").find(".panel-heading i").hasClass("glyphicon-minus-sign");t||n!=="expand"?t&&n==="collapse"&&$(this).click():$(this).click()})}function GetDateStringMMMddYYYY(n){var t={},i,r;return(t.IsDateString=!1,t.DateString=n,t.FormatedDateString=n,n===undefined||n===null||n.length<4||n.length>20||Date.parse(n)===null||n.indexOf("/")<0)?t:(i=new Date(n),r=["January","February","March","April","May","June","July","August","September","October","November","December"],t.IsDateString=!0,t.FormatedDateString=r[i.getMonth()]+" "+i.getDate()+", "+i.getFullYear(),t)}function ChangeDateFormatInTableRow(n){$.each($(n).find("td"),function(n,t){var i=GetDateStringMMMddYYYY($(t).text());i.IsDateString&&($(t).text(i.FormatedDateString),$(t).css("white-space","nowrap"))})}function ProcessPaymentIntegrationBase(n){var t=n.TotalCourierFee.toString().replace(new RegExp(",","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("\\$","g"),""),i=n.TotalServiceFee.toString().replace(new RegExp(",","g"),"").replace(new RegExp(" ","g"),"").replace(new RegExp("\\$","g"),""),r,u,f;t===""&&(t="0");i===""&&(i="0");r=n.PaymentIntegrationUrl;+ "?sku="+n.SKU+"&firstname="+n.FirstName+"&lastname="+n.LastName+"&clientID="+n.FileNumber+"&productprice="+parseFloat(i).toFixed(2)+"&shippingprice="+parseFloat(t).toFixed(2)+"&applicationID="+n.Id;u=screen.availHeight;f=screen.availWidth;window.open(r,"_blank","height="+u+",width="+f+",resizable=yes")}function OnlyEnglish(n,t){var i,u,r;try{if(i=t.which?t.which:event.keyCode,i!==undefined&&!(i===46||i===8||i===9||i===13))return u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 :;,.?!Â£$%^&*()_+-*{}@~<>&\"'",r=u.indexOf(String.fromCharCode(i))!==-1,!r,r}catch(f){}}function Sys$Enum$parse(n,t){var i,r,h,f,e,o,s,u,c;if(t){if(i=this.__lowerCaseValues,!i){this.__lowerCaseValues=i={};f=this.prototype;for(e in f)i[e.toLowerCase()]=f[e]}}else i=this.prototype;if(this.__flags){for(o=(t?n.toLowerCase():n).split(","),s=0,u=o.length-1;u>=0;u--){if(c=o[u].trim(),r=i[c],typeof r!="number")throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,n.split(",")[u].trim(),this.__typeName));s|=r}return s}if(h=t?n.toLowerCase():n,r=i[h.trim()],typeof r!="number")throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,n,this.__typeName));return r}function Sys$Enum$toString(n){var r,t,i,u,e,o,f;if(typeof n=="undefined"||n===null)return this.__string;if(r=this.prototype,this.__flags&&n!==0){if(i=this.__sortedValues,!i){i=[];for(t in r)i[i.length]={key:t,value:r[t]};i.sort(function(n,t){return n.value-t.value});this.__sortedValues=i}for(u=[],e=n,t=i.length-1;t>=0;t--)if((o=i[t],f=o.value,f!==0)&&(f&n)===f&&(u[u.length]=o.key,e-=f,e===0))break;if(u.length&&e===0)return u.reverse().join(", ")}else for(t in r)if(r[t]===n)return t;return""}function Sys$Component$_setProperties(n,t){var u,c=Object.getType(n),e=c===Object||c===Sys.UI.DomElement,l=Sys.Component.isInstanceOfType(n)&&!n.get_isUpdating(),r,i,f,o,s;l&&n.beginUpdate();for(r in t)if(i=t[r],f=e?null:n["get_"+r],e||typeof f!="function")o=n[r],i&&typeof i=="object"&&(!e||o)?Sys$Component$_setProperties(o,i):n[r]=i;else if(s=n["set_"+r],typeof s=="function")s.apply(n,[i]);else if(i instanceof Array){u=f.apply(n);for(var h=0,a=u.length,v=i.length;h<v;h++,a++)u[a]=i[h]}else typeof i=="object"&&Object.getType(i)===Object&&(u=f.apply(n),Sys$Component$_setProperties(u,i));l&&n.endUpdate()}function Sys$Component$_setReferences(n,t){var i,r,u;for(i in t)r=n["set_"+i],u=$find(t[i]),r.apply(n,[u])}function _XMLNode(){}function _Math(){}function _Script(){}function HtmlEncoder(){}function OptionalParameter(){}function IsNull(n){return typeof n=="undefined"||typeof n=="unknown"||n==null}function ChartConfigObject(){this.title={};this.legend={};this.chart=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchart();this.xAxis=[];this.yAxis=[];this.series=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesArray();this.credits={};this.colors=[];this.tooltip={};this.plotOptions=null;this.CrmConfiguration={};this.HighchartSeriesPointClicked=null;this.HighchartSeriesPointSelected=null;this.HighchartSeriesPointUnselected=null;this.chart.events=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartEvents()}var q,portal,$create,$removeHandler,$get,$find;if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(void 0!==i.style[n])return{end:t[n]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.6";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");n(t.target).is('input[type="radio"]')||n(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.6";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.6";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.6";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.6";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=u.hoverState&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.6";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.6";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.6";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=u?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);window.addEventListener||function(n,t,i,r,u,f,e){n[r]=t[r]=i[r]=function(n,t){var i=this;e.unshift([i,n,t,function(n){n.currentTarget=i;n.preventDefault=function(){n.returnValue=!1};n.stopPropagation=function(){n.cancelBubble=!0};n.target=n.srcElement||i;t.call(i,n)}]);this.attachEvent("on"+n,e[0][3])};n[u]=t[u]=i[u]=function(n,t){for(var r=0,i;i=e[r];++r)if(i[0]==this&&i[1]==n&&i[2]==t)return this.detachEvent("on"+n,e.splice(r,1)[0][3])};n[f]=t[f]=i[f]=function(n){return this.fireEvent("on"+n.type,n)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?exports.Handlebars=t():n.Handlebars=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){"use strict";function o(){var n=k();return n.compile=function(t,i){return f.compile(t,i,n)},n.precompile=function(t,i){return f.precompile(t,i,n)},n.AST=l["default"],n.Compiler=f.Compiler,n.JavaScriptCompiler=v["default"],n.Parser=e.parser,n.parse=e.parse,n}var u=i(1)["default"],r;t.__esModule=!0;var s=i(2),h=u(s),c=i(21),l=u(c),e=i(22),f=i(27),a=i(28),v=u(a),y=i(25),p=u(y),w=i(20),b=u(w),k=h["default"].create;r=o();r.create=o;b["default"](r);r.Visitor=p["default"];r["default"]=r;t["default"]=r;n.exports=t["default"]},function(n,t){"use strict";t["default"]=function(n){return n&&n.__esModule?n:{"default":n}};t.__esModule=!0},function(n,t,i){"use strict";function h(){var n=new o.HandlebarsEnvironment;return e.extend(n,o),n.SafeString=a["default"],n.Exception=y["default"],n.Utils=e,n.escapeExpression=e.escapeExpression,n.VM=s,n.template=function(t){return s.template(t,n)},n}var u=i(3)["default"],f=i(1)["default"],r;t.__esModule=!0;var c=i(4),o=u(c),l=i(18),a=f(l),v=i(6),y=f(v),p=i(5),e=u(p),w=i(19),s=u(w),b=i(20),k=f(b);r=h();r.create=h;k["default"](r);r["default"]=r;t["default"]=r;n.exports=t["default"]},function(n,t){"use strict";t["default"]=function(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t};t.__esModule=!0},function(n,t,i){"use strict";function o(n,t,i){this.helpers=n||{};this.partials=t||{};this.decorators=i||{};v.registerDefaultHelpers(this);y.registerDefaultDecorators(this)}var s=i(1)["default"],h,c,f,l;t.__esModule=!0;t.HandlebarsEnvironment=o;var r=i(5),a=i(6),e=s(a),v=i(7),y=i(15),p=i(17),u=s(p);t.VERSION="4.0.5";h=7;t.COMPILER_REVISION=h;c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=c;f="[object Object]";o.prototype={constructor:o,logger:u["default"],log:u["default"].log,registerHelper:function(n,t){if(r.toString.call(n)===f){if(t)throw new e["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,n)}else this.helpers[n]=t},unregisterHelper:function(n){delete this.helpers[n]},registerPartial:function(n,t){if(r.toString.call(n)===f)r.extend(this.partials,n);else{if(typeof t=="undefined")throw new e["default"]('Attempting to register a partial called "'+n+'" as undefined');this.partials[n]=t}},unregisterPartial:function(n){delete this.partials[n]},registerDecorator:function(n,t){if(r.toString.call(n)===f){if(t)throw new e["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,n)}else this.decorators[n]=t},unregisterDecorator:function(n){delete this.decorators[n]}};l=u["default"].log;t.log=l;t.createFrame=r.createFrame;t.logger=u["default"]},function(n,t){"use strict";function h(n){return e[n]}function f(n){for(var i,t=1;t<arguments.length;t++)for(i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(n[i]=arguments[t][i]);return n}function c(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}function l(n){if(typeof n!="string"){if(n&&n.toHTML)return n.toHTML();if(n==null)return"";if(!n)return n+"";n=""+n}return s.test(n)?n.replace(o,h):n}function a(n){return n||n===0?u(n)&&n.length===0?!0:!1:!0}function v(n){var t=f({},n);return t._parent=n,t}function y(n,t){return n.path=t,n}function p(n,t){return(n?n+".":"")+t}var i,r,u;t.__esModule=!0;t.extend=f;t.indexOf=c;t.escapeExpression=l;t.isEmpty=a;t.createFrame=v;t.blockParams=y;t.appendContextPath=p;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,s=/[&<>"'`=]/;i=Object.prototype.toString;t.toString=i;r=function(n){return typeof n=="function"};r(/x/)&&(t.isFunction=r=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"});t.isFunction=r;u=Array.isArray||function(n){return n&&typeof n=="object"?i.call(n)==="[object Array]":!1};t.isArray=u},function(n,t){"use strict";function r(n,t){var f=t&&t.loc,e=undefined,o=undefined,s,u;for(f&&(e=f.start.line,o=f.start.column,n+=" - "+e+":"+o),s=Error.prototype.constructor.call(this,n),u=0;u<i.length;u++)this[i[u]]=s[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r);f&&(this.lineNumber=e,this.column=o)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error;t["default"]=r;n.exports=t["default"]},function(n,t,i){"use strict";function k(n){f["default"](n);o["default"](n);h["default"](n);l["default"](n);v["default"](n);p["default"](n);b["default"](n)}var r=i(1)["default"];t.__esModule=!0;t.registerDefaultHelpers=k;var u=i(8),f=r(u),e=i(9),o=r(e),s=i(10),h=r(s),c=i(11),l=r(c),a=i(12),v=r(a),y=i(13),p=r(y),w=i(14),b=r(w)},function(n,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(n){n.registerHelper("blockHelperMissing",function(t,i){var f=i.inverse,e=i.fn,u;return t===!0?e(this):t===!1||t==null?f(this):r.isArray(t)?t.length>0?(i.ids&&(i.ids=[i.name]),n.helpers.each(t,i)):f(this):(i.data&&i.ids&&(u=r.createFrame(i.data),u.contextPath=r.appendContextPath(i.data.contextPath,i.name),i={data:u}),e(t,i))})};n.exports=t["default"]},function(n,t,i){"use strict";var u=i(1)["default"];t.__esModule=!0;var r=i(5),f=i(6),e=u(f);t["default"]=function(n){n.registerHelper("each",function(n,t){function h(t,i,f){u&&(u.key=t,u.index=i,u.first=i===0,u.last=!!f,s&&(u.contextPath=s+t));o=o+a(n[t],{data:u,blockParams:r.blockParams([n[t],t],[s+t,null])})}var l,f,c;if(!t)throw new e["default"]("Must pass iterator to #each");var a=t.fn,v=t.inverse,i=0,o="",u=undefined,s=undefined;if(t.data&&t.ids&&(s=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(n)&&(n=n.call(this)),t.data&&(u=r.createFrame(t.data)),n&&typeof n=="object")if(r.isArray(n))for(l=n.length;i<l;i++)i in n&&h(i,i,i===n.length-1);else{f=undefined;for(c in n)n.hasOwnProperty(c)&&(f!==undefined&&h(f,i-1),f=c,i++);f!==undefined&&h(f,i-1,!0)}return i===0&&(o=v(this)),o})};n.exports=t["default"]},function(n,t,i){"use strict";var f=i(1)["default"],r,u;t.__esModule=!0;r=i(6);u=f(r);t["default"]=function(n){n.registerHelper("helperMissing",function(){if(arguments.length===1)return undefined;throw new u["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};n.exports=t["default"]},function(n,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(n){n.registerHelper("if",function(n,t){return r.isFunction(n)&&(n=n.call(this)),(t.hash.includeZero||n)&&!r.isEmpty(n)?t.fn(this):t.inverse(this)});n.registerHelper("unless",function(t,i){return n.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})};n.exports=t["default"]},function(n,t){"use strict";t.__esModule=!0;t["default"]=function(n){n.registerHelper("log",function(){for(var u=[undefined],t=arguments[arguments.length-1],r,i=0;i<arguments.length-1;i++)u.push(arguments[i]);r=1;t.hash.level!=null?r=t.hash.level:t.data&&t.data.level!=null&&(r=t.data.level);u[0]=r;n.log.apply(n,u)})};n.exports=t["default"]},function(n,t){"use strict";t.__esModule=!0;t["default"]=function(n){n.registerHelper("lookup",function(n,t){return n&&n[t]})};n.exports=t["default"]},function(n,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(n){n.registerHelper("with",function(n,t){var u,i;return r.isFunction(n)&&(n=n.call(this)),u=t.fn,r.isEmpty(n)?t.inverse(this):(i=t.data,t.data&&t.ids&&(i=r.createFrame(t.data),i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),u(n,{data:i,blockParams:r.blockParams([n],[i&&i.contextPath])}))})};n.exports=t["default"]},function(n,t,i){"use strict";function e(n){u["default"](n)}var f=i(1)["default"],r,u;t.__esModule=!0;t.registerDefaultDecorators=e;r=i(16);u=f(r)},function(n,t,i){"use strict";t.__esModule=!0;var r=i(5);t["default"]=function(n){n.registerDecorator("inline",function(n,t,i,u){var f=n;return t.partials||(t.partials={},f=function(u,f){var e=i.partials,o;return i.partials=r.extend({},e,t.partials),o=n(u,f),i.partials=e,o}),t.partials[u.args[0]]=u.fn,f})};n.exports=t["default"]},function(n,t,i){"use strict";t.__esModule=!0;var u=i(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(n){if(typeof n=="string"){var t=u.indexOf(r.methodMap,n.toLowerCase());n=t>=0?t:parseInt(n,10)}return n},log:function(n){var t;if(n=r.lookupLevel(n),typeof console!="undefined"&&r.lookupLevel(r.level)<=n){t=r.methodMap[n];console[t]||(t="log");for(var u=arguments.length,f=Array(u>1?u-1:0),i=1;i<u;i++)f[i-1]=arguments[i];console[t].apply(console,f)}}};t["default"]=r;n.exports=t["default"]},function(n,t){"use strict";function i(n){this.string=n}t.__esModule=!0;i.prototype.toString=i.prototype.toHTML=function(){return""+this.string};t["default"]=i;n.exports=t["default"]},function(n,t,i){"use strict";function v(n){var t=n&&n[0]||1,i=f.COMPILER_REVISION,u,e;if(t!==i)if(t<i){u=f.REVISION_CHANGES[i];e=f.REVISION_CHANGES[t];throw new r["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+u+") or downgrade your runtime to an older version ("+e+").");}else throw new r["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+").");}function y(n,t){function o(i,f,e){var o,h,s,c;if(e.hash&&(f=u.extend({},f,e.hash),e.ids&&(e.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,f,e),o=t.VM.invokePartial.call(this,i,f,e),o==null&&t.compile&&(e.partials[e.name]=t.compile(i,n.compilerOptions,t),o=e.partials[e.name](f,e)),o!=null){if(e.indent){for(h=o.split("\n"),s=0,c=h.length;s<c;s++){if(!h[s]&&s+1===c)break;h[s]=e.indent+h[s]}o=h.join("\n")}return o}throw new r["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode");}function f(t){function h(t){return""+n.main(i,t,i.helpers,i.partials,u,o,e)}var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],u=r.data,e,o;return f._setup(r),!r.partial&&n.useData&&(u=b(t,u)),e=undefined,o=n.useBlockParams?[]:undefined,n.useDepths&&(e=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),h=s(n.main,h,i,r.depths||[],u,o),h(t,r)}if(!t)throw new r["default"]("No environment passed to template");if(!n||!n.main)throw new r["default"]("Unknown template object: "+typeof n);n.main.decorator=n.main_d;t.VM.checkRevision(n.compiler);var i={strict:function(n,t){if(!(t in n))throw new r["default"]('"'+t+'" not defined in '+n);return n[t]},lookup:function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i]&&n[i][t]!=null)return n[i][t]},lambda:function(n,t){return typeof n=="function"?n.call(t):n},escapeExpression:u.escapeExpression,invokePartial:o,fn:function(t){var i=n[t];return i.decorator=n[t+"_d"],i},programs:[],program:function(n,t,i,r,u){var f=this.programs[n],o=this.fn(n);return t||u||r||i?f=e(this,n,o,t,i,r,u):f||(f=this.programs[n]=e(this,n,o)),f},data:function(n,t){while(n&&t--)n=n._parent;return n},merge:function(n,t){var i=n||t;return n&&t&&n!==t&&(i=u.extend({},t,n)),i},noop:t.VM.noop,compilerInfo:n.compiler};return f.isTop=!0,f._setup=function(r){r.partial?(i.helpers=r.helpers,i.partials=r.partials,i.decorators=r.decorators):(i.helpers=i.merge(r.helpers,t.helpers),n.usePartial&&(i.partials=i.merge(r.partials,t.partials)),(n.usePartial||n.useDecorators)&&(i.decorators=i.merge(r.decorators,t.decorators)))},f._child=function(t,u,f,o){if(n.useBlockParams&&!f)throw new r["default"]("must pass block params");if(n.useDepths&&!o)throw new r["default"]("must pass parent depths");return e(i,t,n[t],u,0,f,o)},f}function e(n,t,i,r,u,f,e){function o(t){var u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=e;return e&&t!==e[0]&&(o=[t].concat(e)),i(n,t,n.helpers,n.partials,u.data||r,f&&[u.blockParams].concat(f),o)}return o=s(i,o,n,e,r,f),o.program=t,o.depth=e?e.length:0,o.blockParams=u||0,o}function p(n,t,i){return n?n.call||i.name||(i.name=n,n=i.partials[n]):n=i.name==="@partial-block"?i.data["partial-block"]:i.partials[i.name],n}function w(n,t,i){i.partial=!0;i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var e=undefined;if(i.fn&&i.fn!==o&&(i.data=f.createFrame(i.data),e=i.data["partial-block"]=i.fn,e.partials&&(i.partials=u.extend({},i.partials,e.partials))),n===undefined&&e&&(n=e),n===undefined)throw new r["default"]("The partial "+i.name+" could not be found");else if(n instanceof Function)return n(t,i)}function o(){return""}function b(n,t){return t&&"root"in t||(t=t?f.createFrame(t):{},t.root=n),t}function s(n,t,i,r,f,e){if(n.decorator){var o={};t=n.decorator(t,o,i,r&&r[0],f,e,r);u.extend(t,o)}return t}var h=i(3)["default"],c=i(1)["default"];t.__esModule=!0;t.checkRevision=v;t.template=y;t.wrapProgram=e;t.resolvePartial=p;t.invokePartial=w;t.noop=o;var l=i(5),u=h(l),a=i(6),r=c(a),f=i(4)},function(n,t){(function(i){"use strict";t.__esModule=!0;t["default"]=function(n){var t=typeof i!="undefined"?i:window,r=t.Handlebars;n.noConflict=function(){return t.Handlebars===n&&(t.Handlebars=r),n}};n.exports=t["default"]}).call(t,function(){return this}())},function(n,t){"use strict";t.__esModule=!0;var i={helpers:{helperExpression:function(n){return n.type==="SubExpression"||(n.type==="MustacheStatement"||n.type==="BlockStatement")&&!!(n.params&&n.params.length||n.hash)},scopedId:function(n){return/^\.|this\b/.test(n.original)},simpleId:function(n){return n.parts.length===1&&!i.helpers.scopedId(n)&&!n.depth}}};t["default"]=i;n.exports=t["default"]},function(n,t,i){"use strict";function v(n,t){if(n.type==="Program")return n;u["default"].yy=r;r.locInfo=function(n){return new r.SourceLocation(t&&t.srcName,n)};var i=new h["default"](t);return i.accept(u["default"].parse(n))}var f=i(1)["default"],e=i(3)["default"],r;t.__esModule=!0;t.parse=v;var o=i(23),u=f(o),s=i(24),h=f(s),c=i(26),l=e(c),a=i(5);t.parser=u["default"];r={};a.extend(r,l)},function(n,t){"use strict";var i=function(){function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(n,t,i,r,u,f){var e=f.length-1,s,o;switch(u){case 1:return f[e-1];case 2:this.$=r.prepareProgram(f[e]);break;case 3:this.$=f[e];break;case 4:this.$=f[e];break;case 5:this.$=f[e];break;case 6:this.$=f[e];break;case 7:this.$=f[e];break;case 8:this.$=f[e];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(f[e]),strip:r.stripFlags(f[e],f[e]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[e],value:f[e],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(f[e-2],f[e-1],f[e],this._$);break;case 12:this.$={path:f[e-3],params:f[e-2],hash:f[e-1]};break;case 13:this.$=r.prepareBlock(f[e-3],f[e-2],f[e-1],f[e],!1,this._$);break;case 14:this.$=r.prepareBlock(f[e-3],f[e-2],f[e-1],f[e],!0,this._$);break;case 15:this.$={open:f[e-5],path:f[e-4],params:f[e-3],hash:f[e-2],blockParams:f[e-1],strip:r.stripFlags(f[e-5],f[e])};break;case 16:this.$={path:f[e-4],params:f[e-3],hash:f[e-2],blockParams:f[e-1],strip:r.stripFlags(f[e-5],f[e])};break;case 17:this.$={path:f[e-4],params:f[e-3],hash:f[e-2],blockParams:f[e-1],strip:r.stripFlags(f[e-5],f[e])};break;case 18:this.$={strip:r.stripFlags(f[e-1],f[e-1]),program:f[e]};break;case 19:s=r.prepareBlock(f[e-2],f[e-1],f[e],f[e],!1,this._$);o=r.prepareProgram([s],f[e-1].loc);o.chained=!0;this.$={strip:f[e-2].strip,program:o,chain:!0};break;case 20:this.$=f[e];break;case 21:this.$={path:f[e-1],strip:r.stripFlags(f[e-2],f[e])};break;case 22:this.$=r.prepareMustache(f[e-3],f[e-2],f[e-1],f[e-4],r.stripFlags(f[e-4],f[e]),this._$);break;case 23:this.$=r.prepareMustache(f[e-3],f[e-2],f[e-1],f[e-4],r.stripFlags(f[e-4],f[e]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[e-3],params:f[e-2],hash:f[e-1],indent:"",strip:r.stripFlags(f[e-4],f[e]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(f[e-2],f[e-1],f[e],this._$);break;case 26:this.$={path:f[e-3],params:f[e-2],hash:f[e-1],strip:r.stripFlags(f[e-4],f[e])};break;case 27:this.$=f[e];break;case 28:this.$=f[e];break;case 29:this.$={type:"SubExpression",path:f[e-3],params:f[e-2],hash:f[e-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[e],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(f[e-2]),value:f[e],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(f[e-1]);break;case 33:this.$=f[e];break;case 34:this.$=f[e];break;case 35:this.$={type:"StringLiteral",value:f[e],original:f[e],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[e]),original:Number(f[e]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:f[e]==="true",original:f[e]==="true",loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=f[e];break;case 41:this.$=f[e];break;case 42:this.$=r.preparePath(!0,f[e],this._$);break;case 43:this.$=r.preparePath(!1,f[e],this._$);break;case 44:f[e-2].push({part:r.id(f[e]),original:f[e],separator:f[e-1]});this.$=f[e-2];break;case 45:this.$=[{part:r.id(f[e]),original:f[e]}];break;case 46:this.$=[];break;case 47:f[e-1].push(f[e]);break;case 48:this.$=[f[e]];break;case 49:f[e-1].push(f[e]);break;case 50:this.$=[];break;case 51:f[e-1].push(f[e]);break;case 58:this.$=[];break;case 59:f[e-1].push(f[e]);break;case 64:this.$=[];break;case 65:f[e-1].push(f[e]);break;case 70:this.$=[];break;case 71:f[e-1].push(f[e]);break;case 78:this.$=[];break;case 79:f[e-1].push(f[e]);break;case 82:this.$=[];break;case 83:f[e-1].push(f[e]);break;case 86:this.$=[];break;case 87:f[e-1].push(f[e]);break;case 90:this.$=[];break;case 91:f[e-1].push(f[e]);break;case 94:this.$=[];break;case 95:f[e-1].push(f[e]);break;case 98:this.$=[f[e]];break;case 99:f[e-1].push(f[e]);break;case 100:this.$=[f[e]];break;case 101:f[e-1].push(f[e])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(n){throw new Error(n);},parse:function(n){function it(){var n;return n=k.lexer.lex()||1,typeof n!="number"&&(n=k.symbols_[n]||n),n}var k=this,r=[0],f=[null],t=[],h=this.table,d="",c=0,g=0,y=0,l,nt,i,p,o,u,w,s,a,e,tt,v,b;for(this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={}),l=this.lexer.yylloc,t.push(l),nt=this.lexer.options&&this.lexer.options.ranges,typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError),s={};;){if(o=r[r.length-1],this.defaultActions[o]?u=this.defaultActions[o]:((i===null||typeof i=="undefined")&&(i=it()),u=h[o]&&h[o][i]),(typeof u=="undefined"||!u.length||!u[0])&&(b="",!y)){v=[];for(a in h[o])this.terminals_[a]&&a>2&&v.push("'"+this.terminals_[a]+"'");b=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[i]||i)+"'":"Parse error on line "+(c+1)+": Unexpected "+(i==1?"end of input":"'"+(this.terminals_[i]||i)+"'");this.parseError(b,{text:this.lexer.match,token:this.terminals_[i]||i,line:this.lexer.yylineno,loc:l,expected:v})}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+o+", token: "+i);switch(u[0]){case 1:r.push(i);f.push(this.lexer.yytext);t.push(this.lexer.yylloc);r.push(u[1]);i=null;p?(i=p,p=null):(g=this.lexer.yyleng,d=this.lexer.yytext,c=this.lexer.yylineno,l=this.lexer.yylloc,y>0&&y--);break;case 2:if(e=this.productions_[u[1]][1],s.$=f[f.length-e],s._$={first_line:t[t.length-(e||1)].first_line,last_line:t[t.length-1].last_line,first_column:t[t.length-(e||1)].first_column,last_column:t[t.length-1].last_column},nt&&(s._$.range=[t[t.length-(e||1)].range[0],t[t.length-1].range[1]]),w=this.performAction.call(s,d,g,c,this.yy,u[1],f,t),typeof w!="undefined")return w;e&&(r=r.slice(0,-2*e),f=f.slice(0,-1*e),t=t.slice(0,-1*e));r.push(this.productions_[u[1]][0]);f.push(s.$);t.push(s._$);tt=h[r[r.length-2]][r[r.length-1]];r.push(tt);break;case 3:return!0}}return!0}},i=function(){var n={EOF:1,parseError:function(n,t){if(this.yy.parser)this.yy.parser.parseError(n,t);else throw new Error(n);},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var n=this._input[0],t;return this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,t=n.match(/(?:\r\n?|\n).*/g),t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),n},unput:function(n){var i=n.length,t=n.split(/(?:\r\n?|\n)/g),r,u;return this._input=n+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-i-1),this.offset-=i,r=this.match.split(/(?:\r\n?|\n)/g),this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1),u=this.yylloc.range,this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===r.length?this.yylloc.first_column:0)+r[r.length-t.length].length-t[0].length:this.yylloc.first_column-i},this.options.ranges&&(this.yylloc.range=[u[0],u[0]+this.yyleng-i]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),t=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+t+"^"},next:function(){var f,n,r,e,t,u,i;if(this.done)return this.EOF;for(this._input||(this.done=!0),this._more||(this.yytext="",this.match=""),u=this._currentRules(),i=0;i<u.length;i++)if(r=this._input.match(this.rules[u[i]]),r&&(!n||r[0].length>n[0].length)&&(n=r,e=i,!this.options.flex))break;return n?(t=n[0].match(/(?:\r\n?|\n).*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-t[t.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],f=this.performAction.call(this,this.yy,this,u[e],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),f)?f:void 0:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return typeof n!="undefined"?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)}};return n.options={},n.performAction=function(n,t,i,r){function u(n,i){return t.yytext=t.yytext.substr(n,t.yyleng-i)}var f=r;switch(i){case 0:if(t.yytext.slice(-2)==="\\\\"?(u(0,1),this.begin("mu")):t.yytext.slice(-1)==="\\"?(u(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=u(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=u(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},n.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],n.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},n}();return n.lexer=i,t.prototype=n,n.Parser=t,new t}();t.__esModule=!0;t["default"]=i},function(n,t,i){"use strict";function r(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=n}function e(n,t,i){t===undefined&&(t=n.length);var r=n[t-1],u=n[t-2];return r?r.type==="ContentStatement"?(u||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:i}function o(n,t,i){t===undefined&&(t=-1);var r=n[t+1],u=n[t+2];return r?r.type==="ContentStatement"?(u||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:i}function f(n,t,i){var r=n[t==null?0:t+1],u;r&&r.type==="ContentStatement"&&(i||!r.rightStripped)&&(u=r.value,r.value=r.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==u)}function u(n,t,i){var r=n[t==null?n.length-1:t-1],u;if(r&&r.type==="ContentStatement"&&(i||!r.leftStripped))return u=r.value,r.value=r.value.replace(i?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==u,r.leftStripped}var c=i(1)["default"],s,h;t.__esModule=!0;s=i(25);h=c(s);r.prototype=new h["default"];r.prototype.Program=function(n){var h=!this.options.ignoreStandalone,c=!this.isRootSeen,i,t,l,r,s;for(this.isRootSeen=!0,i=n.body,t=0,l=i.length;t<l;t++)if(r=i[t],s=this.accept(r),s){var a=e(i,t,c),v=o(i,t,c),y=s.openStandalone&&a,p=s.closeStandalone&&v,w=s.inlineStandalone&&a&&v;s.close&&f(i,t,!0);s.open&&u(i,t,!0);h&&w&&(f(i,t),u(i,t)&&r.type==="PartialStatement"&&(r.indent=/([ \t]+$)/.exec(i[t-1].original)[1]));h&&y&&(f((r.program||r.inverse).body),u(i,t));h&&p&&(f(i,t),u((r.inverse||r.program).body))}return n};r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(n){var c,h;this.accept(n.program);this.accept(n.inverse);var t=n.program||n.inverse,i=n.program&&n.inverse,r=i,s=i;if(i&&i.chained)for(r=i.body[0].program;s.chained;)s=s.body[s.body.length-1].program;return c={open:n.openStrip.open,close:n.closeStrip.close,openStandalone:o(t.body),closeStandalone:e((r||t).body)},n.openStrip.close&&f(t.body,null,!0),i?(h=n.inverseStrip,h.open&&u(t.body,null,!0),h.close&&f(r.body,null,!0),n.closeStrip.open&&u(s.body,null,!0),!this.options.ignoreStandalone&&e(t.body)&&o(r.body)&&(u(t.body),f(r.body))):n.closeStrip.open&&u(t.body,null,!0),c};r.prototype.Decorator=r.prototype.MustacheStatement=function(n){return n.strip};r.prototype.PartialStatement=r.prototype.CommentStatement=function(n){var t=n.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}};t["default"]=r;n.exports=t["default"]},function(n,t,i){"use strict";function u(){this.parents=[]}function f(n){this.acceptRequired(n,"path");this.acceptArray(n.params);this.acceptKey(n,"hash")}function o(n){f.call(this,n);this.acceptKey(n,"program");this.acceptKey(n,"inverse")}function s(n){this.acceptRequired(n,"name");this.acceptArray(n.params);this.acceptKey(n,"hash")}var h=i(1)["default"],e,r;t.__esModule=!0;e=i(6);r=h(e);u.prototype={constructor:u,mutating:!1,acceptKey:function(n,t){var i=this.accept(n[t]);if(this.mutating){if(i&&!u.prototype[i.type])throw new r["default"]('Unexpected node type "'+i.type+'" found when accepting '+t+" on "+n.type);n[t]=i}},acceptRequired:function(n,t){if(this.acceptKey(n,t),!n[t])throw new r["default"](n.type+" requires "+t);},acceptArray:function(n){for(var t=0,i=n.length;t<i;t++)this.acceptKey(n,t),n[t]||(n.splice(t,1),t--,i--)},accept:function(n){if(n){if(!this[n.type])throw new r["default"]("Unknown type: "+n.type,n);this.current&&this.parents.unshift(this.current);this.current=n;var t=this[n.type](n);return(this.current=this.parents.shift(),!this.mutating||t)?t:t!==!1?n:void 0}},Program:function(n){this.acceptArray(n.body)},MustacheStatement:f,Decorator:f,BlockStatement:o,DecoratorBlock:o,PartialStatement:s,PartialBlockStatement:function(n){s.call(this,n);this.acceptKey(n,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(n){this.acceptArray(n.pairs)},HashPair:function(n){this.acceptRequired(n,"value")}};t["default"]=u;n.exports=t["default"]},function(n,t,i){"use strict";function u(n,t){if(t=t.path?t.path.original:t,n.path.original!==t){var i={loc:n.path.loc};throw new r["default"](n.path.original+" doesn't match "+t,i);}}function o(n,t){this.source=n;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function s(n){return/^\[.*\]$/.test(n)?n.substr(1,n.length-2):n}function h(n,t){return{open:n.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function c(n){return n.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(n,t,i){var f,h,u,c;i=this.locInfo(i);var e=n?"@":"",o=[],s=0,l="";for(f=0,h=t.length;f<h;f++)if(u=t[f].part,c=t[f].original!==u,e+=(t[f].separator||"")+u,c||u!==".."&&u!=="."&&u!=="this")o.push(u);else if(o.length>0)throw new r["default"]("Invalid path: "+e,{loc:i});else u===".."&&(s++,l+="../");return{type:"PathExpression",data:n,depth:s,parts:o,original:e,loc:i}}function a(n,t,i,r,u,f){var e=r.charAt(3)||r.charAt(2),o=e!=="{"&&e!=="&",s=/\*/.test(r);return{type:s?"Decorator":"MustacheStatement",path:n,params:t,hash:i,escaped:o,strip:u,loc:this.locInfo(f)}}function v(n,t,i,r){u(n,i);r=this.locInfo(r);var f={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:n.path,params:n.params,hash:n.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}}function y(n,t,i,f,e,o){var h,s,c;if(f&&f.path&&u(n,f),h=/\*/.test(n.open),t.blockParams=n.blockParams,s=undefined,c=undefined,i){if(h)throw new r["default"]("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=f.strip);c=i.strip;s=i.program}return e&&(e=s,s=t,t=e),{type:h?"DecoratorBlock":"BlockStatement",path:n.path,params:n.params,hash:n.hash,program:t,inverse:s,openStrip:n.strip,inverseStrip:c,closeStrip:f&&f.strip,loc:this.locInfo(o)}}function p(n,t){if(!t&&n.length){var i=n[0].loc,r=n[n.length-1].loc;i&&r&&(t={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:n,strip:{},loc:t}}function w(n,t,i,r){return u(n,i),{type:"PartialBlockStatement",name:n.path,params:n.params,hash:n.hash,program:t,openStrip:n.strip,closeStrip:i&&i.strip,loc:this.locInfo(r)}}var e=i(1)["default"],f,r;t.__esModule=!0;t.SourceLocation=o;t.id=s;t.stripFlags=h;t.stripComment=c;t.preparePath=l;t.prepareMustache=a;t.prepareRawBlock=v;t.prepareBlock=y;t.prepareProgram=p;t.preparePartialBlock=w;f=i(6);r=e(f)},function(n,t,i){"use strict";function e(){}function v(n,t,i){if(n==null||typeof n!="string"&&n.type!=="Program")throw new r["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);t=t||{};"data"in t||(t.data=!0);t.compat&&(t.useDepths=!0);var u=i.parse(n,t),f=(new i.Compiler).compile(u,t);return(new i.JavaScriptCompiler).compile(f,t)}function y(n,t,i){function f(){var r=i.parse(n,t),u=(new i.Compiler).compile(r,t),f=(new i.JavaScriptCompiler).compile(u,t,undefined,!0);return i.template(f)}function e(n,t){return u||(u=f()),u.call(this,n,t)}if(t===undefined&&(t={}),n==null||typeof n!="string"&&n.type!=="Program")throw new r["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);"data"in t||(t.data=!0);t.compat&&(t.useDepths=!0);var u=undefined;return e._setup=function(n){return u||(u=f()),u._setup(n)},e._child=function(n,t,i,r){return u||(u=f()),u._child(n,t,i,r)},e}function s(n,t){if(n===t)return!0;if(f.isArray(n)&&f.isArray(t)&&n.length===t.length){for(var i=0;i<n.length;i++)if(!s(n[i],t[i]))return!1;return!0}}function h(n){if(!n.path.parts){var t=n.path;n.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var o=i(1)["default"];t.__esModule=!0;t.Compiler=e;t.precompile=v;t.compile=y;var c=i(6),r=o(c),f=i(5),l=i(21),u=o(l),a=[].slice;e.prototype={compiler:e,equals:function(n){var i=this.opcodes.length,r,u,t;if(n.opcodes.length!==i)return!1;for(t=0;t<i;t++)if(r=this.opcodes[t],u=n.opcodes[t],r.opcode!==u.opcode||!s(r.args,u.args))return!1;for(i=this.children.length,t=0;t<i;t++)if(!this.children[t].equals(n.children[t]))return!1;return!0},guid:0,compile:function(n,t){var i,r;if(this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],i=t.knownHelpers,t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},i)for(r in i)r in i&&(t.knownHelpers[r]=i[r]);return this.accept(n)},compileProgram:function(n){var r=new this.compiler,t=r.compile(n,this.options),i=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[i]=t,this.useDepths=this.useDepths||t.useDepths,i},accept:function(n){if(!this[n.type])throw new r["default"]("Unknown type: "+n.type,n);this.sourceNode.unshift(n);var t=this[n.type](n);return this.sourceNode.shift(),t},Program:function(n){var i,r,t;for(this.options.blockParams.unshift(n.blockParams),i=n.body,r=i.length,t=0;t<r;t++)this.accept(i[t]);return this.options.blockParams.shift(),this.isSimple=r===1,this.blockParams=n.blockParams?n.blockParams.length:0,this},BlockStatement:function(n){var t,i,r;h(n);t=n.program;i=n.inverse;t=t&&this.compileProgram(t);i=i&&this.compileProgram(i);r=this.classifySexpr(n);r==="helper"?this.helperSexpr(n,t,i):r==="simple"?(this.simpleSexpr(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",n.path.original)):(this.ambiguousSexpr(n,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(n){var t=n.program&&this.compileProgram(n.program),i=this.setupFullMustacheParams(n,t,undefined),r=n.path;this.useDecorators=!0;this.opcode("registerDecorator",i.length,r.original)},PartialStatement:function(n){var u,t,e,f,i;if(this.usePartial=!0,u=n.program,u&&(u=this.compileProgram(n.program)),t=n.params,t.length>1)throw new r["default"]("Unsupported number of partial arguments: "+t.length,n);else t.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):t.push({type:"PathExpression",parts:[],depth:0}));e=n.name.original;f=n.name.type==="SubExpression";f&&this.accept(n.name);this.setupFullMustacheParams(n,u,undefined,!0);i=n.indent||"";this.options.preventIndent&&i&&(this.opcode("appendContent",i),i="");this.opcode("invokePartial",f,e,i);this.opcode("append")},PartialBlockStatement:function(n){this.PartialStatement(n)},MustacheStatement:function(n){this.SubExpression(n);n.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(n){this.DecoratorBlock(n)},ContentStatement:function(n){n.value&&this.opcode("appendContent",n.value)},CommentStatement:function(){},SubExpression:function(n){h(n);var t=this.classifySexpr(n);t==="simple"?this.simpleSexpr(n):t==="helper"?this.helperSexpr(n):this.ambiguousSexpr(n)},ambiguousSexpr:function(n,t,i){var r=n.path,u=r.parts[0],f=t!=null||i!=null;this.opcode("getContext",r.depth);this.opcode("pushProgram",t);this.opcode("pushProgram",i);r.strict=!0;this.accept(r);this.opcode("invokeAmbiguous",u,f)},simpleSexpr:function(n){var t=n.path;t.strict=!0;this.accept(t);this.opcode("resolvePossibleLambda")},helperSexpr:function(n,t,i){var o=this.setupFullMustacheParams(n,t,i),f=n.path,e=f.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",o.length,e);else if(this.options.knownHelpersOnly)throw new r["default"]("You specified knownHelpersOnly, but used the unknown helper "+e,n);else f.strict=!0,f.falsy=!0,this.accept(f),this.opcode("invokeHelper",o.length,f.original,u["default"].helpers.simpleId(f))},PathExpression:function(n){this.addDepth(n.depth);this.opcode("getContext",n.depth);var t=n.parts[0],i=u["default"].helpers.scopedId(n),r=!n.depth&&!i&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,n.parts):t?n.data?(this.options.data=!0,this.opcode("lookupData",n.depth,n.parts,n.strict)):this.opcode("lookupOnContext",n.parts,n.falsy,n.strict,i):this.opcode("pushContext")},StringLiteral:function(n){this.opcode("pushString",n.value)},NumberLiteral:function(n){this.opcode("pushLiteral",n.value)},BooleanLiteral:function(n){this.opcode("pushLiteral",n.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(n){var i=n.pairs,t=0,r=i.length;for(this.opcode("pushHash");t<r;t++)this.pushParam(i[t].value);while(t--)this.opcode("assignToHash",i[t].key);this.opcode("popHash")},opcode:function(n){this.opcodes.push({opcode:n,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(n){n&&(this.useDepths=!0)},classifySexpr:function(n){var f=u["default"].helpers.simpleId(n.path),e=f&&!!this.blockParamIndex(n.path.parts[0]),t=!e&&u["default"].helpers.helperExpression(n),i=!e&&(t||f),o,r;return i&&!t&&(o=n.path.parts[0],r=this.options,r.knownHelpers[o]?t=!0:r.knownHelpersOnly&&(i=!1)),t?"helper":i?"ambiguous":"simple"},pushParams:function(n){for(var t=0,i=n.length;t<i;t++)this.pushParam(n[t])},pushParam:function(n){var t=n.value!=null?n.value:n.original||"",i,r;this.stringParams?(t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",t,n.type),n.type==="SubExpression"&&this.accept(n)):(this.trackIds&&(i=undefined,!n.parts||u["default"].helpers.scopedId(n)||n.depth||(i=this.blockParamIndex(n.parts[0])),i?(r=n.parts.slice(1).join("."),this.opcode("pushId","BlockParam",i,r)):(t=n.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",n.type,t))),this.accept(n))},setupFullMustacheParams:function(n,t,i,r){var u=n.params;return this.pushParams(u),this.opcode("pushProgram",t),this.opcode("pushProgram",i),n.hash?this.accept(n.hash):this.opcode("emptyHash",r),u},blockParamIndex:function(n){for(var i,r,t=0,u=this.options.blockParams.length;t<u;t++)if(i=this.options.blockParams[t],r=i&&f.indexOf(i,n),i&&r>=0)return[t,r]}}},function(n,t,i){"use strict";function u(n){this.value=n}function r(){}function a(n,t,i,r){var u=t.popStack(),f=0,e=i.length;for(n&&e--;f<e;f++)u=t.nameLookup(u,i[f],r);return n?[t.aliasable("container.strict"),"(",u,", ",t.quotedString(i[f]),")"]:u}var e=i(1)["default"];t.__esModule=!0;var o=i(4),h=i(6),f=e(h),c=i(5),l=i(29),s=e(l);r.prototype={nameLookup:function(n,t){return r.isValidJavaScriptVariableName(t)?[n,".",t]:[n,"[",JSON.stringify(t),"]"]},depthedLookup:function(n){return[this.aliasable("container.lookup"),'(depths, "',n,'")']},compilerInfo:function(){var n=o.COMPILER_REVISION,t=o.REVISION_CHANGES[n];return[n,t]},appendToBuffer:function(n,t,i){return c.isArray(n)||(n=[n]),n=this.source.wrap(n,t),this.environment.isSimple?["return ",n,";"]:i?["buffer += ",n,";"]:(n.appendToBuffer=!0,n)},initializeBuffer:function(){return this.quotedString("")},compile:function(n,t,i,r){var c,u;this.environment=n;this.options=t;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!r;this.name=this.environment.name;this.isChild=!!i;this.context=i||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(n,t);this.useDepths=this.useDepths||n.useDepths||n.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||n.useBlockParams;for(var a=n.opcodes,o=undefined,h=undefined,e=undefined,s=undefined,e=0,s=a.length;e<s;e++)o=a[e],this.source.currentLocation=o.loc,h=h||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=h,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f["default"]("Compile completed with content left on stack");if(this.decorators.isEmpty()?this.decorators=undefined:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge())),c=this.createFunctionContext(r),this.isChild)return c;u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var v=this.context,l=v.programs,y=v.decorators;for(e=0,s=l.length;e<s;e++)l[e]&&(u[e]=l[e],y[e]&&(u[e+"_d"]=y[e],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),r?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),t.srcName?(u=u.toStringWithSourceMap({file:t.destName}),u.map=u.map&&u.map.toString()):u=u.toString()),u},preamble:function(){this.lastContext=0;this.source=new s["default"](this.options.srcName);this.decorators=new s["default"](this.options.srcName)},createFunctionContext:function(n){var u="",o=this.stackVars.concat(this.registers.list),f,i,r,t,e;o.length>0&&(u+=", "+o.join(", "));f=0;for(i in this.aliases)r=this.aliases[i],this.aliases.hasOwnProperty(i)&&r.children&&r.referenceCount>1&&(u+=", alias"+ ++f+"="+i,r.children[0]="alias"+f);return t=["container","depth0","helpers","partials","data"],(this.useBlockParams||this.useDepths)&&t.push("blockParams"),this.useDepths&&t.push("depths"),e=this.mergeSource(u),n?(t.push(e),Function.apply(this,t)):this.source.wrap(["function(",t.join(","),") {\n  ",e,"}"])},mergeSource:function(n){var e=this.environment.isSimple,f=!this.forceBuffer,r=undefined,u=undefined,t=undefined,i=undefined;return this.source.each(function(n){n.appendToBuffer?(t?n.prepend("  + "):t=n,i=n):(t&&(u?t.prepend("buffer += "):r=!0,i.add(";"),t=i=undefined),u=!0,e||(f=!1))}),f?t?(t.prepend("return "),i.add(";")):u||this.source.push('return "";'):(n+=", buffer = "+(r?"":this.initializeBuffer()),t?(t.prepend("return buffer + "),i.add(";")):this.source.push("return buffer;")),n&&this.source.prepend("var "+n.substring(2)+(r?"":";\n")),this.source.merge()},blockValue:function(n){var r=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)],i;this.setupHelperArgs(n,0,t);i=this.popStack();t.splice(1,0,i);this.push(this.source.functionCall(r,"call",t))},ambiguousBlockValue:function(){var i=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)],t;this.setupHelperArgs("",0,n,!0);this.flushInline();t=this.topStack();n.splice(1,0,t);this.pushSource(["if (!",this.lastHelper,") { ",t," = ",this.source.functionCall(i,"call",n),"}"])},appendContent:function(n){this.pendingContent?n=this.pendingContent+n:this.pendingLocation=this.source.currentLocation;this.pendingContent=n},append:function(){if(this.isInline())this.replaceStack(function(n){return[" != null ? ",n,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var n=this.popStack();this.pushSource(["if (",n," != null) { ",this.appendToBuffer(n,undefined,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",undefined,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(n){this.lastContext=n},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(n,t,i,r){var u=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(n[u++]));this.resolvePath("context",n,u,t,i)},lookupBlockParam:function(n,t){this.useBlockParams=!0;this.push(["blockParams[",n[0],"][",n[1],"]"]);this.resolvePath("context",t,1)},lookupData:function(n,t,i){n?this.pushStackLiteral("container.data(data, "+n+")"):this.pushStackLiteral("data");this.resolvePath("data",t,0,!0,i)},resolvePath:function(n,t,i,r,u){var e=this,f;if(this.options.strict||this.options.assumeObjects){this.push(a(this.options.strict&&u,this,t,n));return}for(f=t.length;i<f;i++)this.replaceStack(function(u){var f=e.nameLookup(u,t[i],n);return r?[" && ",f]:[" != null ? ",f," : ",u]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(n,t){this.pushContext();this.pushString(t);t!=="SubExpression"&&(typeof n=="string"?this.pushString(n):this.pushStackLiteral(n))},emptyHash:function(n){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(n?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var n=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(n.ids));this.stringParams&&(this.push(this.objectLiteral(n.contexts)),this.push(this.objectLiteral(n.types)));this.push(this.objectLiteral(n.values))},pushString:function(n){this.pushStackLiteral(this.quotedString(n))},pushLiteral:function(n){this.pushStackLiteral(n)},pushProgram:function(n){n!=null?this.pushStackLiteral(this.programExpression(n)):this.pushStackLiteral(null)},registerDecorator:function(n,t){var i=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,n);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(n,t,i){var f=this.popStack(),u=this.setupHelper(n,t),e=i?[u.name," || "]:"",r=["("].concat(e,f);this.options.strict||r.push(" || ",this.aliasable("helpers.helperMissing"));r.push(")");this.push(this.source.functionCall(r,"call",u.callParams))},invokeKnownHelper:function(n,t){var i=this.setupHelper(n,t);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(n,t){var u;this.useRegister("helper");u=this.popStack();this.emptyHash();var i=this.setupHelper(0,n,t),f=this.lastHelper=this.nameLookup("helpers",n,"helper"),r=["(","(helper = ",f," || ",u,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(n,t,i){var u=[],r=this.setupParams(t,1,u);n&&(t=this.popStack(),delete r.name);i&&(r.indent=JSON.stringify(i));r.helpers="helpers";r.partials="partials";r.decorators="container.decorators";n?u.unshift(t):u.unshift(this.nameLookup("partials",t,"partial"));this.options.compat&&(r.depths="depths");r=this.objectLiteral(r);u.push(r);this.push(this.source.functionCall("container.invokePartial","",u))},assignToHash:function(n){var f=this.popStack(),i=undefined,r=undefined,u=undefined,t;this.trackIds&&(u=this.popStack());this.stringParams&&(r=this.popStack(),i=this.popStack());t=this.hash;i&&(t.contexts[n]=i);r&&(t.types[n]=r);u&&(t.ids[n]=u);t.values[n]=f},pushId:function(n,t,i){n==="BlockParam"?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):n==="PathExpression"?this.pushString(t):n==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(n,t){for(var e=n.children,i=undefined,u=undefined,r,f=0,o=e.length;f<o;f++)i=e[f],u=new this.compiler,r=this.matchExistingProgram(i),r==null?(this.context.programs.push(""),r=this.context.programs.length,i.index=r,i.name="program"+r,this.context.programs[r]=u.compile(i,t,this.context,!this.precompile),this.context.decorators[r]=u.decorators,this.context.environments[r]=i,this.useDepths=this.useDepths||u.useDepths,this.useBlockParams=this.useBlockParams||u.useBlockParams):(i.index=r,i.name="program"+r,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)},matchExistingProgram:function(n){for(var i,t=0,r=this.context.environments.length;t<r;t++)if(i=this.context.environments[t],i&&i.equals(n))return t},programExpression:function(n){var i=this.environment.children[n],t=[i.index,"data",i.blockParams];return(this.useBlockParams||this.useDepths)&&t.push("blockParams"),this.useDepths&&t.push("depths"),"container.program("+t.join(", ")+")"},useRegister:function(n){this.registers[n]||(this.registers[n]=!0,this.registers.list.push(n))},push:function(n){return n instanceof u||(n=this.source.wrap(n)),this.inlineStack.push(n),n},pushStackLiteral:function(n){this.push(new u(n))},pushSource:function(n){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=undefined);n&&this.source.push(n)},replaceStack:function(n){var r=["("],t=undefined,e=undefined,o=undefined,i,s,h;if(!this.isInline())throw new f["default"]("replaceStack on non-inline");i=this.popStack(!0);i instanceof u?(t=[i.value],r=["(",t],o=!0):(e=!0,s=this.incrStack(),r=["((",this.push(s)," = ",i,")"],t=this.topStack());h=n.call(this,t);o||this.popStack();e&&this.stackSlot--;this.push(r.concat(h,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var r=this.inlineStack,n,f,t,i;for(this.inlineStack=[],n=0,f=r.length;n<f;n++)t=r[n],t instanceof u?this.compileStack.push(t):(i=this.incrStack(),this.pushSource([i," = ",t,";"]),this.compileStack.push(i))},isInline:function(){return this.inlineStack.length},popStack:function(n){var i=this.isInline(),t=(i?this.inlineStack:this.compileStack).pop();if(!n&&t instanceof u)return t.value;if(!i){if(!this.stackSlot)throw new f["default"]("Invalid stack pop");this.stackSlot--}return t},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return n instanceof u?n.value:n},contextName:function(n){return this.useDepths&&n?"depths["+n+"]":"depth"+n},quotedString:function(n){return this.source.quotedString(n)},objectLiteral:function(n){return this.source.objectLiteral(n)},aliasable:function(n){var t=this.aliases[n];return t?(t.referenceCount++,t):(t=this.aliases[n]=this.source.wrap(n),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(n,t,i){var r=[],u=this.setupHelperArgs(t,n,r,i),f=this.nameLookup("helpers",t,"helper"),e=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:r,paramsInit:u,name:f,callParams:[e].concat(r)}},setupParams:function(n,t,i){var r={},o=[],s=[],h=[],c=!i,l=undefined,f,e,u;for(c&&(i=[]),r.name=this.quotedString(n),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack()),f=this.popStack(),e=this.popStack(),(e||f)&&(r.fn=e||"container.noop",r.inverse=f||"container.noop"),u=t;u--;)l=this.popStack(),i[u]=l,this.trackIds&&(h[u]=this.popStack()),this.stringParams&&(s[u]=this.popStack(),o[u]=this.popStack());return c&&(r.args=this.source.generateArray(i)),this.trackIds&&(r.ids=this.source.generateArray(h)),this.stringParams&&(r.types=this.source.generateArray(s),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(n,t,i,r){var u=this.setupParams(n,t,i);return u=this.objectLiteral(u),r?(this.useRegister("options"),i.push("options"),["options=",u]):i?(i.push(u),""):u}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),u=r.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)u[t[n]]=!0}();r.isValidJavaScriptVariableName=function(n){return!r.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)};t["default"]=r;n.exports=t["default"]},function(n,t,i){"use strict";function f(n,t,i){var f,r,e;if(u.isArray(n)){for(f=[],r=0,e=n.length;r<e;r++)f.push(t.wrap(n[r],i));return f}return typeof n=="boolean"||typeof n=="number"?n+"":n}function o(n){this.srcFile=n;this.source=[]}var u,r,e;t.__esModule=!0;u=i(5);r=undefined;try{!1&&(e=require("source-map"),r=e.SourceNode)}catch(s){}r||(r=function(n,t,i,r){this.src="";r&&this.add(r)},r.prototype={add:function(n){u.isArray(n)&&(n=n.join(""));this.src+=n},prepend:function(n){u.isArray(n)&&(n=n.join(""));this.src=n+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});o.prototype={isEmpty:function(){return!this.source.length},prepend:function(n,t){this.source.unshift(this.wrap(n,t))},push:function(n,t){this.source.push(this.wrap(n,t))},merge:function(){var n=this.empty();return this.each(function(t){n.add(["  ",t,"\n"])}),n},each:function(n){for(var t=0,i=this.source.length;t<i;t++)n(this.source[t])},empty:function(){var n=this.currentLocation||{start:{}};return new r(n.start.line,n.start.column,this.srcFile)},wrap:function(n){var t=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];return n instanceof r?n:(n=f(n,this,t),new r(t.start.line,t.start.column,this.srcFile,n))},functionCall:function(n,t,i){return i=this.generateList(i),this.wrap([n,t?"."+t+"(":"(",i,")"])},quotedString:function(n){return'"'+(n+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(n){var u=[],t,r,i;for(t in n)n.hasOwnProperty(t)&&(r=f(n[t],this),r!=="undefined"&&u.push([this.quotedString(t),":",r]));return i=this.generateList(u),i.prepend("{"),i.add("}"),i},generateList:function(n){for(var i=this.empty(),t=0,r=n.length;t<r;t++)t&&i.add(","),i.add(f(n[t],this));return i},generateArray:function(n){var t=this.generateList(n);return t.prepend("["),t.add("]"),t}};t["default"]=o;n.exports=t["default"]}])});Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var t=Date,n=t.prototype,i=t.CultureInfo,r=function(n,t){return t||(t=2),("000"+n).slice(t*-1)},f,u,e;n.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this};n.setTimeToNow=function(){var n=new Date;return this.setHours(n.getHours()),this.setMinutes(n.getMinutes()),this.setSeconds(n.getSeconds()),this.setMilliseconds(n.getMilliseconds()),this};t.today=function(){return(new Date).clearTime()};t.compare=function(n,t){if(isNaN(n)||isNaN(t))throw new Error(n+" - "+t);else{if(n instanceof Date&&t instanceof Date)return n<t?-1:n>t?1:0;throw new TypeError(n+" - "+t);}};t.equals=function(n,t){return n.compareTo(t)===0};t.getDayNumberFromName=function(n){for(var u=i.dayNames,f=i.abbreviatedDayNames,e=i.shortestDayNames,r=n.toLowerCase(),t=0;t<u.length;t++)if(u[t].toLowerCase()==r||f[t].toLowerCase()==r||e[t].toLowerCase()==r)return t;return-1};t.getMonthNumberFromName=function(n){for(var r=i.monthNames,f=i.abbreviatedMonthNames,u=n.toLowerCase(),t=0;t<r.length;t++)if(r[t].toLowerCase()==u||f[t].toLowerCase()==u)return t;return-1};t.isLeapYear=function(n){return n%4==0&&n%100!=0||n%400==0};t.getDaysInMonth=function(n,i){return[31,t.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][i]};t.getTimezoneAbbreviation=function(n){for(var r=i.timezones,t=0;t<r.length;t++)if(r[t].offset===n)return r[t].name;return null};t.getTimezoneOffset=function(n){for(var r=i.timezones,t=0;t<r.length;t++)if(r[t].name===n.toUpperCase())return r[t].offset;return null};n.clone=function(){return new Date(this.getTime())};n.compareTo=function(n){return Date.compare(this,n)};n.equals=function(n){return Date.equals(this,n||new Date)};n.between=function(n,t){return this.getTime()>=n.getTime()&&this.getTime()<=t.getTime()};n.isAfter=function(n){return this.compareTo(n||new Date)===1};n.isBefore=function(n){return this.compareTo(n||new Date)===-1};n.isToday=function(){return this.isSameDay(new Date)};n.isSameDay=function(n){return this.clone().clearTime().equals(n.clone().clearTime())};n.addMilliseconds=function(n){return this.setMilliseconds(this.getMilliseconds()+n),this};n.addSeconds=function(n){return this.addMilliseconds(n*1e3)};n.addMinutes=function(n){return this.addMilliseconds(n*6e4)};n.addHours=function(n){return this.addMilliseconds(n*36e5)};n.addDays=function(n){return this.setDate(this.getDate()+n),this};n.addWeeks=function(n){return this.addDays(n*7)};n.addMonths=function(n){var i=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+n),this.setDate(Math.min(i,t.getDaysInMonth(this.getFullYear(),this.getMonth()))),this};n.addYears=function(n){return this.addMonths(n*12)};n.add=function(n){if(typeof n=="number")return this._orient=n,this;var t=n;return t.milliseconds&&this.addMilliseconds(t.milliseconds),t.seconds&&this.addSeconds(t.seconds),t.minutes&&this.addMinutes(t.minutes),t.hours&&this.addHours(t.hours),t.weeks&&this.addWeeks(t.weeks),t.months&&this.addMonths(t.months),t.years&&this.addYears(t.years),t.days&&this.addDays(t.days),this};n.getWeek=function(){var n,i,r,l,h,o,c,s,t,a;return f=f?f:this.getFullYear(),u=u?u:this.getMonth()+1,e=e?e:this.getDate(),u<=2?(n=f-1,i=(n/4|0)-(n/100|0)+(n/400|0),r=((n-1)/4|0)-((n-1)/100|0)+((n-1)/400|0),t=i-r,h=0,o=e-1+31*(u-1)):(n=f,i=(n/4|0)-(n/100|0)+(n/400|0),r=((n-1)/4|0)-((n-1)/100|0)+((n-1)/400|0),t=i-r,h=t+1,o=e+(153*(u-3)+2)/5+58+t),c=(n+i)%7,l=(o+c-h)%7,s=o+3-l|0,a=s<0?53-((c-t)/5|0):s>364+t?1:(s/7|0)+1,f=u=e=null,a};n.getISOWeek=function(){return f=this.getUTCFullYear(),u=this.getUTCMonth()+1,e=this.getUTCDate(),r(this.getWeek())};n.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek())};t._validate=function(n,t,i,r){if(typeof n=="undefined")return!1;if(typeof n!="number")throw new TypeError(n+" is not a Number.");else if(n<t||n>i)throw new RangeError(n+" is not a valid value for "+r+".");return!0};t.validateMillisecond=function(n){return t._validate(n,0,999,"millisecond")};t.validateSecond=function(n){return t._validate(n,0,59,"second")};t.validateMinute=function(n){return t._validate(n,0,59,"minute")};t.validateHour=function(n){return t._validate(n,0,23,"hour")};t.validateDay=function(n,i,r){return t._validate(n,1,t.getDaysInMonth(i,r),"day")};t.validateMonth=function(n){return t._validate(n,0,11,"month")};t.validateYear=function(n){return t._validate(n,0,9999,"year")};n.set=function(n){return t.validateMillisecond(n.millisecond)&&this.addMilliseconds(n.millisecond-this.getMilliseconds()),t.validateSecond(n.second)&&this.addSeconds(n.second-this.getSeconds()),t.validateMinute(n.minute)&&this.addMinutes(n.minute-this.getMinutes()),t.validateHour(n.hour)&&this.addHours(n.hour-this.getHours()),t.validateMonth(n.month)&&this.addMonths(n.month-this.getMonth()),t.validateYear(n.year)&&this.addYears(n.year-this.getFullYear()),t.validateDay(n.day,this.getFullYear(),this.getMonth())&&this.addDays(n.day-this.getDate()),n.timezone&&this.setTimezone(n.timezone),n.timezoneOffset&&this.setTimezoneOffset(n.timezoneOffset),n.week&&t._validate(n.week,0,53,"week")&&this.setWeek(n.week),this};n.moveToFirstDayOfMonth=function(){return this.set({day:1})};n.moveToLastDayOfMonth=function(){return this.set({day:t.getDaysInMonth(this.getFullYear(),this.getMonth())})};n.moveToNthOccurrence=function(n,t){var i=0;if(t>0)i=t-1;else if(t===-1)return this.moveToLastDayOfMonth(),this.getDay()!==n&&this.moveToDayOfWeek(n,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(n,1).addWeeks(i)};n.moveToDayOfWeek=function(n,t){var i=(n-this.getDay()+7*(t||1))%7;return this.addDays(i===0?i+=7*(t||1):i)};n.moveToMonth=function(n,t){var i=(n-this.getMonth()+12*(t||1))%12;return this.addMonths(i===0?i+=12*(t||1):i)};n.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1};n.getTimezone=function(){return t.getTimezoneAbbreviation(this.getUTCOffset())};n.setTimezoneOffset=function(n){var t=this.getTimezoneOffset(),i=Number(n)*-6/10;return this.addMinutes(i-t)};n.setTimezone=function(n){return this.setTimezoneOffset(t.getTimezoneOffset(n))};n.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};n.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};n.getUTCOffset=function(){var t=this.getTimezoneOffset()*-10/6,n;return t<0?(n=(t-1e4).toString(),n.charAt(0)+n.substr(2)):(n=(t+1e4).toString(),"+"+n.substr(1))};n.getElapsed=function(n){return(n||new Date)-this};n.toISOString||(n.toISOString=function(){function n(n){return n<10?"0"+n:n}return'"'+this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+'Z"'});n._toString=n.toString;n.toString=function(n){var t=this,u,f;if(n&&n.length==1){u=i.formatPatterns;t.t=t.toString;switch(n){case"d":return t.t(u.shortDate);case"D":return t.t(u.longDate);case"F":return t.t(u.fullDateTime);case"m":return t.t(u.monthDay);case"r":return t.t(u.rfc1123);case"s":return t.t(u.sortableDateTime);case"t":return t.t(u.shortTime);case"T":return t.t(u.longTime);case"u":return t.t(u.universalSortableDateTime);case"y":return t.t(u.yearMonth)}}return f=function(n){switch(n*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},n?n.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(n){if(n.charAt(0)==="\\")return n.replace("\\","");t.h=t.getHours;switch(n){case"hh":return r(t.h()<13?t.h()===0?12:t.h():t.h()-12);case"h":return t.h()<13?t.h()===0?12:t.h():t.h()-12;case"HH":return r(t.h());case"H":return t.h();case"mm":return r(t.getMinutes());case"m":return t.getMinutes();case"ss":return r(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return r(t.getFullYear(),4);case"yy":return r(t.getFullYear());case"dddd":return i.dayNames[t.getDay()];case"ddd":return i.abbreviatedDayNames[t.getDay()];case"dd":return r(t.getDate());case"d":return t.getDate();case"MMMM":return i.monthNames[t.getMonth()];case"MMM":return i.abbreviatedMonthNames[t.getMonth()];case"MM":return r(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.h()<12?i.amDesignator.substring(0,1):i.pmDesignator.substring(0,1);case"tt":return t.h()<12?i.amDesignator:i.pmDesignator;case"S":return f(t.getDate());default:return n}}):this._toString()}}(),function(){var t=Date,n=t.prototype,d=t.CultureInfo,u=Number.prototype,y,p,i,w,b,r,l,k,c,a,h;n._orient=1;n._nth=null;n._is=!1;n._same=!1;n._isSecond=!1;u._dateElement="day";n.next=function(){return this._orient=1,this};t.next=function(){return t.today().next()};n.last=n.prev=n.previous=function(){return this._orient=-1,this};t.last=t.prev=t.previous=function(){return t.today().last()};n.is=function(){return this._is=!0,this};n.same=function(){return this._same=!0,this._isSecond=!1,this};n.today=function(){return this.same().day()};n.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};n.at=function(n){return typeof n=="string"?t.parse(this.toString("d")+" "+n):this.set(n)};u.fromNow=u.after=function(n){var t={};return t[this._dateElement]=this,(n?n.clone():new Date).add(t)};u.ago=u.before=function(n){var t={};return t[this._dateElement]=this*-1,(n?n.clone():new Date).add(t)};var f="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),e="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),g="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),v="final first second third fourth fifth".split(/\s/),s;for(n.toObject=function(){for(var t={},n=0;n<o.length;n++)t[o[n].toLowerCase()]=this["get"+g[n]]();return t},t.fromObject=function(n){return n.week=null,Date.today().set(n)},y=function(n){return function(){var r,i;if(this._is)return this._is=!1,this.getDay()==n;if(this._nth!==null){if(this._isSecond&&this.addSeconds(this._orient*-1),this._isSecond=!1,r=this._nth,this._nth=null,i=this.clone().moveToLastDayOfMonth(),this.moveToNthOccurrence(n,r),this>i)throw new RangeError(t.getDayName(n)+" does not occur "+r+" times in the month of "+t.getMonthName(i.getMonth())+" "+i.getFullYear()+".");return this}return this.moveToDayOfWeek(n,this._orient)}},p=function(n){return function(){var i=t.today(),r=n-i.getDay();return n===0&&d.firstDayOfWeek===1&&i.getDay()!==0&&(r=r+7),i.addDays(r)}},i=0;i<f.length;i++)t[f[i].toUpperCase()]=t[f[i].toUpperCase().substring(0,3)]=i,t[f[i]]=t[f[i].substring(0,3)]=p(i),n[f[i]]=n[f[i].substring(0,3)]=y(i);for(w=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},b=function(n){return function(){return t.today().set({month:n,day:1})}},r=0;r<e.length;r++)t[e[r].toUpperCase()]=t[e[r].toUpperCase().substring(0,3)]=r,t[e[r]]=t[e[r].substring(0,3)]=b(r),n[e[r]]=n[e[r].substring(0,3)]=w(r);for(l=function(n){return function(){var i;if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var r=this.toObject(),u=(arguments[0]||new Date).toObject(),t="",f=n.toLowerCase();for(i=o.length-1;i>-1;i--){if(t=o[i].toLowerCase(),r[t]!=u[t])return!1;if(f==t)break}return!0}return n.substring(n.length-1)!="s"&&(n+="s"),this["add"+n](this._orient)}},k=function(n){return function(){return this._dateElement=n,this}},c=0;c<o.length;c++)s=o[c].toLowerCase(),n[s]=n[s+"s"]=l(o[c]),u[s]=u[s+"s"]=k(s);for(n._ss=l("Second"),a=function(n){return function(t){return this._same?this._ss(arguments[0]):t||t===0?this.moveToNthOccurrence(t,n):(this._nth=n,n===2&&(t===undefined||t===null))?(this._isSecond=!0,this.addSeconds(this._orient)):this}},h=0;h<v.length;h++)n[v[h]]=h===0?a(-1):a(h)}(),function(){var i,o,f,u;Date.Parsing={Exception:function(n){this.message="Parse error at '"+n.substring(0,10)+" ...'"}};var t=Date.Parsing,n=t.Operators={rtoken:function(n){return function(i){var r=i.match(n);if(r)return[r[0],i.substring(r[0].length)];throw new t.Exception(i);}},token:function(){return function(t){return n.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return n.rtoken(new RegExp("^"+t))},until:function(n){return function(t){for(var r=[],i=null;t.length;){try{i=n.call(this,t)}catch(u){r.push(i[0]);t=i[1];continue}break}return[r,t]}},many:function(n){return function(t){for(var i=[],r=null;t.length;){try{r=n.call(this,t)}catch(u){return[i,t]}i.push(r[0]);t=r[1]}return[i,t]}},optional:function(n){return function(t){var i=null;try{i=n.call(this,t)}catch(r){return[null,t]}return[i[0],i[1]]}},not:function(n){return function(i){try{n.call(this,i)}catch(r){return[null,i]}throw new t.Exception(i);}},ignore:function(n){return n?function(t){var i=null;return i=n.call(this,t),[null,i[1]]}:null},product:function(){for(var i=arguments[0],u=Array.prototype.slice.call(arguments,1),r=[],t=0;t<i.length;t++)r.push(n.each(i[t],u));return r},cache:function(n){var r={},i=null;return function(u){try{i=r[u]=r[u]||n.call(this,u)}catch(f){i=r[u]=f}if(i instanceof t.Exception)throw i;else return i}},any:function(){var n=arguments;return function(i){for(var u=null,r=0;r<n.length;r++)if(n[r]!=null){try{u=n[r].call(this,i)}catch(f){u=null}if(u)return u}throw new t.Exception(i);}},each:function(){var n=arguments;return function(i){for(var f=[],u=null,r=0;r<n.length;r++)if(n[r]!=null){try{u=n[r].call(this,i)}catch(e){throw new t.Exception(i);}f.push(u[0]);i=u[1]}return[f,i]}},all:function(){var t=arguments,n=n;return n.each(n.optional(t))},sequence:function(i,r,u){return(r=r||n.rtoken(/^\s*/),u=u||null,i.length==1)?i[0]:function(n){for(var f=null,e=null,s=[],o=0;o<i.length;o++){try{f=i[o].call(this,n)}catch(h){break}s.push(f[0]);try{e=r.call(this,f[1])}catch(c){e=null;break}n=e[1]}if(!f)throw new t.Exception(n);if(e)throw new t.Exception(e[1]);if(u)try{f=u.call(this,f[1])}catch(l){throw new t.Exception(f[1]);}return[s,f?f[1]:n]}},between:function(t,i,u){u=u||t;var f=n.each(n.ignore(t),i,n.ignore(u));return function(n){var t=f.call(this,n);return[[t[0][0],r[0][2]],t[1]]}},list:function(t,i,r){return i=i||n.rtoken(/^\s*/),r=r||null,t instanceof Array?n.each(n.product(t.slice(0,-1),n.ignore(i)),t.slice(-1),n.ignore(r)):n.each(n.many(n.each(t,n.ignore(i))),px,n.ignore(r))},set:function(i,r,u){return r=r||n.rtoken(/^\s*/),u=u||null,function(f){for(var s=null,l=null,h=null,c=null,e=[[],f],o=!1,y,v,a=0;a<i.length;a++){h=null;l=null;s=null;o=i.length==1;try{s=i[a].call(this,f)}catch(p){continue}if(c=[[s[0]],s[1]],s[1].length>0&&!o)try{h=r.call(this,s[1])}catch(w){o=!0}else o=!0;if(o||h[1].length!==0||(o=!0),!o){for(y=[],v=0;v<i.length;v++)a!=v&&y.push(i[v]);l=n.set(y,r).call(this,h[1]);l[0].length>0&&(c[0]=c[0].concat(l[0]),c[1]=l[1])}if(c[1].length<e[1].length&&(e=c),e[1].length===0)break}if(e[0].length===0)return e;if(u){try{h=u.call(this,e[1])}catch(b){throw new t.Exception(e[1]);}e[1]=h[1]}return e}},forward:function(n,t){return function(i){return n[t].call(this,i)}},replace:function(n,t){return function(i){var r=n.call(this,i);return[t,r[1]]}},process:function(n,t){return function(i){var r=n.call(this,i);return[t.call(this,r[0]),r[1]]}},min:function(n,i){return function(r){var u=i.call(this,r);if(u[0].length<n)throw new t.Exception(r);return u}}},s=function(n){return function(){var t=null,u=[],i,r;if(arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),t)for(i=0,r=t.shift();i<r.length;i++)return t.unshift(r[i]),u.push(n.apply(null,t)),t.shift(),u;else return n.apply(null,arguments)}},e="optional not ignore cache".split(/\s/);for(i=0;i<e.length;i++)n[e[i]]=s(n[e[i]]);for(o=function(n){return function(){return arguments[0]instanceof Array?n.apply(null,arguments[0]):n.apply(null,arguments)}},f="each any all".split(/\s/),u=0;u<f.length;u++)n[f[u]]=o(n[f[u]])}(),function(){var r=Date,c=r.prototype,f=r.CultureInfo,h=function(n){for(var i=[],t=0;t<n.length;t++)n[t]instanceof Array?i=i.concat(h(n[t])):n[t]&&i.push(n[t]);return i},e,o,s;r.Grammar={};r.Translator={hour:function(n){return function(){this.hour=Number(n)}},minute:function(n){return function(){this.minute=Number(n)}},second:function(n){return function(){this.second=Number(n)}},meridian:function(n){return function(){this.meridian=n.slice(0,1).toLowerCase()}},timezone:function(n){return function(){var t=n.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=n.toLowerCase()}},day:function(n){var t=n[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(n){return function(){this.month=n.length==3?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(n)/4:Number(n)-1}},year:function(n){return function(){var t=Number(n);this.year=n.length>2?t:t+(t+2e3<f.twoDigitYearMax?2e3:1900)}},rday:function(n){return function(){switch(n){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=!0}}},finishExact:function(n){var t,i,u;for(n=n instanceof Array?n:[n],t=0;t<n.length;t++)n[t]&&n[t].call(this);if(i=new Date,!(this.hour||this.minute)||this.month||this.year||this.day||(this.day=i.getDate()),this.year||(this.year=i.getFullYear()),this.month||this.month===0||(this.month=i.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0)),this.day>r.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");return u=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second),this.timezone?u.set({timezone:this.timezone}):this.timezoneOffset&&u.set({timezoneOffset:this.timezoneOffset}),u},finish:function(n){var s,t,i,o,f,e,u;if(n=n instanceof Array?h(n):[n],n.length===0)return null;for(s=0;s<n.length;s++)typeof n[s]=="function"&&n[s].call(this);if(t=r.today(),!this.now||this.unit||this.operator)this.now&&(t=new Date);else return new Date;return(i=!!(this.days&&this.days!==null||this.orient||this.operator),e=this.orient=="past"||this.operator=="subtract"?-1:1,this.now||"hour minute second".indexOf(this.unit)==-1||t.setTimeToNow(),(this.month||this.month===0)&&"year day hour minute second".indexOf(this.unit)!=-1&&(this.value=this.month+1,this.month=null,i=!0),i||!this.weekday||this.day||this.days||(u=Date[this.weekday](),this.day=u.getDate(),this.month||(this.month=u.getMonth()),this.year=u.getFullYear()),i&&this.weekday&&this.unit!="month"&&(this.unit="day",o=r.getDayNumberFromName(this.weekday)-t.getDay(),f=7,this.days=o?(o+e*f)%f:e*f),this.month&&this.unit=="day"&&this.operator&&(this.value=this.month+1,this.month=null),this.value!=null&&this.month!=null&&this.year!=null&&(this.day=this.value*1),this.month&&!this.day&&this.value&&(t.set({day:this.value*1}),i||(this.day=this.value*1)),this.month||!this.value||this.unit!="month"||this.now||(this.month=this.value,i=!0),i&&(this.month||this.month===0)&&this.unit!="year"&&(this.unit="month",o=this.month-t.getMonth(),f=12,this.months=o?(o+e*f)%f:e*f,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null?this[this.unit+"s"]=this[this.unit+"s"]+(this.operator=="add"?1:-1)+(this.value||0)*e:(this[this.unit+"s"]==null||this.operator!=null)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*e),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0)),!this.weekday||this.day||this.days||(u=Date[this.weekday](),this.day=u.getDate(),u.getMonth()!==t.getMonth()&&(this.month=u.getMonth())),(this.month||this.month===0)&&!this.day&&(this.day=1),!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month)?Date.today().setWeek(this.value):(i&&this.timezone&&this.day&&this.days&&(this.day=this.days),i?t.add(this):t.set(this))}};var t=r.Parsing.Operators,n=r.Grammar,i=r.Translator,u;n.datePartDelimiter=t.rtoken(/^([\s\-\.\,\/\x27]+)/);n.timePartDelimiter=t.stoken(":");n.whiteSpace=t.rtoken(/^\s*/);n.generalDelimiter=t.rtoken(/^(([\s\,]|at|@|on)+)/);e={};n.ctoken=function(n){var r=e[n],i;if(!r){var s=f.regexPatterns,u=n.split(/\s+/),o=[];for(i=0;i<u.length;i++)o.push(t.replace(t.rtoken(s[u[i]]),u[i]));r=e[n]=t.any.apply(null,o)}return r};n.ctoken2=function(n){return t.rtoken(f.regexPatterns[n])};n.h=t.cache(t.process(t.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),i.hour));n.hh=t.cache(t.process(t.rtoken(/^(0[0-9]|1[0-2])/),i.hour));n.H=t.cache(t.process(t.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),i.hour));n.HH=t.cache(t.process(t.rtoken(/^([0-1][0-9]|2[0-3])/),i.hour));n.m=t.cache(t.process(t.rtoken(/^([0-5][0-9]|[0-9])/),i.minute));n.mm=t.cache(t.process(t.rtoken(/^[0-5][0-9]/),i.minute));n.s=t.cache(t.process(t.rtoken(/^([0-5][0-9]|[0-9])/),i.second));n.ss=t.cache(t.process(t.rtoken(/^[0-5][0-9]/),i.second));n.hms=t.cache(t.sequence([n.H,n.m,n.s],n.timePartDelimiter));n.t=t.cache(t.process(n.ctoken2("shortMeridian"),i.meridian));n.tt=t.cache(t.process(n.ctoken2("longMeridian"),i.meridian));n.z=t.cache(t.process(t.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),i.timezone));n.zz=t.cache(t.process(t.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),i.timezone));n.zzz=t.cache(t.process(n.ctoken2("timezone"),i.timezone));n.timeSuffix=t.each(t.ignore(n.whiteSpace),t.set([n.tt,n.zzz]));n.time=t.each(t.optional(t.ignore(t.stoken("T"))),n.hms,n.timeSuffix);n.d=t.cache(t.process(t.each(t.rtoken(/^([0-2]\d|3[0-1]|\d)/),t.optional(n.ctoken2("ordinalSuffix"))),i.day));n.dd=t.cache(t.process(t.each(t.rtoken(/^([0-2]\d|3[0-1])/),t.optional(n.ctoken2("ordinalSuffix"))),i.day));n.ddd=n.dddd=t.cache(t.process(n.ctoken("sun mon tue wed thu fri sat"),function(n){return function(){this.weekday=n}}));n.M=t.cache(t.process(t.rtoken(/^(1[0-2]|0\d|\d)/),i.month));n.MM=t.cache(t.process(t.rtoken(/^(1[0-2]|0\d)/),i.month));n.MMM=n.MMMM=t.cache(t.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),i.month));n.y=t.cache(t.process(t.rtoken(/^(\d\d?)/),i.year));n.yy=t.cache(t.process(t.rtoken(/^(\d\d)/),i.year));n.yyy=t.cache(t.process(t.rtoken(/^(\d\d?\d?\d?)/),i.year));n.yyyy=t.cache(t.process(t.rtoken(/^(\d\d\d\d)/),i.year));u=function(){return t.each(t.any.apply(null,arguments),t.not(n.ctoken2("timeContext")))};n.day=u(n.d,n.dd);n.month=u(n.M,n.MMM);n.year=u(n.yyyy,n.yy);n.orientation=t.process(n.ctoken("past future"),function(n){return function(){this.orient=n}});n.operator=t.process(n.ctoken("add subtract"),function(n){return function(){this.operator=n}});n.rday=t.process(n.ctoken("yesterday tomorrow today now"),i.rday);n.unit=t.process(n.ctoken("second minute hour day week month year"),function(n){return function(){this.unit=n}});n.value=t.process(t.rtoken(/^\d\d?(st|nd|rd|th)?/),function(n){return function(){this.value=n.replace(/\D/g,"")}});n.expression=t.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]);u=function(){return t.set(arguments,n.datePartDelimiter)};n.mdy=u(n.ddd,n.month,n.day,n.year);n.ymd=u(n.ddd,n.year,n.month,n.day);n.dmy=u(n.ddd,n.day,n.month,n.year);n.date=function(t){return(n[f.dateElementOrder]||n.mdy).call(this,t)};n.format=t.process(t.many(t.any(t.process(t.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(n[t])return n[t];throw r.Parsing.Exception(t);}),t.process(t.rtoken(/^[^dMyhHmstz]+/),function(n){return t.ignore(t.stoken(n))}))),function(n){return t.process(t.each.apply(null,n),i.finishExact)});o={};s=function(t){return o[t]=o[t]||n.format(t)[0]};n.formats=function(n){var r,i;if(n instanceof Array){for(r=[],i=0;i<n.length;i++)r.push(s(n[i]));return t.any.apply(null,r)}return s(n)};n._formats=n.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);n._start=t.process(t.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),i.finish);n.start=function(t){try{var i=n._formats.call({},t);if(i[1].length===0)return i}catch(r){}return n._start.call({},t)};r._parse=r.parse;r.parse=function(n){var t=null;if(!n)return null;if(n instanceof Date)return n;try{t=r.Grammar.start.call({},n.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(i){return null}return t[1].length===0?t[0]:null};r.getParseFunction=function(n){var t=r.Grammar.formats(n);return function(n){var i=null;try{i=t.call({},n)}catch(r){return null}return i[1].length===0?i[0]:null}};r.parseExact=function(n,t){return r.getParseFunction(t)(n)}}(),function(n){function r(){var t=u(this);return isNaN(t.datetime)||n(this).text(i(t.datetime)),this}function u(i){if(i=n(i),!i.data("timeago")){i.data("timeago",{datetime:t.datetime(i)});var r=n.trim(i.text());r.length>0&&!(t.isTime(i)&&i.attr("title"))&&i.attr("title",r)}return i.data("timeago")}function i(n){return t.inWords(f(n))}function f(n){return(new Date).getTime()-n.getTime()}n.timeago=function(t){return t instanceof Date?i(t):typeof t=="string"?i(n.timeago.parse(t)):typeof t=="number"?i(new Date(t)):i(n.timeago.datetime(t))};var t=n.timeago;n.extend(n.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function r(r,u){var f=n.isFunction(r)?r(u,t):r,e=i.numbers&&i.numbers[u]||u;return f.replace(/%d/i,e)}var i=this.settings.strings,s=i.prefixAgo,h=i.suffixAgo,l,a;this.settings.allowFuture&&t<0&&(s=i.prefixFromNow,h=i.suffixFromNow);var f=Math.abs(t)/1e3,e=f/60,o=e/60,u=o/24,c=u/365;return l=f<45&&r(i.seconds,Math.round(f))||f<90&&r(i.minute,1)||e<45&&r(i.minutes,Math.round(e))||e<90&&r(i.hour,1)||o<24&&r(i.hours,Math.round(o))||o<42&&r(i.day,1)||u<30&&r(i.days,Math.round(u))||u<45&&r(i.month,1)||u<365&&r(i.months,Math.round(u/30))||c<1.5&&r(i.year,1)||r(i.years,Math.round(c)),a=i.wordSeparator===undefined?" ":i.wordSeparator,n.trim([s,l,h].join(a))},parse:function(t){var i=n.trim(t);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(i)},datetime:function(i){var r=t.isTime(i)?n(i).attr("datetime"):n(i).attr("title");return t.parse(r)},isTime:function(t){return n(t).get(0).tagName.toLowerCase()==="time"}});n.fn.timeago=function(){var n=this,i;return n.each(r),i=t.settings,i.refreshMillis>0&&setInterval(function(){n.each(r)},i.refreshMillis),n};document.createElement("abbr");document.createElement("time")}(jQuery);q=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function w(n){function f(n){var i=n.charCodeAt(0),t;return i!==92?i:(t=n.charAt(1),(i=a[t])?i:"0"<=t&&t<="7"?parseInt(n.substring(1),8):t==="u"||t==="x"?parseInt(n.substring(2),16):n.charCodeAt(1))}function e(n){return n<32?(n<16?"\\x0":"\\x")+n.toString(16):(n=String.fromCharCode(n),(n==="\\"||n==="-"||n==="["||n==="]")&&(n="\\"+n),n)}function h(n){for(var t,s,o=n.substring(1,n.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),n=[],i=[],h=o[0]==="^",r=h?1:0,u=o.length;r<u;++r)t=o[r],/\\[bdsw]/i.test(t)?n.push(t):(t=f(t),r+2<u&&"-"===o[r+1]?(s=f(o[r+2]),r+=2):s=t,i.push([t,s]),s<65||t>122||(s<65||t>90||i.push([Math.max(65,t)|32,Math.min(s,90)|32]),s<97||t>122||i.push([Math.max(97,t)&-33,Math.min(s,122)&-33])));for(i.sort(function(n,t){return n[0]-t[0]||t[1]-n[1]}),o=[],t=[NaN,NaN],r=0;r<i.length;++r)u=i[r],u[0]<=t[1]+1?t[1]=Math.max(t[1],u[1]):o.push(t=u);for(i=["["],h&&i.push("^"),i.push.apply(i,n),r=0;r<o.length;++r)u=o[r],i.push(e(u[0])),u[1]>u[0]&&(u[1]+1>u[0]&&i.push("-"),i.push(e(u[1])));return i.push("]"),i.join("")}function c(n){for(var i,r=n.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),e=r.length,f=[],t=0,u=0;t<e;++t)i=r[t],i==="("?++u:"\\"===i.charAt(0)&&(i=+i.substring(1))&&i<=u&&(f[i]=-1);for(t=1;t<f.length;++t)-1===f[t]&&(f[t]=++l);for(u=t=0;t<e;++t)i=r[t],i==="("?(++u,f[u]===void 0&&(r[t]="(?:")):"\\"===i.charAt(0)&&(i=+i.substring(1))&&i<=u&&(r[t]="\\"+f[u]);for(u=t=0;t<e;++t)"^"===r[t]&&"^"!==r[t+1]&&(r[t]="");if(n.ignoreCase&&o)for(t=0;t<e;++t)i=r[t],n=i.charAt(0),i.length>=2&&n==="["?r[t]=h(i):n!=="\\"&&(r[t]=i.replace(/[A-Za-z]/g,function(n){return n=n.charCodeAt(0),"["+String.fromCharCode(n&-33,n|32)+"]"}));return r.join("")}for(var t,l=0,o=!1,r=!1,i=0,u=n.length;i<u;++i)if(t=n[i],t.ignoreCase)r=!0;else if(/[a-z]/i.test(t.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){o=!0;r=!1;break}for(var a={b:8,t:9,n:10,v:11,f:12,r:13},s=[],i=0,u=n.length;i<u;++i){if(t=n[i],t.global||t.multiline)throw Error(""+t);s.push("(?:"+c(t)+")")}return RegExp(s.join("|"),r?"gi":"g")}function b(n){function e(n){switch(n.nodeType){case 1:if(s.test(n.className))break;for(var r=n.firstChild;r;r=r.nextSibling)e(r);r=n.nodeName;("BR"===r||"LI"===r)&&(u[t]="\n",i[t<<1]=f++,i[t++<<1|1]=n);break;case 3:case 4:r=n.nodeValue;r.length&&(r=o?r.replace(/\r\n?/g,"\n"):r.replace(/[\t\n\r ]+/g," "),u[t]=r,i[t<<1]=f,f+=r.length,i[t++<<1|1]=n)}}var s=/(?:^|\s)nocode(?:\s|$)/,u=[],f=0,i=[],t=0,r,o;return n.currentStyle?r=n.currentStyle.whiteSpace:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(n,q).getPropertyValue("white-space")),o=r&&"pre"===r.substring(0,3),e(n),{a:u.join("").replace(/\n$/,""),c:i}}function e(n,t,i,r){t&&(n={a:t,d:n},i(n),r.push.apply(r,n.e))}function r(n,t){function i(n){for(var c,p,w,v=n.d,y=[v,"pln"],k=0,d=n.a.match(u)||[],g={},b=0,nt=d.length;b<nt;++b){var l=d[b],h=g[l],a=void 0,o;if(typeof h=="string")o=!1;else{if(c=r[l.charAt(0)],c)a=l.match(c[1]),h=c[0];else{for(o=0;o<f;++o)if(c=t[o],a=l.match(c[1])){h=c[0];break}a||(h="pln")}!(o=h.length>=5&&"lang-"===h.substring(0,5))||a&&typeof a[1]=="string"||(o=!1,h="src");o||(g[l]=h)}c=k;k+=l.length;o?(o=a[1],p=l.indexOf(o),w=p+o.length,a[2]&&(w=l.length-a[2].length,p=w-o.length),h=h.substring(5),e(v+c,l.substring(0,p),i,y),e(v+c+p,o,s(h,o),y),e(v+c+w,l.substring(w),i,y)):y.push(v+c,h)}n.e=y}var r={},u,f;return function(){for(var i,f,s,h=n.concat(t),e=[],c={},o=0,l=h.length;o<l;++o){if(i=h[o],f=i[3],f)for(s=f.length;--s>=0;)r[f.charAt(s)]=i;i=i[1];f=""+i;c.hasOwnProperty(f)||(e.push(i),c[f]=q)}e.push(/[\S\s]/);u=w(e)}(),f=t.length,i}function t(n){var i=[],t=[],u;return n.tripleQuotedStrings?i.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):n.multiLineStrings?i.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):i.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]),n.verbatimStrings&&t.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]),u=n.hashComments,u&&(n.cStyleComments?(u>1?i.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):i.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),t.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):i.push(["com",/^#[^\n\r]*/,q,"#"])),n.cStyleComments&&(t.push(["com",/^\/\/[^\n\r]*/,q]),t.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q])),n.regexLiterals&&t.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(u=n.types)&&t.push(["typ",u]),n=(""+n.keywords).replace(/^ | $/g,""),n.length&&t.push(["kwd",RegExp("^(?:"+n.replace(/[\s,]+/g,"|")+")\\b"),q]),i.push(["pln",/^\s+/,q," \r\n\tÂ "]),t.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]),r(i,t)}function o(n,t){function o(n){var t,i,r;switch(n.nodeType){case 1:if(c.test(n.className))break;if("BR"===n.nodeName)s(n),n.parentNode&&n.parentNode.removeChild(n);else for(n=n.firstChild;n;n=n.nextSibling)o(n);break;case 3:case 4:h&&(t=n.nodeValue,i=t.match(l),i&&(r=t.substring(0,i.index),n.nodeValue=r,(t=t.substring(i.index+i[0].length))&&n.parentNode.insertBefore(f.createTextNode(t),n.nextSibling),s(n),r||n.parentNode.removeChild(n)))}}function s(n){function i(n,t){var e=t?n.cloneNode(!1):n,r=n.parentNode,f,u;if(r)for(r=i(r,1),f=n.nextSibling,r.appendChild(e),u=f;u;u=f)f=u.nextSibling,r.appendChild(u);return e}for(;!n.nextSibling;)if(n=n.parentNode,!n)return;for(var n=i(n.nextSibling,0),t;(t=n.parentNode)&&t.nodeType===1;)n=t;u.push(n)}var c=/(?:^|\s)nocode(?:\s|$)/,l=/\r\n?|\n/,f=n.ownerDocument,i,h,u,r,e;for(n.currentStyle?i=n.currentStyle.whiteSpace:window.getComputedStyle&&(i=f.defaultView.getComputedStyle(n,q).getPropertyValue("white-space")),h=i&&"pre"===i.substring(0,3),i=f.createElement("LI");n.firstChild;)i.appendChild(n.firstChild);for(u=[i],r=0;r<u.length;++r)o(u[r]);t===(t|0)&&u[0].setAttribute("value",t);e=f.createElement("OL");e.className="linenums";for(var a=Math.max(0,t-1|0)||0,r=0,v=u.length;r<v;++r)i=u[r],i.className="L"+(r+a)%10,i.firstChild||i.appendChild(f.createTextNode("Â ")),e.appendChild(i);n.appendChild(e)}function n(n,t){for(var i,r=t.length;--r>=0;)i=t[r],f.hasOwnProperty(i)?window.console&&console.warn("cannot override language handler %s",i):f[i]=n}function s(n,t){return n&&f.hasOwnProperty(n)||(n=/^\s*</.test(t)?"default-markup":"default-code"),f[n]}function h(n){var p=n.g,r,u,f,i,d,c,g;try{r=b(n.h);u=r.a;n.a=u;n.c=r.c;n.d=0;s(p,u)(n);var it=/\bMSIE\b/.test(navigator.userAgent),p=/\n/g,w=n.a,k=w.length,r=0,l=n.c,rt=l.length,u=0,t=n.e,h=t.length,n=0;for(t[h]=k,i=f=0;i<h;)t[i]!==t[i+2]?(t[f++]=t[i++],t[f++]=t[i++]):i+=2;for(h=f,i=f=0;i<h;){for(var ut=t[i],nt=t[i+1],e=i+2;e+2<=h&&t[e+1]===nt;)e+=2;t[f++]=ut;t[f++]=nt;i=e}for(t.length=f;u<rt;){var a=l[u+2]||k,tt=t[n+2]||k,e=Math.min(a,tt),o=l[u+1],v;o.nodeType!==1&&(v=w.substring(r,e))&&(it&&(v=v.replace(p,"\r")),o.nodeValue=v,d=o.ownerDocument,c=d.createElement("SPAN"),c.className=t[n+1],g=o.parentNode,g.replaceChild(c,o),c.appendChild(o),r<a&&(l[u+1]=o=d.createTextNode(w.substring(e,a)),g.insertBefore(o,c.nextSibling)));r=e;r>=a&&(u+=2);r>=tt&&(n+=2)}}catch(y){"console"in window&&console.log(y&&y.stack?y.stack:y)}}var i=["break,continue,do,else,for,if,return,while"],u=[[i,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],c=[u,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],l=[u,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],a=[l,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],u=[u,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],v=[i,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],y=[i,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],i=[i,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],p=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,k=/\S/,d=t({keywords:[c,a,u,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+v,y,i],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),f={};n(d,["default-code"]);n(r([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);n(r([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);n(r([],[["atv",/^[\S\s]+/]]),["uq.val"]);n(t({keywords:c,hashComments:!0,cStyleComments:!0,types:p}),["c","cc","cpp","cxx","cyc","m"]);n(t({keywords:"null,true,false"}),["json"]);n(t({keywords:a,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:p}),["cs"]);n(t({keywords:l,cStyleComments:!0}),["java"]);n(t({keywords:i,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);n(t({keywords:v,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);n(t({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);n(t({keywords:y,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);n(t({keywords:u,cStyleComments:!0,regexLiterals:!0}),["js"]);n(t({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);n(r([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(n,t,i){var r=document.createElement("PRE");return r.innerHTML=n,i&&o(r,i),h({g:t,i:i,h:r}),r.innerHTML};window.prettyPrint=function(n){function c(){for(var l,e,y,t,v,p,f,w=window.PR_SHOULD_USE_CONTINUATION?i.now()+250:Infinity;r<u.length&&i.now()<w;r++)if(l=u[r],e=l.className,e.indexOf("prettyprint")>=0){if(e=e.match(s),t=!e){for(t=l,f=void 0,v=t.firstChild;v;v=v.nextSibling)p=v.nodeType,f=p===1?f?t:v:p===3?k.test(v.nodeValue)?t:f:f;t=(y=f===t?void 0:f)&&"CODE"===y.tagName}for(t&&(e=y.className.match(s)),e&&(e=e[1]),t=!1,f=l.parentNode;f;f=f.parentNode)if((f.tagName==="pre"||f.tagName==="code"||f.tagName==="xmp")&&f.className&&f.className.indexOf("prettyprint")>=0){t=!0;break}t||((t=(t=l.className.match(/\blinenums\b(?::(\d+))?/))?t[1]&&t[1].length?+t[1]:!0:!1)&&o(l,t),a={g:e,h:l,i:t},h(a))}r<u.length?setTimeout(c,250):n&&n()}for(var e,l,i,r,a,s,t=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],u=[],f=0;f<t.length;++f)for(e=0,l=t[f].length;e<l;++e)u.push(t[f][e]);t=q;i=Date;i.now||(i={now:function(){return+new Date}});r=0;s=/\blang(?:uage)?-([\w.]+)(?!\S)/;c()};window.PR={createSimpleLexer:r,registerLangHandler:n,sourceDecorator:t,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}();jQuery.cookie=function(n,t,i){var u,r,f,e;return arguments.length>1&&(t===null||typeof t!="object")?(i=jQuery.extend({},i),t===null&&(i.expires=-1),typeof i.expires=="number"&&(u=i.expires,r=i.expires=new Date,r.setDate(r.getDate()+u)),document.cookie=[encodeURIComponent(n),"=",i.raw?String(t):encodeURIComponent(String(t)),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")):(i=t||{},e=i.raw?function(n){return n}:decodeURIComponent,(f=new RegExp("(?:^|; )"+encodeURIComponent(n)+"=([^;]*)").exec(document.cookie))?e(f[1]):null)},function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},t=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};(function(i){var r;return i.fn.pagination=function(n){return this.each(function(){return new r(i(this),n).render()})},r=function(){function r(t,r){var u;if(this.el=t,this.change=n(this.change,this),this.clicked=n(this.clicked,this),this.isValidPage=n(this.isValidPage,this),this.render=n(this.render,this),this.pages=n(this.pages,this),this.buildLink=n(this.buildLink,this),this.buildLi=n(this.buildLi,this),this.buildLinks=n(this.buildLinks,this),u={current_page:1,total_pages:1,next:"&gt;",prev:"&lt;",first:!1,last:!1,display_max:8,ignore_single_page:!0,no_turbolink:!1},this.settings=i.extend(u,r),i(document).on)i(this.el).on("click","a",this.clicked);else i("a",this.el).live("click",this.clicked);this.el.data("paginationView",this)}return r.prototype.buildLinks=function(){var i,n,r,t,f,u;for(i=this.settings.current_page,n=[],this.settings.first&&n.push(this.buildLi(1,this.settings.first)),this.settings.prev&&n.push(this.buildLi(i-1,this.settings.prev)),u=this.pages(),t=0,f=u.length;t<f;t++)r=u[t],n.push(this.buildLi(r,r));return this.settings.next&&n.push(this.buildLi(i+1,this.settings.next)),this.settings.last&&n.push(this.buildLi(this.settings.total_pages,this.settings.last)),n},r.prototype.buildLi=function(n,t){return t==null&&(t=n),"<li>"+this.buildLink(n,t)+"<\/li>"},r.prototype.buildLink=function(n,t){var i;return t==null&&(t=n),i=this.settings.no_turbolink?" data-no-turbolink='1'":"",n==0||n!=t?"<a href='#' data-page='"+n+"'"+i+">"+t+"<\/a>":"<a href='#' aria-label= '"+window.ResourceManager.Pagination_Shortname+" "+n+"' data-page='"+n+"'"+i+">"+t+"<\/a>"},r.prototype.pages=function(){var v,e,f,r,u,n,o,s,h,c,l,y,p,w,a;if(n=this.settings.total_pages,e=this.settings.current_page,u=[],f=this.settings.display_max,n>10){if(u.push(1),e>f-1&&u.push(".."),e===n)for(r=o=y=n-f;y<=n?o<=n:o>=n;r=y<=n?++o:--o)u.push(r);if(n-e<f-1)for(r=s=p=n-f;p<=n?s<=n:s>=n;r=p<=n?++s:--s)u.push(r);else if(e>f-1)for(v=f/2,r=h=w=e-v,a=e+v;w<=a?h<=a:h>=a;r=w<=a?++h:--h)u.push(r);else if(e<=f-1)for(r=c=2;2<=f?c<=f:c>=f;r=2<=f?++c:--c)u.push(r);u=i.grep(u,function(n,t){return i.inArray(n,u)===t});t.call(u,n)<0&&(n-e<f-1||u.push(".."),u.push(n))}else for(r=l=1;1<=n?l<=n:l>=n;r=1<=n?++l:--l)u.push(r);return u},r.prototype.render=function(){var n,u,t,f,r;if(this.el.html(""),this.settings.total_pages!==1||!this.settings.ignore_single_page){for(n=["<div class='jquery-bootstrap-pagination'>"],n.push("<ul class='pagination'>"),r=this.buildLinks(),t=0,f=r.length;t<f;t++)u=r[t],n.push(u);return n.push("<\/ul>"),n.push("<\/div>"),this.el.html(n.join("\n")),i("[data-page="+this.settings.current_page+"]",this.el).closest("li").addClass("active"),i("[data-page='..']",this.el).closest("li").addClass("disabled"),i("[data-page='0']",this.el).closest("li").addClass("disabled"),i("[data-page='"+(this.settings.total_pages+1)+"']",this.el).closest("li").addClass("disabled"),this.settings.current_page===1&&this.settings.first&&i("li:first",this.el).removeClass("active").addClass("disabled"),this.settings.current_page===this.settings.total_pages&&this.settings.last?i("li:last",this.el).removeClass("active").addClass("disabled"):void 0}},r.prototype.isValidPage=function(n){return n>0&&n!==this.settings.current_page&&n<=this.settings.total_pages},r.prototype.clicked=function(n){n.stopPropagation();var t;if(t=parseInt(i(n.target).attr("data-page")),this.isValidPage(t))return this.settings.callback!=null&&this.settings.callback(n,t),this.change(t)},r.prototype.change=function(n){if(n=parseInt(n),this.isValidPage(n))return this.settings.current_page=n,this.render()},r}()})(jQuery)}.call(this),function(){"use strict";function n(n){function s(s,h){var rt,ut,p=s==window,l=h&&h.message!==undefined?h.message:undefined,g,k,d,tt,nt,w,b,it,ft,et,at;if(h=n.extend({},n.blockUI.defaults,h||{}),!h.ignoreIfBlocked||!n(s).data("blockUI.isBlocked")){if(h.overlayCSS=n.extend({},n.blockUI.defaults.overlayCSS,h.overlayCSS||{}),rt=n.extend({},n.blockUI.defaults.css,h.css||{}),h.onOverlayClick&&(h.overlayCSS.cursor="pointer"),ut=n.extend({},n.blockUI.defaults.themedCSS,h.themedCSS||{}),l=l===undefined?h.message:l,p&&t&&e(window,{fadeOut:0}),l&&typeof l!="string"&&(l.parentNode||l.jquery)&&(g=l.jquery?l[0]:l,k={},n(s).data("blockUI.history",k),k.el=g,k.parent=g.parentNode,k.display=g.style.display,k.position=g.style.position,k.parent&&k.parent.removeChild(g)),n(s).data("blockUI.onUnblock",h.onUnblock),d=h.baseZ,tt=f||h.forceIframe?n('<iframe class="blockUI" style="z-index:'+d+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+h.iframeSrc+'"><\/iframe>'):n('<div class="blockUI" style="display:none"><\/div>'),nt=h.theme?n('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+d+++';display:none"><\/div>'):n('<div class="blockUI blockOverlay" style="z-index:'+d+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),h.theme&&p?(b='<div class="blockUI '+h.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(d+10)+';display:none;position:fixed">',h.title&&(b+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"<\/div>"),b+='<div class="ui-widget-content ui-dialog-content"><\/div>',b+="<\/div>"):h.theme?(b='<div class="blockUI '+h.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(d+10)+';display:none;position:absolute">',h.title&&(b+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"<\/div>"),b+='<div class="ui-widget-content ui-dialog-content"><\/div>',b+="<\/div>"):b=p?'<div class="blockUI '+h.blockMsgClass+' blockPage" style="z-index:'+(d+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+h.blockMsgClass+' blockElement" style="z-index:'+(d+10)+';display:none;position:absolute"><\/div>',w=n(b),l&&(h.theme?(w.css(ut),w.addClass("ui-widget-content")):w.css(rt)),h.theme||nt.css(h.overlayCSS),nt.css("position",p?"fixed":"absolute"),(f||h.forceIframe)&&tt.css("opacity",0),it=[tt,nt,w],ft=p?n("body"):n(s),n.each(it,function(){this.appendTo(ft)}),h.theme&&h.draggable&&n.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),et=v&&(!n.support.boxModel||n("object,embed",p?null:s).length>0),o||et){if(p&&h.allowBodyStretch&&n.support.boxModel&&n("html,body").css("height","100%"),(o||!n.support.boxModel)&&!p)var ot=r(s,"borderTopWidth"),st=r(s,"borderLeftWidth"),ht=ot?"(0 - "+ot+")":0,ct=st?"(0 - "+st+")":0;n.each(it,function(n,t){var i=t[0].style,r,u;i.position="absolute";n<2?(p?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+h.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),p?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),ct&&i.setExpression("left",ct),ht&&i.setExpression("top",ht)):h.centerY?(p&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0):!h.centerY&&p&&(r=h.css&&h.css.top?parseInt(h.css.top,10):0,u="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"',i.setExpression("top",u))})}if(l&&(h.theme?w.find(".ui-widget-content").append(l):w.append(l),(l.jquery||l.nodeType)&&n(l).show()),(f||h.forceIframe)&&h.showOverlay&&tt.show(),h.fadeIn){var lt=h.onBlock?h.onBlock:u,vt=h.showOverlay&&!l?lt:u,yt=l?lt:u;h.showOverlay&&nt._fadeIn(h.fadeIn,vt);l&&w._fadeIn(h.fadeIn,yt)}else h.showOverlay&&nt.show(),l&&w.show(),h.onBlock&&h.onBlock();c(1,s,h);p?(t=w[0],i=n(":input:enabled:visible",t),h.focusInput&&setTimeout(a,20)):y(w[0],h.centerX,h.centerY);h.timeout&&(at=setTimeout(function(){p?n.unblockUI(h):n(s).unblock(h)},h.timeout),n(s).data("blockUI.timeout",at))}}function e(r,u){var o=r==window,e=n(r),s=e.data("blockUI.history"),l=e.data("blockUI.timeout"),f;l&&(clearTimeout(l),e.removeData("blockUI.timeout"));u=n.extend({},n.blockUI.defaults,u||{});c(0,r,u);u.onUnblock===null&&(u.onUnblock=e.data("blockUI.onUnblock"),e.removeData("blockUI.onUnblock"));f=o?n("body").children().filter(".blockUI").add("body > .blockUI"):e.find(">.blockUI");u.cursorReset&&(f.length>1&&(f[1].style.cursor=u.cursorReset),f.length>2&&(f[2].style.cursor=u.cursorReset));o&&(t=i=null);u.fadeOut?(f.fadeOut(u.fadeOut),setTimeout(function(){h(f,s,u,r)},u.fadeOut)):h(f,s,u,r)}function h(t,i,r,u){var e=n(u);if(t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),e.removeData("blockUI.history")),e.data("blockUI.static")&&e.css("position","static"),typeof r.onUnblock=="function")r.onUnblock(u,r);var f=n(document.body),o=f.width(),s=f[0].style.width;f.width(o-1).width(o);f[0].style.width=s}function c(i,r,u){var e=r==window,o=n(r),f;(i||(!e||t)&&(e||o.data("blockUI.isBlocked")))&&(o.data("blockUI.isBlocked",i),u.bindEvents&&(!i||u.showOverlay))&&(f="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",i?n(document).bind(f,u,l):n(document).unbind(f,l))}function l(r){var u,f;if(r.keyCode&&r.keyCode==9&&t&&r.data.constrainTabKey){var e=i,s=!r.shiftKey&&r.target===e[e.length-1],o=r.shiftKey&&r.target===e[0];if(s||o)return setTimeout(function(){a(o)},10),!1}return(u=r.data,f=n(r.target),f.hasClass("blockOverlay")&&u.onOverlayClick&&u.onOverlayClick(),f.parents("div."+u.blockMsgClass).length>0)?!0:f.parents().children().filter("div.blockUI").length===0}function a(n){if(i){var t=i[n===!0?i.length-1:0];t&&t.focus()}}function y(n,t,i){var u=n.parentNode,f=n.style,e=(u.offsetWidth-n.offsetWidth)/2-r(u,"borderLeftWidth"),o=(u.offsetHeight-n.offsetHeight)/2-r(u,"borderTopWidth");t&&(f.left=e>0?e+"px":"0");i&&(f.top=o>0?o+"px":"0")}function r(t,i){return parseInt(n.css(t,i),10)||0}var t,i;n.fn._fadeIn=n.fn.fadeIn;var u=n.noop||function(){},f=/MSIE/.test(navigator.userAgent),o=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),p=document.documentMode||0,v=n.isFunction(document.createElement("div").style.setExpression);n.blockUI=function(n){s(window,n)};n.unblockUI=function(n){e(window,n)};n.growlUI=function(t,i,r,u){var f=n('<div class="growlUI"><\/div>');t&&f.append("<h1>"+t+"<\/h1>");i&&f.append("<h2>"+i+"<\/h2>");r===undefined&&(r=3e3);n.blockUI({message:f,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:r,showOverlay:!1,onUnblock:u,css:n.blockUI.defaults.growlCSS})};n.fn.block=function(t){var i=n.extend({},n.blockUI.defaults,t||{});return this.each(function(){var t=n(this);i.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){n.css(this,"position")=="static"&&(this.style.position="relative",n(this).data("blockUI.static",!0));this.style.zoom=1;s(this,t)})};n.fn.unblock=function(n){return this.each(function(){e(this,n)})};n.blockUI.version=2.56;n.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};t=null;i=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],n):n(jQuery)}();!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):n("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(n){"use strict";function r(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).ajaxSubmit(i))}function u(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),0===f.length)return;r=f[0]}i=this;(i.clk=r,"image"==r.type)&&(void 0!==t.offsetX?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):"function"==typeof n.fn.offset?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},f;i.fileapi=void 0!==n("<input type='file'/>").get(0).files;i.formdata=void 0!==window.FormData;f=!!n.fn.prop;n.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||"string"==typeof n?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(r){function et(t){for(var f,u=n.param(t,r.traditional).split("&"),o=u.length,e=[],i=0;o>i;i++)u[i]=u[i].replace(/\+/g," "),f=u[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function ot(t){for(var f,u,s,o=new FormData,i=0;i<t.length;i++)o.append(t[i].name,t[i].value);if(r.extraData)for(f=et(r.extraData),i=0;i<f.length;i++)f[i]&&o.append(f[i][0],f[i][1]);return r.data=null,u=n.extend(!0,{},n.ajaxSettings,r,{contentType:!1,processData:!1,cache:!1,type:e||"POST"}),r.uploadProgress&&(u.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,u=n.total;n.lengthComputable&&(t=Math.ceil(i/u*100));r.uploadProgress(n,i,u,t)},!1),t}),u.data=null,s=u.beforeSend,u.beforeSend=function(n,t){t.data=r.formData?r.formData:o;s&&s.call(this,n,t)},n.ajax(u)}function d(i){function ut(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function ft(){function f(){try{var n=ut(a).readyState;t("state = "+n);n&&"uninitialized"==n.toLowerCase()&&setTimeout(f,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(rt);g&&clearTimeout(g);g=void 0}}var s=u.attr2("target"),h=u.attr2("action"),y=u.attr("enctype")||u.attr("encoding")||"multipart/form-data",r,i,c;l.setAttribute("target",d);(!e||/post/i.test(e))&&l.setAttribute("method","POST");h!=o.url&&l.setAttribute("action",o.url);o.skipEncodingOverride||e&&!/post/i.test(e)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&(g=setTimeout(function(){it=!0;b(et)},o.timeout));r=[];try{if(o.extraData)for(i in o.extraData)o.extraData.hasOwnProperty(i)&&r.push(n.isPlainObject(o.extraData[i])&&o.extraData[i].hasOwnProperty("name")&&o.extraData[i].hasOwnProperty("value")?n('<input type="hidden" name="'+o.extraData[i].name+'">').val(o.extraData[i].value).appendTo(l)[0]:n('<input type="hidden" name="'+i+'">').val(o.extraData[i]).appendTo(l)[0]);o.iframeTarget||v.appendTo("body");a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1);setTimeout(f,15);try{l.submit()}catch(p){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",h);l.setAttribute("enctype",y);s?l.setAttribute("target",s):u.removeAttr("target");n(r).remove()}}function b(i){var u,r,w,f,k,d,e,c,l;if(!s.aborted&&!ct){if(h=ut(a),h||(t("cannot access response document"),i=rt),i===et&&s)return s.abort("timeout"),void y.reject(s,"timeout");if(i==rt&&s)return s.abort("server abort"),void y.reject(s,"error","server abort");if(h&&h.location.href!=o.iframeSrc||it){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(it)throw"timeout";if(w="xml"==o.dataType||h.XMLDocument||n.isXMLDoc(h),t("isXml="+w),!w&&window.opera&&(null===h.body||!h.body.innerHTML)&&--lt)return t("requeing onLoad callback, DOM not available"),void setTimeout(b,250);f=h.body?h.body:h.documentElement;s.responseText=f?f.innerHTML:null;s.responseXML=h.XMLDocument?h.XMLDocument:h;w&&(o.dataType="xml");s.getResponseHeader=function(n){var t={"content-type":o.dataType};return t[n.toLowerCase()]};f&&(s.status=Number(f.getAttribute("status"))||s.status,s.statusText=f.getAttribute("statusText")||s.statusText);k=(o.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||o.textarea?(e=h.getElementsByTagName("textarea")[0],e?(s.responseText=e.value,s.status=Number(e.getAttribute("status"))||s.status,s.statusText=e.getAttribute("statusText")||s.statusText):d&&(c=h.getElementsByTagName("pre")[0],l=h.getElementsByTagName("body")[0],c?s.responseText=c.textContent?c.textContent:c.innerText:l&&(s.responseText=l.textContent?l.textContent:l.innerText))):"xml"==k&&!s.responseXML&&s.responseText&&(s.responseXML=at(s.responseText));try{ht=yt(s,k,o)}catch(nt){r="parsererror";s.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";s.error=u=nt||r}s.aborted&&(t("upload aborted"),r=null);s.status&&(r=s.status>=200&&s.status<300||304===s.status?"success":"error");"success"===r?(o.success&&o.success.call(o.context,ht,"success",s),y.resolve(s.responseText,"success",s),p&&n.event.trigger("ajaxSuccess",[s,o])):r&&(void 0===u&&(u=s.statusText),o.error&&o.error.call(o.context,s,r,u),y.reject(s,"error",u),p&&n.event.trigger("ajaxError",[s,o,u]));p&&n.event.trigger("ajaxComplete",[s,o]);p&&!--n.active&&n.event.trigger("ajaxStop");o.complete&&o.complete.call(o.context,s,r);ct=!0;o.timeout&&clearTimeout(g);setTimeout(function(){o.iframeTarget?v.attr("src",o.iframeSrc):v.remove();s.responseXML=null},100)}}}var tt,nt,o,p,d,v,a,s,k,w,it,g,l=u[0],y=n.Deferred();if(y.abort=function(n){s.abort(n)},i)for(nt=0;nt<c.length;nt++)tt=n(c[nt]),f?tt.prop("disabled",!1):tt.removeAttr("disabled");if(o=n.extend(!0,{},n.ajaxSettings,r),o.context=o.context||o,d="jqFormIO"+(new Date).getTime(),o.iframeTarget?(v=n(o.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+o.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r="timeout"===i?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",o.iframeSrc);s.error=r;o.error&&o.error.call(o.context,s,r,i);p&&n.event.trigger("ajaxError",[s,o,r]);o.complete&&o.complete.call(o.context,s,r)}},p=o.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[s,o]),o.beforeSend&&o.beforeSend.call(o.context,s,o)===!1)return o.global&&n.active--,y.reject(),y;if(s.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(o.extraData=o.extraData||{},o.extraData[w]=k.value,"image"==k.type&&(o.extraData[w+".x"]=l.clk_x,o.extraData[w+".y"]=l.clk_y)));var et=1,rt=2,ot=n("meta[name=csrf-token]").attr("content"),st=n("meta[name=csrf-param]").attr("content");st&&ot&&(o.extraData=o.extraData||{},o.extraData[st]=ot);o.forceSync?ft():setTimeout(ft,10);var ht,h,ct,lt=50,at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},vt=n.parseJSON||function(e){return window.eval("("+e+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e="xml"===i||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&"parsererror"===u.documentElement.nodeName&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),"string"==typeof u&&("json"===i||!i&&f.indexOf("json")>=0?u=vt(u):("script"===i||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var e,b,o,u,a,v,y,c,s,l,h,g,nt,tt,p,ft,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(u=this,"function"==typeof r?r={success:r}:void 0===r&&(r={}),e=r.type||this.attr2("method"),b=r.url||this.attr2("action"),o="string"==typeof b?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),r=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:e||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r),a={},this.trigger("form-pre-serialize",[this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=r.traditional,void 0===v&&(v=n.ajaxSettings.traditional),c=[],s=this.formToArray(r.semantic,c),r.data&&(r.extraData=r.data,y=n.param(r.data,v)),r.beforeSubmit&&r.beforeSubmit(s,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[s,this,r,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(s,v);y&&(l=l?l+"&"+y:y);"GET"==r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+l,r.data=null):r.data=l;h=[];(r.resetForm&&h.push(function(){u.resetForm()}),r.clearForm&&h.push(function(){u.clearForm(r.includeHidden)}),!r.dataType&&r.target)?(g=r.success||function(){},h.push(function(t){var i=r.replaceTarget?"replaceWith":"html";n(r.target)[i](t).each(g,arguments)})):r.success&&h.push(r.success);(r.success=function(n,t,i){for(var e=r.context||this,f=0,o=h.length;o>f;f++)h[f].apply(e,[n,t,i||u,u])},r.error)&&(nt=r.error,r.error=function(n,t,i){var f=r.context||this;nt.apply(f,[n,t,i,u])});r.complete&&(tt=r.complete,r.complete=function(n,t){var i=r.context||this;tt.apply(i,[n,t,u])});var st=n("input[type=file]:enabled",this).filter(function(){return""!==n(this).val()}),it=st.length>0,rt="multipart/form-data",ut=u.attr("enctype")==rt||u.attr("encoding")==rt,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),ft=(it||ut)&&!k,r.iframe!==!1&&(r.iframe||ft)?r.closeKeepAlive?n.get(r.closeKeepAlive,function(){p=d(s)}):p=d(s):p=(it||ut)&&k?ot(s):n.ajax(r),u.removeData("jqxhr").data("jqxhr",p),w=0;w<c.length;w++)c[w]=null;return this.trigger("form-submit-notify",[this,r]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!n.isReady&&f.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(f.s,f.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return i.delegation?(n(document).off("submit.form-plugin",this.selector,r).off("click.form-plugin",this.selector,u).on("submit.form-plugin",this.selector,i,r).on("click.form-plugin",this.selector,i,u),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,r).bind("click.form-plugin",i,u)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var e=[],l,h,f,c,u,b,k,a,p,v;if(0===this.length)return e;var y,o=this[0],w=this.attr("id"),s=t?o.getElementsByTagName("*"):o.elements;if(s&&!/MSIE [678]/.test(navigator.userAgent)&&(s=n(s).get()),w&&(y=n(':input[form="'+w+'"]').get(),y.length&&(s=(s||[]).concat(y))),!s||!s.length)return e;for(l=0,b=s.length;b>l;l++)if(u=s[l],f=u.name,f&&!u.disabled)if(t&&o.clk&&"image"==u.type)o.clk==u&&(e.push({name:f,value:n(u).val(),type:u.type}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(c=n.fieldValue(u,!0),c&&c.constructor==Array)for(r&&r.push(u),h=0,k=c.length;k>h;h++)e.push({name:f,value:c[h]});else if(i.fileapi&&"file"==u.type)if(r&&r.push(u),a=u.files,a.length)for(h=0;h<a.length;h++)e.push({name:f,value:a[h],type:u.type});else e.push({name:f,value:"",type:u.type});else null!==c&&"undefined"!=typeof c&&(r&&r.push(u),e.push({name:f,value:c,type:u.type,required:u.required}));return!t&&o.clk&&(p=n(o.clk),v=p[0],f=v.name,f&&!v.disabled&&"image"==v.type&&(e.push({name:f,value:p.val()}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))),e};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;e>u;u++)i.push({name:f,value:r[u]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;e>u;u++)f=this[u],i=n.fieldValue(f,t),null!==i&&"undefined"!=typeof i&&(i.constructor!=Array||i.length)&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,r,f;if(void 0===i&&(i=!0),i&&(!a||t.disabled||"reset"==u||"button"==u||("checkbox"==u||"radio"==u)&&!t.checked||("submit"==u||"image"==u)&&t.form&&t.form.clk!=t||"select"==h&&-1==t.selectedIndex))return null;if("select"==h){if(e=t.selectedIndex,0>e)return null;for(var c=[],l=t.options,o="select-one"==u,v=o?e+1:l.length,s=o?e:0;v>s;s++)if(r=l[s],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),o)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||"textarea"==u?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==u?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return void 0===n&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type,i;"checkbox"==r||"radio"==r?this.checked=t:"option"==this.tagName.toLowerCase()&&(i=n(this).parent("select"),t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1}),function(n){function t(t){this._element=n(t);this._target=this._element.data("target")||{};this._attachmentSettings=this._element.data("attachmentsettings");this._serviceUrlGet=this._element.attr("data-url-get");this._serviceUrlAdd=this._element.attr("data-url-add");this._serviceUrlEdit=this._element.attr("data-url-edit");this._serviceUrlDelete=this._element.attr("data-url-delete");this._serviceUrlGetAttachments=this._element.attr("data-url-get-attachments");this._hideFieldLabel=this._element.attr("data-hide-field-label");this._attachmentAcceptTypes=this._element.attr("data-add-accept-types");this._addEnabled=this._element.data("add-enabled");this._editEnabled=this._element.data("edit-enabled");this._deleteEnabled=this._element.data("delete-enabled");this._pageSize=this._element.attr("data-pagesize");this._orders=this._element.data("orders");this._addSuccess=!1;this._editSuccess=!1;this._deleteSuccess=!1;this._useScrollingPagination=this._element.attr("data-use-scrolling-pagination");this._$editModal=this._element.children(".modal-editnote").appendTo("body");this._$deleteModal=this._element.children(".modal-deletenote").appendTo("body");var i=this;this._pageNumber=1;n(t).on("refresh",function(n,t){i._useScrollingPagination=="True"&&(t=-1);i.load(t)})}function i(t,i){var f,r,u;typeof t!=typeof undefined&&t!==!1&&t!=null&&(typeof console!="undefined"&&console&&console.log(t),f=i.find(".modal-body"),r=i.find(".alert-danger.error"),r.length==0?r=n("<div><\/div>").addClass("alert alert-block alert-danger error clearfix"):r.empty(),u=n("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span><\/p>"),typeof t.InnerError!=typeof undefined&&typeof t.InnerError.Message!=typeof undefined&&t.InnerError.Message!==!1&&t.InnerError.Message!=null?r.append(u).text(t.InnerError.Message+(typeof t.InnerError.Message=="number"?" Error":"")):typeof t.Message!=typeof undefined&&t.Message!==!1&&t.Message!=null&&r.append(u).text(t.Message+(typeof t.Message=="number"?" Error":"")),f.prepend(r))}function r(t){var i={Message:window.ResourceManager.UnKnown_Error_Occurred},r;if(t==null)return i;try{r=t.getResponseHeader("content-type");i=r!=null?r.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}}:{Message:t.statusText}}catch(u){i={Message:u.message}}return i}n(document).ready(function(){var i=n(".entity-notes");i.length==0&&(i=n(".entity-timeline"));i.each(function(){Handlebars.registerHelper("if_eq",function(n,t,i){return n==t?i.fn(this):i.inverse(this)});Handlebars.registerHelper("if_not_eq",function(n,t,i){return n!=t?i.fn(this):i.inverse(this)});Handlebars.registerHelper("commaSeparatedList",function(n){for(var i="",t=0;t<n.length;t++)n[t].Name&&(i+=n[t].Name+(t!==n.length-1?", ":""));return i});Handlebars.registerHelper("dateTimeFormatter",function(n){var t=window.moment;if(t){var i=dateFormatConverter.convert("M/d/yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),r=dateFormatConverter.convert("h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),u=i+" "+r;return t(n).format(u)}});new t(n(this)).render()})});t.prototype.render=function(){var t=this,r=t._element,u=t._hideFieldLabel==="True"?r.children(".timelineheader").find("a.addnote"):r.children(".note-actions").find("a.addnote"),i=r.children(".modal-addnote").appendTo("body"),e=i.find(".modal-footer .btn-primary"),f=r.children(".note-actions").find(".loadmore");if(this._hideFieldLabel==="False"&&n(".notes-cell .info").show(),t.load(),t._addEnabled=="True"){u.show();u.on("click",function(){i.modal("show")});e.on("click",function(){t.addNote(i)});i.on("hidden.bs.modal",function(){i.find("textarea").val("");i.find("input[type='file']").val("");i.find(".alert-danger.error").remove()})}if(this._useScrollingPagination=="True")f.on("click",function(){t._pageNumber+=1;f.hide();t.load(t._pageNumber)})};t.prototype.load=function(t){var i=this,r=i._element,u=r.children(".notes"),h=r.children(".notes-error"),c=r.children(".notes-empty"),l=r.children(".notes-access-denied"),a=r.children(".notes-loading"),v=r.children(".notes-loading-more"),y=r.find(".notes-pagination"),p=r.children(".note-actions").find(".loadmore"),w=i._serviceUrlGet,b=i._serviceUrlGetAttachments,k=i._target,d=i._orders,g=i._pageSize,o=i._useScrollingPagination,s,f,e;h.hide();c.hide();l.hide();o=="True"?v.show():(u.hide().empty(),a.show());s=y.data("current-page");(s==null||s=="")&&(s=1);t=t||s;f=y.data("pagesize");(f==null||f=="")&&(f=g);e=!1;o=="True"&&t==-1&&(e=!0);i.getData(w,k,d,e?1:t,e?1:f,function(s){var a,v,h;if(typeof s==typeof undefined||s===!1||s==null){c.fadeIn();return}if(typeof s.Records!=typeof undefined&&s.Records!==!1&&(s.Records==null||s.Records.length==0&&t==1)){c.fadeIn();return}if(typeof s.AccessDenied!=typeof undefined&&s.AccessDenied!==!1&&s.AccessDenied){l.fadeIn();return}a=!1;o=="True"&&(e?i._pageNumber*f<s.ItemCount&&(p.show(),a=!0):s.PageCount>i._pageNumber&&p.show());v=n("#notes-template").html();Handlebars.registerHelper("AttachmentUrlWithTimeStamp",function(){return this.AttachmentUrl+"?t="+(new Date).getTime()});Handlebars.registerHelper("attachments",function(t,r){var u=(new Date).getTime(),f=n("#notes-attachment-template").html(),e=Handlebars.compile(f);return regardingActivity={Id:t,LogicalName:r},i.getAttachments(b,regardingActivity,function(t){var i=n(".attachmentasync-"+u);i.html(e(t))}),n("<div>").html(n("<div>").attr("class","attachmentasync-"+u)).html()});h=Handlebars.compile(v);o=="True"?e?(u.prepend(h(s)),a&&u.children(".note").last().remove()):u.append(h(s)):u.html(h(s));u.find(".timeago").each(function(){var i=n(this).attr("title"),t=window.moment;if(t){var u=dateFormatConverter.convert(r.closest("[data-dateformat]").data("dateformat")||"M/d/yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),f=dateFormatConverter.convert(r.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),e=u+" "+f;n(this).text(t(i).format(e))}});u.find(".timeago").timeago();u.fadeIn();o=="False"&&i.initializePagination(s);i._editEnabled&&i._editEnabled!="False"&&i.addEditClickEventHandlers();i._deleteEnabled&&i._deleteEnabled!="False"&&i.addDeleteClickEventHandlers()},function(n,t,i){h.find(".details").append(i);h.show()},function(){a.hide();v.hide()})};t.prototype.getData=function(t,i,r,u,f,e,o,s){var h,c;if(e=n.isFunction(e)?e:function(){},o=n.isFunction(o)?o:function(){},s=n.isFunction(s)?s:function(){},!t||t==""){s.call(this);o.call(this,null,"error",window.ResourceManager.Service_URL_Not_Provided);return}if(!i){s.call(this);o.call(this,null,"error",window.ResourceManager.Required_Regarding_EntityReference_Parameter_Was_Not_Provided);return}f=f||-1;h={};h.regarding=i;h.orders=r;h.page=u;h.pageSize=f;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json",url:t,data:c,global:!1}).done(e).fail(o).always(s)};t.prototype.getAttachments=function(t,i,r,u,f){var e,o;if(r=n.isFunction(r)?r:function(){},u=n.isFunction(u)?u:function(){},f=n.isFunction(f)?f:function(){},!t||t==""){f.call(this);u.call(this,null,"error",window.ResourceManager.Service_URL_Not_Provided);return}if(!i){f.call(this);u.call(this,null,"error",window.ResourceManager.Required_Regarding_EntityReference_Parameter_Was_Not_Provided);return}e={};e.regarding=i;o=JSON.stringify(e);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json",url:t,data:o,success:r,error:u,global:!1})};t.prototype.addEditClickEventHandlers=function(){var r=this,f=r._element,t=r._$editModal,i,u;if(t&&t.length!=0){if(i=t.find("input[type='file']"),u=t.find("button.primary"),i.length>0)i.on("change",function(){t.find(".attachment").remove()});u.unbind("click");u.on("click",function(n){n.preventDefault();r.updateNote(t)});t.on("hidden.bs.modal",function(){t.find(".alert-danger.error").remove();t.find("textarea").val("");t.find("input[type='file']").val("");t.find(".alert-danger.error").remove();t.data("id","");t.find(".attachment").empty()});f.find(".edit-link").on("click",function(r){var h,f,o,c;r.preventDefault();var u=n(this).closest(".note"),s=u.data("id"),a=u.data("unformattedtext")||"",v=u.data("subject")||"",y=u.data("isprivate"),p=u.data("hasattachment"),w=u.data("attachmentfilename"),b=u.data("attachmentfilesize"),e=u.data("attachmenturl"),k=u.data("attachmentisimage");if(!s||s==""){typeof console!="undefined"&&console&&console.log("Failed to launch edit note dialog. Data parameter 'id' is null.");return}if(t.data("id",s),t.data("subject",v),t.find("textarea").val(a),y&&t.find("input[type='checkbox']").prop("checked",!0),h=i.parent(),p)if(e+="?t="+(new Date).getTime(),f=t.find(".attachment"),f.length==0&&(f=n("<div class='attachment clearfix'><\/div>")),o=n("<div class='link'><\/div>"),c=n("<a target='_blank'><\/a>").attr("href",e).html("<span class='fa fa-file' aria-hidden='true'><\/span> "+w+" ("+b+")"),o.html(c),k){var d=n("<a target='_blank' class='thumbnail'><\/a>").attr("href",e),g=n("<img />").attr("src",e),l=n("<div class='img col-md-4'><\/div>");l.append(d.html(g));f.html(l).append(o);h.prepend(f)}else f.html(o),h.prepend(f);t.modal()})}};t.prototype.addDeleteClickEventHandlers=function(){var u=this,f=u._element,e=u._serviceUrlDelete,t=u._$deleteModal;if(t&&t.length!=0){t.on("hidden.bs.modal",function(){t.find(".alert-danger.error").remove()});f.find(".delete-link").on("click",function(o){var c,s,h;if(o.preventDefault(),c=n(this).closest(".note"),s=c.data("id"),!s||s==""){console.log("Failed to launch delete note dialog. Data parameter 'id' is null.");return}h=t.find(".modal-footer button.primary");h.unbind("click");h.on("click",function(){var o,c;n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");o={};o.id=s;c=JSON.stringify(o);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:e,data:c}).done(function(){u._deleteSuccess=!0;f.trigger("refresh");t.modal("hide")}).fail(function(n){i(r(n),t)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});t.modal()})}};t.prototype.addNote=function(t){var u=this,w=u._element,a=u._target,e=u._serviceUrlAdd,b=this._attachmentAcceptTypes,o=t.find(".modal-footer button.primary"),s=t.find("textarea").val(),v=!1,y,h,p,c,f,r,l;if(e==null||e==""){y={Message:"System Error",InnerError:{Message:window.ResourceManager.URL_Service_For_Add_Note_Request_Could_Not_Determined}};i(y,t);return}if(s==null||!/\S+/gm.test(s)){h=t.find("#note_label");h&&(p={Message:window.ResourceManager.Required_Field_Error.replace("{0}",h.text())},i(p,t));return}c=t.find("input[type='checkbox']");c.length>0&&(v=c.prop("checked"));f=t.find("input[type='file']");o.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");r=n("<form>").attr("id","add-note-"+(new Date).getTime()).attr("method","POST").attr("action",e).hide().appendTo(n("body"));n("<input>").attr("name","regardingEntityLogicalName").attr("type","hidden").appendTo(r).val(a.LogicalName);n("<input>").attr("name","regardingEntityId").attr("type","hidden").appendTo(r).val(a.Id);n("<input>").attr("name","text").attr("type","hidden").appendTo(r).val(s);n("<input>").attr("name","isPrivate").attr("type","hidden").appendTo(r).val(v);n("<input>").attr("name","attachmentSettings").attr("type","hidden").appendTo(r).val(u._attachmentSettings);l=n("<input>").attr("type","file").attr("name","file").attr("accept",b).insertAfter(f);f.appendTo(r);r.submit(function(){return shell.ajaxSafePost({success:function(){u._addSuccess=!0;w.trigger("refresh");t.modal("hide");r.remove();o.removeAttr("disabled","disabled").find(".fa-spin").remove()},error:function(n){i({Message:n.statusText},t);f.insertAfter(l);l.remove();r.remove();o.removeAttr("disabled","disabled").find(".fa-spin").remove()}},n(this)),!1});r.submit()};t.prototype.updateNote=function(t){var u=this,b=u._element,o=u._serviceUrlEdit,s=t.find(".modal-footer button.primary"),h=t.find("textarea").val(),k=t.data("subject")||"",v=!1,y,f,p,c,w,l,e,r,a;if(o==null||o==""){y={Message:"System Error",InnerError:{Message:window.ResourceManager.URL_Service_For_Update_Note_Request_Could_Not_Determined}};i(y,t);return}if(f=t.data("id"),!f||f==""){p={Message:"System Error",InnerError:{Message:window.ResourceManager.Failed_Determine_RecordID}};i(p,t);return}if(h==null||!/\S+/gm.test(h)){c=t.find("#note_label");c&&(w={Message:window.ResourceManager.Required_Field_Error.replace("{0}",c.text())},i(w,t));return}l=t.find("input[type='checkbox']");l.length>0&&(v=l.prop("checked"));e=t.find("input[type='file']");s.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");r=n("<form>").attr("id","update-note-"+(new Date).getTime()).attr("method","POST").attr("action",o).hide().appendTo(n("body"));n("<input>").attr("name","id").attr("type","hidden").appendTo(r).val(f);n("<input>").attr("name","subject").attr("type","hidden").appendTo(r).val(k);n("<input>").attr("name","text").attr("type","hidden").appendTo(r).val(h);n("<input>").attr("name","isPrivate").attr("type","hidden").appendTo(r).val(v);n("<input>").attr("name","attachmentSettings").attr("type","hidden").appendTo(r).val(u._attachmentSettings);a=n("<input>").attr("type","file").attr("name","file").insertAfter(e);e.appendTo(r);r.submit(function(){return shell.ajaxSafePost({success:function(){u._editSuccess=!0;b.trigger("refresh");t.modal("hide");r.remove();s.removeAttr("disabled","disabled").find(".fa-spin").remove()},error:function(n){i({Message:n.statusText},t);e.insertAfter(a);a.remove();r.remove();s.removeAttr("disabled","disabled").find(".fa-spin").remove()}},n(this)),!1});r.submit()};t.prototype.initializePagination=function(t){if(typeof t!=typeof undefined&&t!==!1&&t!=null&&typeof t.PageSize!=typeof undefined&&t.PageSize!==!1&&t.PageSize!=null&&typeof t.PageCount!=typeof undefined&&t.PageCount!==!1&&t.PageCount!=null&&typeof t.PageNumber!=typeof undefined&&t.PageNumber!==!1&&t.PageNumber!=null&&typeof t.ItemCount!=typeof undefined&&t.ItemCount!==!1&&t.ItemCount!=null){var r=this,u=r._element,i=u.find(".notes-pagination");if(t.PageCount<=1){i.hide();return}i.data("pagesize",t.PageSize).data("pages",t.PageCount).data("current-page",t.PageNumber).data("count",t.ItemCount).unbind("click").pagination({total_pages:i.data("pages"),current_page:i.data("current-page"),callback:function(t,i){t.preventDefault();var u=n(t.target).closest("li");u.not(".disabled").length>0&&u.not(".active").length>0&&r.load(i)}}).show()}}}(jQuery),function(n){function f(t){var r,i,f,u;(this._element=n(t),this._layout=null,r=this._element,i=r.closest(".entity-form"),i.length<1&&(f=r.closest(".crmEntityFormView"),i=f.find(".entity-form")),i.length!=0)&&(u=i.find("[id$='_EntityLayoutConfig']"),u.length!=0)&&(this._layout=u.data("form-layout"))}function s(){var t=[],n=this._layout;return n&&n.TopFormActionLinks&&n.TopFormActionLinks.length&&n.BottomFormActionLinks&&n.BottomFormActionLinks.length?t=_.union(n.TopFormActionLinks,n.BottomFormActionLinks):n&&n.TopFormActionLinks&&n.TopFormActionLinks.length?t=n.TopFormActionLinks:n&&(t=n.BottomFormActionLinks),t}function h(n,t,i,r){return n=URI(n),t&&i&&r&&(n.addSearch("refentity",t),n.addSearch("refid",i),n.addSearch("refrel",r)),n.toString()}function c(t,i){if(typeof t!=typeof undefined&&t!==!1&&t!=null){typeof console!="undefined"&&console&&console.log(t);var u=i.find(".modal-body"),r=i.find(".alert-danger.error");r.length==0?r=n("<div><\/div>").addClass("alert alert-block alert-danger error clearfix"):r.empty();typeof t.InnerError!=typeof undefined&&typeof t.InnerError.Message!=typeof undefined&&t.InnerError.Message!==!1&&t.InnerError.Message!=null?typeof t.InnerError.Message=="number"?r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.InnerError.Message+" Error<\/p>"):r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.InnerError.Message+"<\/p>"):typeof t.Message!=typeof undefined&&t.Message!==!1&&t.Message!=null&&(typeof t.Message=="number"?r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.Message+" Error<\/p>"):r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.Message+"<\/p>"));u.prepend(r)}}function t(t){n.cookie("adx-notification",t,{expires:1})}function r(t,i){var e,r,f,u,o;typeof t!=typeof undefined&&t!==!1&&t!=null&&(console.log(t),e=typeof t.InnerError!=typeof undefined&&t.InnerError!==!1&&t.InnerError!=null?t.InnerError.Message:t.Message,r=n(".notifications"),r.length==0&&(f=n(".page-heading"),r=f.length==0?n("<div class='notifications'><\/div>").prependTo(n("#content-container")):n("<div class='notifications'><\/div>").appendTo(f)),r.find(".notification").slideUp().remove(),u=i.find(".navbar-collapse").find(".action-status"),u.length==0&&(u=i.parent().find(".navbar-collapse").find(".action-status")),u.html("<span class='fa fa-fw fa-exclamation-circle text-danger' aria-hidden='true'><\/span>"),o=n("<div class='notification alert alert-danger error alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;<\/span><\/button><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+e+"<\/div>").on("closed.bs.alert",function(){u.html("<span class='fa fa-fw' aria-hidden='true'><\/span>");r.find(".notification").length==0&&r.hide()}).prependTo(r),r.show(),n("html, body").animate({scrollTop:o.offset().top-20},200))}function i(t,i){var r;if(typeof t==typeof undefined||t==null){e(i);return}var u=typeof t.OnComplete!=typeof undefined&&t.OnComplete!=null&&t.OnComplete!=0;u?(r=a(t),r!=null&&r!=""?(n.cookie("adx-notification",null),l(r)):e(i)):e(i)}function l(t){typeof t!="undefined"&&t!=null&&t!=""&&(n.blockUI({css:{border:"none",backgroundColor:"transparent",opacity:.5,color:"#fff"},message:"<span class='fa fa-2x fa-spinner fa-pulse' aria-hidden='true'><\/span>"}),parent?parent.location.replace(t):window.location.replace(t))}function e(t){n.blockUI({css:{border:"none",backgroundColor:"transparent",opacity:.5,color:"#fff"},message:"<span class='fa fa-2x fa-spinner fa-pulse' aria-hidden='true'><\/span>"});t&&parent?parent.location.href.indexOf("#")!=-1?parent.location.reload(!0):parent.location=parent.location.href:location.href.indexOf("#")!=-1?window.location.reload(!0):window.location=window.location.href}function a(n){return!n||!n.RedirectUrl?null:n.RedirectUrl.Host==window.location.hostname?URI(n.RedirectUrl.PathWithQueryString):URI(n.RedirectUrl.Uri)}function u(t){var i={Message:window.ResourceManager.UnKnown_Error_Occurred},r;if(t==null)return i;try{r=t.getResponseHeader("content-type");i=r!=null?r.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}}:{Message:t.statusText}}catch(u){i={Message:u.message}}return i}function o(n){return n.replace(/<(?:.|\n)*?>/gm,"")}n(document).ready(function(){n(".form-custom-actions").each(function(){new f(n(this)).render()});n(".form-custom-actions .dropdown-toggle").each(function(){var t=n(this).parent().find(".dropdown-menu"),i=t.find("a:not(.hidden)").length;i<1&&n(this).parent().hide()});n(".crmEntityFormView").attr("role","main");var t=n(".page-header h1").text(),i=window.ResourceManager.Entity_Form_Label;n(".crmEntityFormView").attr("aria-label",t||i)});f.prototype.render=function(){var n=this,i=n._element,t=n._layout;(typeof t==typeof undefined||t==null||t=="")&&i.hide();var e=n.addDeleteActionLinkClickEventHandlers(),o=n.addWorkflowActionLinkClickEventHandlers(),s=n.addQualifyLeadActionLinkClickEventHandlers(),h=n.addCloseCaseActionLinkClickEventHandlers(),c=n.addResolveCaseActionLinkClickEventHandlers(),l=n.addReopenCaseActionLinkClickEventHandlers(),a=n.addCancelCaseActionLinkClickEventHandlers(),v=n.addConvertQuoteActionLinkClickEventHandlers(),y=n.addConvertOrderActionLinkClickEventHandlers(),p=n.addCalculateOpportunityActionLinkClickEventHandlers(),w=n.addActivateActionLinkClickEventHandlers(),b=n.addDeactivateActionLinkClickEventHandlers(),k=n.addActivateQuoteActionLinkClickEventHandlers(),d=n.addSetOpportunityOnHoldActionLinkClickEventHandlers(),g=n.addReopenOpportunityActionLinkClickEventHandlers(),nt=n.addWinOpportunityActionLinkClickEventHandlers(),tt=n.addLoseOpportunityActionLinkClickEventHandlers(),it=n.addGenerateQuoteFromOpportunityActionLinkClickEventHandlers(),rt=n.addUpdatePipelinePhaseActionLinkClickEventHandlers(),r=n.addSubmitActionLinkClickEventHandlers(),u=n.addNextActionLinkClickEventHandlers(),f=n.addPreviousActionLinkClickEventHandlers(),ut=n.addCreateRelatedRecordClickEventHandlers();(e||o||s||h||c||l||a||v||y||p||w||b||k||d||nt||tt||it||rt||g||r||u||f)&&t!=null&&(t.EnableActions||r||u||f||ut)?i.show():i.hide()};f.prototype.addDeleteActionLinkClickEventHandlers=function(){var l=this,e=l._element,f=l._layout,c,a,v,h;if(f==null||f==""||f.DeleteActionLink==null||!f.DeleteActionLink.Enabled||!f.DeleteActionLink.URL)return c=e.find(".delete-link"),c.hide(),c.addClass("hidden"),!1;var y=f.DeleteActionLink.URL.PathWithQueryString,s=e.children(".modal-delete"),o=e.closest(".entity-form");o.length<1&&(a=e.closest(".crmEntityFormView"),o=a.find(".entity-form"));v=o.find("[id$='_EntityID']").val();h=s.find("button.primary");h.off("click");h.on("click",function(e){var c,l;e.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");o.find(".navbar-collapse").find(".action-status").html("<span class='fa fa-spinner fa-spin fa-fw' aria-hidden='true'><\/span>");c={};c.LogicalName=f.EntityName;c.Id=v;l=JSON.stringify(c);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:y,data:l}).done(function(){s.modal("hide");t(f.DeleteActionLink.SuccessMessage);i(f.DeleteActionLink,!0)}).fail(function(n){s.modal("hide");r(u(n),o)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});e.find(".delete-link").on("click",function(n){n.preventDefault();s.modal()});return!0};f.prototype.addSubmitActionLinkClickEventHandlers=function(){var i=this,r=i._element,n=i._layout,t;return n==null||n==""||n.SubmitActionLink==null||!n.SubmitActionLink.Enabled?(t=r.find(".submit-btn"),t.addClass("hidden"),t.hide(),!1):!0};f.prototype.addNextActionLinkClickEventHandlers=function(){var i=this,r=i._element,n=i._layout,t;return n==null||n==""||n.NextActionLink==null||!n.NextActionLink.Enabled?(t=r.find(".next-btn"),t.addClass("hidden"),t.hide(),!1):!0};f.prototype.addPreviousActionLinkClickEventHandlers=function(){var i=this,r=i._element,n=i._layout,t;return n==null||n==""||n.PreviousActionLink==null||!n.PreviousActionLink.Enabled?(t=r.find(".previous-btn"),t.addClass("hidden"),t.hide(),!1):!0};f.prototype.addWorkflowActionLinkClickEventHandlers=function(){var v=this,o=v._element,y=v._layout,c=o.closest(".entity-form"),p,h,l,a,e,f;if(c.length<1&&(p=o.closest(".crmEntityFormView"),c=p.find(".entity-form")),!y)return!1;if(h=s.call(v),h.length==0)return o.find(".workflow-link").hide(),!1;for(l=null,a=0;a<h.length;a++)e=h[a],e!=null&&typeof e.Type!=typeof undefined&&e.Type==7&&typeof e.Workflow!=typeof undefined&&e.Workflow!=null&&(e.Enabled&&e.URL?l=e:(o.find(".workflow-link[data-workflowid='"+e.Workflow.Id+"']").hide(),o.find(".workflow-link[data-workflowid='"+e.Workflow.Id+"']").addClass("hidden")));if(!l)return!1;if(l.ShowModal==1){f=o.children(".modal-run-workflow");o.find(".workflow-link").on("click",function(e){var s,v,l,p;e.preventDefault();f.attr("aria-hidden","false");var k=c.find("[id$='_EntityID']").val(),o=f.find("button.primary"),d=f.find("button.cancel"),g=f.find("button.close"),w=n(this),b=n(this).data("url"),a=n(this).data("workflowid");if(a&&b){s=n(this).data("modal-title");s&&f.find(".modal-title").html(s).attr("title",s);f.parent().find("section").attr("aria-label",s);v=n(this).data("modal-confirmation");v&&f.find(".modal-body").html(v);l=n(this).data("modal-primary-action");l&&(o.html(l),o.attr("title",l),o.attr("aria-label",l));p=n(this).data("modal-cancel-action");p&&f.find(".cancel").html(p);o.off("click");o.on("click",function(e){var l,v,s,p,w,d,g;for(e.preventDefault(),f.attr("aria-hidden","true"),n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>"),l=null,v=0;v<h.length;v++)if(s=h[v],s!=null&&typeof s.Type!=typeof undefined&&s.Type==7&&typeof s.Workflow!=typeof undefined&&s.Workflow!=null&&s.Workflow.Id==a){l=s;break}p={};w={};w.LogicalName="workflow";w.Id=a;p.workflow=w;d={};d.LogicalName=y.EntityName;d.Id=k;p.entity=d;g=JSON.stringify(p);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:b,data:g}).done(function(){f.modal("hide");t(l!=null?l.SuccessMessage:null);i(l)}).fail(function(n){f.modal("hide");r(u(n),c)}).always(function(){o.removeAttr("disabled","disabled").find(".fa-spin").remove()})});d.on("click",function(){f.attr("aria-hidden","true")});g.on("click",function(){f.attr("aria-hidden","true")});f.modal();f.on("shown.bs.modal",function(){f.find("button.primary").focus()});f.on("hidden.bs.modal",function(){w.is(":visible")&&w.trigger("focus")})}})}else o.find(".workflow-link").on("click",function(f){var o,s,e,l,a,v,b;f.preventDefault();var k=c.find("[id$='_EntityID']").val(),p=n(this).data("workflowid"),w=n(this).data("url");if(p&&w){for(o=null,s=0;s<h.length;s++)if(e=h[s],e!=null&&typeof e.Type!=typeof undefined&&e.Type==7&&typeof e.Workflow!=typeof undefined&&e.Workflow!=null&&e.Workflow.Id==p){o=e;break}l={};a={};a.LogicalName="workflow";a.Id=p;l.workflow=a;v={};v.LogicalName=y.EntityName;v.Id=k;l.entity=v;b=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:w,data:b}).done(function(){t(o!=null?o.SuccessMessage:null);i(o,!0)}).fail(function(n){r(u(n),c)})}});return!0};f.prototype.addQualifyLeadActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.QualifyLeadActionLink==null||!f.QualifyLeadActionLink.Enabled||!f.QualifyLeadActionLink.URL||a!="0")return h=o.find(".qualify-lead-link"),h.addClass("hidden"),h.hide(),!1;if(f.QualifyLeadActionLink.ShowModal==1){s=o.children(".modal-qualify");o.find(".qualify-lead-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var a,v,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");a={};a.createAccount=!0;a.createContact=!0;a.createOpportunity=!0;v={};v.LogicalName=f.EntityName;v.Id=c;a.entityReference=v;y=JSON.stringify(a);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.QualifyLeadActionLink.SuccessMessage);i(f.QualifyLeadActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".qualify-lead-link").on("click",function(o){var h,c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),s={};s.createAccount=!0;s.createContact=!0;s.createOpportunity=!0;h={};h.LogicalName=f.EntityName;h.Id=l;s.entityReference=h;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.QualifyLeadActionLink.SuccessMessage);i(f.QualifyLeadActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addCloseCaseActionLinkClickEventHandlers=function(){var c=this,s=c._element,f=c._layout,o=s.closest(".entity-form"),l,a,h,e;if(o.length<1&&(l=s.closest(".crmEntityFormView"),o=l.find(".entity-form")),a=o.find("[id$='_EntityState']").val(),f==null||f==""||f.CloseIncidentActionLink==null||!f.CloseIncidentActionLink.Enabled||!f.CloseIncidentActionLink.URL||a!="0")return h=s.find(".close-case-link"),h.addClass("hidden"),h.hide(),!1;if(f.CloseIncidentActionLink.ShowModal==1){e=s.children(".modal-closecase");s.find(".close-case-link").on("click",function(s){s.preventDefault();var c=o.find("[id$='_EntityID']").val(),h=e.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(s){var a,v,y,p,w;s.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");a={};v={};v.LogicalName=f.EntityName;v.Id=c;a.entityReference=v;y=f.CloseIncidentActionLink.DefaultResolution;p=f.CloseIncidentActionLink.DefaultResolutionDescription;a.resolutionSubject=y;a.resolutionDescription=p;w=JSON.stringify(a);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:w}).done(function(){e.modal("hide");t(f.CloseIncidentActionLink.SuccessMessage);i(f.CloseIncidentActionLink)}).fail(function(n){e.modal("hide");r(u(n),o)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});e.modal()});e.on("show.bs.modal",function(){e.attr("aria-hidden","false")});e.on("hidden.bs.modal",function(){e.attr("aria-hidden","true")})}else s.find(".close-case-link").on("click",function(e){var c,l,a;e.preventDefault();var v=o.find("[id$='_EntityID']").val(),y=n(this).data("url"),s={},h={};h.LogicalName=f.EntityName;h.Id=v;s.entityReference=h;c=f.CloseIncidentActionLink.DefaultResolution;l=f.CloseIncidentActionLink.DefaultResolutionDescription;s.resolutionSubject=c;s.resolutionDescription=l;a=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:y,data:a}).done(function(){t(f.CloseIncidentActionLink.SuccessMessage);i(f.CloseIncidentActionLink)}).fail(function(n){r(u(n),o)})});return!0};f.prototype.addConvertQuoteActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.ConvertQuoteToOrderActionLink==null||!f.ConvertQuoteToOrderActionLink.Enabled||!f.ConvertQuoteToOrderActionLink.URL||a!="1")return h=o.find(".convert-quote-link"),h.addClass("hidden"),h.hide(),!1;if(f.ConvertQuoteToOrderActionLink.ShowModal==1){s=o.children(".modal-convert-quote");o.find(".convert-quote-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.ConvertQuoteToOrderActionLink.SuccessMessage);i(f.ConvertQuoteToOrderActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".convert-quote-link").on("click",function(o){var s,l;o.preventDefault();s=n(this);s.attr("disabled","disabled");s.closest("li.action").children(".dropdown-toggle").css("cursor","not-allowed").dropdown("toggle").removeAttr("data-toggle").off("click");s.closest(".navbar-collapse").find(".action-status").html("<span class='fa fa-spinner fa-spin fa-fw' aria-hidden='true'><\/span>");var a=e.find("[id$='_EntityID']").val(),v=n(this).data("url"),c={},h={};h.LogicalName=f.EntityName;h.Id=a;c.entityReference=h;l=JSON.stringify(c);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:v,data:l}).done(function(){t(f.ConvertQuoteToOrderActionLink.SuccessMessage);i(f.ConvertQuoteToOrderActionLink)}).fail(function(n){r(u(n),e)}).always(function(){s.removeAttr("disabled");s.closest("li.action").children(".dropdown-toggle").css("cursor","").attr("data-toggle","dropdown").data("toggle","dropdown").on("click",function(){n(this).dropdown()})})});return!0};f.prototype.addConvertOrderActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.ConvertOrderToInvoiceActionLink==null||!f.ConvertOrderToInvoiceActionLink.Enabled||!f.ConvertOrderToInvoiceActionLink.URL||a=="2")return h=o.find(".convert-order-link"),h.addClass("hidden"),h.hide(),!1;if(f.ConvertOrderToInvoiceActionLink.ShowModal==1){s=o.children(".modal-convert-order");o.find(".convert-order-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.ConvertOrderToInvoiceActionLink.SuccessMessage);i(f.ConvertOrderToInvoiceActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".convert-order-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.ConvertOrderToInvoiceActionLink.SuccessMessage);i(f.ConvertOrderToInvoiceActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addCalculateOpportunityActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,h,e,l,s;if(f==null||f==""||f.CalculateOpportunityActionLink==null||!f.CalculateOpportunityActionLink.Enabled||!f.CalculateOpportunityActionLink.URL)return h=o.find(".calculate-opportunity-link"),h.addClass("hidden"),h.hide(),!1;if(e=o.closest(".entity-form"),e.length<2&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),f.CalculateOpportunityActionLink.ShowModal==1){s=o.children(".modal-calculate");o.find(".calculate-opportunity-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.CalculateOpportunityActionLink.SuccessMessage);i(f.CalculateOpportunityActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".calculate-opportunity-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.CalculateOpportunityActionLink.SuccessMessage);i(f.CalculateOpportunityActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addResolveCaseActionLinkClickEventHandlers=function(){var s=this,f=s._element,u=s._layout,e=f.closest(".entity-form"),h,l,o,r;if(e.length<1&&(h=f.closest(".crmEntityFormView"),e=h.find(".entity-form")),l=e.find("[id$='_EntityState']").val(),u==null||u==""||u.ResolveCaseActionLink==null||!u.ResolveCaseActionLink.Enabled||!u.ResolveCaseActionLink.URL||l!="0")return o=f.find(".resolve-case-link"),o.addClass("hidden"),o.hide(),!1;r=f.children(".modal-resolvecase");r.on("hidden.bs.modal.entityform",function(){r.find(".resolution-input").val("");r.find(".resolution-description-input").val("");r.find(".alert-danger.error").remove()});f.find(".resolve-case-link").on("click",function(f){f.preventDefault();var s=e.find("[id$='_EntityID']").val(),o=r.find("button.primary"),h=n(this).data("url");o.off("click");o.on("click",function(f){var e,l,a,v,y;f.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");e={};l={};l.LogicalName=u.EntityName;l.Id=s;e.entityReference=l;a=r.find(".resolution-input");e.resolutionSubject=a.val();v=r.find(".resolution-description-input");e.resolutionDescription=v.val();y=JSON.stringify(e);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:y}).done(function(){r.modal("hide");t(u.ResolveCaseActionLink.SuccessMessage);i(u.ResolveCaseActionLink)}).fail(function(n){r.modal("show");c({Message:n.statusText},r)}).always(function(){o.removeAttr("disabled","disabled").find(".fa-spin").remove()})});r.modal()});return!0};f.prototype.addReopenCaseActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.ReopenCaseActionLink==null||!f.ReopenCaseActionLink.Enabled||!f.ReopenCaseActionLink.URL||a=="0")return h=o.find(".reopen-case-link"),h.addClass("hidden"),h.hide(),!1;if(f.ReopenCaseActionLink.ShowModal==1){s=o.children(".modal-reopencase");o.find(".reopen-case-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.ReopenCaseActionLink.SuccessMessage);i(f.ReopenCaseActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".reopen-case-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.ReopenCaseActionLink.SuccessMessage);i(f.ReopenCaseActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addCancelCaseActionLinkClickEventHandlers=function(){var c=this,s=c._element,f=c._layout,o=s.closest(".entity-form"),l,a,h,e;if(o.length<1&&(l=s.closest(".crmEntityFormView"),o=l.find(".entity-form")),a=o.find("[id$='_EntityState']").val(),f==null||f==""||f.CancelCaseActionLink==null||!f.CancelCaseActionLink.Enabled||!f.CancelCaseActionLink.URL||a!="0")return h=s.find(".cancel-case-link"),h.addClass("hidden"),h.hide(),!1;if(f.CancelCaseActionLink.ShowModal==1){e=s.children(".modal-cancelcase");s.find(".cancel-case-link").on("click",function(s){s.preventDefault();var c=o.find("[id$='_EntityID']").val(),h=e.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(s){var v,a,y;s.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){e.modal("hide");t(f.CancelCaseActionLink.SuccessMessage);i(f.CancelCaseActionLink)}).fail(function(n){e.modal("hide");r(u(n),o)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});e.modal()});e.on("show.bs.modal",function(){e.attr("aria-hidden","false")});e.on("hidden.bs.modal",function(){e.attr("aria-hidden","true")})}else s.find(".cancel-case-link").on("click",function(e){var c;e.preventDefault();var l=o.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.CancelCaseActionLink.SuccessMessage);i(f.CancelCaseActionLink)}).fail(function(n){r(u(n),o)})});return!0};f.prototype.addActivateActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.ActivateActionLink==null||!f.ActivateActionLink.Enabled||!f.ActivateActionLink.URL||a=="0")return h=o.find(".activate-link"),h.addClass("hidden"),h.hide(),!1;if(f.ActivateActionLink.ShowModal==1){s=o.children(".modal-activate");o.find(".activate-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.ActivateActionLink.SuccessMessage);i(f.ActivateActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".activate-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.ActivateActionLink.SuccessMessage);i(f.ActivateActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addDeactivateActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.DeactivateActionLink==null||!f.DeactivateActionLink.Enabled||!f.DeactivateActionLink.URL||a=="1")return h=o.find(".deactivate-link"),h.addClass("hidden"),h.hide(),!1;if(f.DeactivateActionLink.ShowModal==1){s=o.children(".modal-deactivate");o.find(".deactivate-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.DeactivateActionLink.SuccessMessage);i(f.DeactivateActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".deactivate-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.DeactivateActionLink.SuccessMessage);i(f.DeactivateActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addActivateQuoteActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.ActivateQuoteActionLink==null||!f.ActivateQuoteActionLink.Enabled||!f.ActivateQuoteActionLink.URL||a!="0")return h=o.find(".activate-quote-link"),h.addClass("hidden"),h.hide(),!1;if(f.ActivateQuoteActionLink.ShowModal==1){s=o.children(".modal-activate-quote");o.find(".activate-quote-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.ActivateQuoteActionLink.SuccessMessage);i(f.ActivateQuoteActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".activate-quote-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.ActivateQuoteActionLink.SuccessMessage);i(f.ActivateQuoteActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addSetOpportunityOnHoldActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,v,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),v=e.find("[id$='_EntityStatus']").val(),f==null||f==""||f.SetOpportunityOnHoldActionLink==null||!f.SetOpportunityOnHoldActionLink.Enabled||!f.SetOpportunityOnHoldActionLink.URL||a!="0"||v=="2")return h=o.find(".set-opportunity-on-hold-link"),h.addClass("hidden"),h.hide(),!1;if(f.SetOpportunityOnHoldActionLink.ShowModal==1){s=o.children(".modal-set-opportunity-on-hold");o.find(".set-opportunity-on-hold-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.SetOpportunityOnHoldActionLink.SuccessMessage);i(f.SetOpportunityOnHoldActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".set-opportunity-on-hold-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.SetOpportunityOnHoldActionLink.SuccessMessage);i(f.SetOpportunityOnHoldActionLink)}).fail(function(n){r(u(n),e)}).always(function(){})});return!0};f.prototype.addReopenOpportunityActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,v,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),v=e.find("[id$='_EntityStatus']").val(),f==null||f==""||f.ReopenOpportunityActionLink==null||!f.ReopenOpportunityActionLink.Enabled||!f.ReopenOpportunityActionLink.URL||a=="0")return h=o.find(".reopen-opportunity-link"),h.addClass("hidden"),h.hide(),!1;if(f.ReopenOpportunityActionLink.ShowModal==1){s=o.children(".modal-reopen-opportunity");o.find(".reopen-opportunity-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.ReopenOpportunityActionLink.SuccessMessage);i(f.ReopenOpportunityActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".reopen-opportunity-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.ReopenOpportunityActionLink.SuccessMessage);i(f.ReopenOpportunityActionLink)}).fail(function(n){r(u(n),e)}).always(function(){})});return!0};f.prototype.addWinOpportunityActionLinkClickEventHandlers=function(){var l=this,h=l._element,f=l._layout,s=h.closest(".entity-form"),a,v,c,e;if(s.length<1&&(a=h.closest(".crmEntityFormView"),s=a.find(".entity-form")),v=s.find("[id$='_EntityState']").val(),f==null||f==""||f.WinOpportunityActionLink==null||!f.WinOpportunityActionLink.Enabled||!f.WinOpportunityActionLink.URL||v!="0")return c=h.find(".win-opportunity-link"),c.addClass("hidden"),c.hide(),!1;if(f.WinOpportunityActionLink.ShowModal==1){e=h.children(".modal-win-opportunity");h.find(".win-opportunity-link").on("click",function(h){var c;h.preventDefault();e.attr("aria-hidden","false");c=e.attr("aria-label");c&&e.attr("aria-label",o(c));var a=s.find("[id$='_EntityID']").val(),l=e.find("button.primary"),v=n(this).data("url");l.off("click");l.on("click",function(o){var c,h,y;o.preventDefault();e.attr("aria-hidden","true");n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");c={};h={};h.LogicalName=f.EntityName;h.Id=a;c.entityReference=h;y=JSON.stringify(c);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:v,data:y}).done(function(){e.modal("hide");t(f.WinOpportunityActionLink.SuccessMessage);i(f.WinOpportunityActionLink)}).fail(function(n){e.modal("hide");r(u(n),s)}).always(function(){l.removeAttr("disabled","disabled").find(".fa-spin").remove()})});e.on("hide.bs.modal",function(){n(this).attr("aria-hidden","true")});e.modal()})}else h.find(".win-opportunity-link").on("click",function(e){var c;e.preventDefault();var l=s.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},o={};o.LogicalName=f.EntityName;o.Id=l;h.entityReference=o;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.WinOpportunityActionLink.SuccessMessage);i(f.WinOpportunityActionLink)}).fail(function(n){r(u(n),s)}).always(function(){})});return!0};f.prototype.addLoseOpportunityActionLinkClickEventHandlers=function(){var l=this,h=l._element,f=l._layout,s=h.closest(".entity-form"),a,v,c,e;if(s.length<1&&(a=h.closest(".crmEntityFormView"),s=a.find(".entity-form")),v=s.find("[id$='_EntityState']").val(),f==null||f==""||f.LoseOpportunityActionLink==null||!f.LoseOpportunityActionLink.Enabled||!f.LoseOpportunityActionLink.URL||v!="0")return c=h.find(".lose-opportunity-link"),c.addClass("hidden"),c.hide(),!1;if(f.LoseOpportunityActionLink.ShowModal==1){e=h.children(".modal-lose-opportunity");h.find(".lose-opportunity-link").on("click",function(h){var c;h.preventDefault();e.attr("aria-hidden","false");c=e.attr("aria-label");c&&e.attr("aria-label",o(c));var a=s.find("[id$='_EntityID']").val(),l=e.find("button.primary"),v=n(this).data("url");l.off("click");l.on("click",function(o){var c,h,y;o.preventDefault();e.attr("aria-hidden","true");n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");c={};h={};h.LogicalName=f.EntityName;h.Id=a;c.entityReference=h;y=JSON.stringify(c);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:v,data:y}).done(function(){e.modal("hide");t(f.LoseOpportunityActionLink.SuccessMessage);i(f.LoseOpportunityActionLink)}).fail(function(n){e.modal("hide");r(u(n),s)}).always(function(){l.removeAttr("disabled","disabled").find(".fa-spin").remove()})});e.on("hide.bs.modal",function(){n(this).attr("aria-hidden","true")});e.modal()})}else h.find(".lose-opportunity-link").on("click",function(e){var c;e.preventDefault();var l=s.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},o={};o.LogicalName=f.EntityName;o.Id=l;h.entityReference=o;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.LoseOpportunityActionLink.SuccessMessage);i(f.LoseOpportunityActionLink)}).fail(function(n){r(u(n),s)}).always(function(){})});return!0};f.prototype.addGenerateQuoteFromOpportunityActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,e=o.closest(".entity-form"),l,a,h,s;if(e.length<1&&(l=o.closest(".crmEntityFormView"),e=l.find(".entity-form")),a=e.find("[id$='_EntityState']").val(),f==null||f==""||f.GenerateQuoteFromOpportunityActionLink==null||!f.GenerateQuoteFromOpportunityActionLink.Enabled||!f.GenerateQuoteFromOpportunityActionLink.URL||a!="0")return h=o.find(".generate-quote-from-opportunity-link"),h.addClass("hidden"),h.hide(),!1;if(f.GenerateQuoteFromOpportunityActionLink.ShowModal==1){s=o.children(".modal-generate-quote-from-opportunity");o.find(".generate-quote-from-opportunity-link").on("click",function(o){o.preventDefault();var c=e.find("[id$='_EntityID']").val(),h=s.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var v,a,y;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");v={};a={};a.LogicalName=f.EntityName;a.Id=c;v.entityReference=a;y=JSON.stringify(v);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:y}).done(function(){s.modal("hide");t(f.GenerateQuoteFromOpportunityActionLink.SuccessMessage);i(f.GenerateQuoteFromOpportunityActionLink)}).fail(function(n){s.modal("hide");r(u(n),e)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal()})}else o.find(".generate-quote-from-opportunity-link").on("click",function(o){var c;o.preventDefault();var l=e.find("[id$='_EntityID']").val(),a=n(this).data("url"),h={},s={};s.LogicalName=f.EntityName;s.Id=l;h.entityReference=s;c=JSON.stringify(h);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:c}).done(function(){t(f.GenerateQuoteFromOpportunityActionLink.SuccessMessage);i(f.GenerateQuoteFromOpportunityActionLink)}).fail(function(n){r(u(n),e)})});return!0};f.prototype.addUpdatePipelinePhaseActionLinkClickEventHandlers=function(){var c=this,o=c._element,f=c._layout,s=o.closest(".entity-form"),l,a,h,e;if(s.length<1&&(l=o.closest(".crmEntityFormView"),s=l.find(".entity-form")),a=s.find("[id$='_EntityState']").val(),f==null||f==""||f.UpdatePipelinePhaseActionLink==null||!f.UpdatePipelinePhaseActionLink.Enabled||!f.UpdatePipelinePhaseActionLink.URL||a!="0")return h=o.find(".update-pipeline-phase-link"),h.addClass("hidden"),h.hide(),!1;e=o.children(".modal-updatepipelinephase");o.find(".update-pipeline-phase-link").on("click",function(o){o.preventDefault();var c=s.find("[id$='_EntityID']").val(),h=e.find("button.primary"),l=n(this).data("url");h.off("click");h.on("click",function(o){var a,v,y,p,w,b;o.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");a={};v={};v.LogicalName=f.EntityName;v.Id=c;a.entityReference=v;y=e.find(".pipelinephase-input");a.salesStage=y.val();p=y.find("option:selected");a.stepName=p.text();w=e.find(".resolution-description-input");a.description=w.val();b=JSON.stringify(a);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:l,data:b}).done(function(){e.modal("hide");t(f.UpdatePipelinePhaseActionLink.SuccessMessage);i(f.UpdatePipelinePhaseActionLink)}).fail(function(n){e.modal("hide");r(u(n),s)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});e.modal()});return!0};f.prototype.addCreateRelatedRecordClickEventHandlers=function(){var a=this,e=a._element,f=a._layout,c=e.closest(".entity-form"),v,l;if(c.length<1&&(v=e.closest(".crmEntityFormView"),c=v.find(".entity-form")),!f||!f.CreateRelatedRecordActionLink)return!1;if(window.addEventListener("message",function(n){n.data=="Success"&&(e.children(".modal-form").modal("hide"),window.location.assign(location.href))}),l=s.call(a),l&&l.length)n.each(l,function(s,l){var v,a;if(l.Type===29)if(l.Enabled)if(f.CreateRelatedRecordActionLink.ShowModal===1){v=e.find(".create-related-record-link[data-filtercriteriaid = '"+l.FilterCriteriaId+"']");v.on("click",function(t){var i,r;t.preventDefault();i=e.children(".modal-form-createrecord[data-filtercriteriaid = '"+l.FilterCriteriaId+"']");i.attr("aria-hidden","false");r=i.attr("aria-label");r&&i.attr("aria-label",o(r));var s=c.find("[id$='_EntityID']").val(),u=i.find("iframe"),a=u.data("page"),v=l.Relationship,y=l.EntityForm.Id,p=a+"?id="+s+"&entityformid="+y+"&languagecode="+f.LanguageCode,w=h(p,f.EntityName,s,v);u.attr("src",w);u.on("load",function(){i.find(".form-loading").hide();i.find("iframe").contents().find("#EntityFormControl").show()});i.find(".form-loading").show();i.find("iframe").contents().find("#EntityFormControl").hide();i.on("hide.bs.modal",function(){n(this).attr("aria-hidden","true")});i.modal()})}else e.find(".create-related-record-link[data-filtercriteriaid = '"+l.FilterCriteriaId+"']").on("click",function(e){var h;e.preventDefault();var l=c.find("[id$='_EntityID']").val(),a=n(this).data("url"),s={},o={};o.LogicalName=f.EntityName;o.Id=l;s.entityReference=o;h=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:a,data:h}).done(function(){t(f.CreateRelatedRecordActionLink.SuccessMessage);i(f.CreateRelatedRecordActionLink)}).fail(function(n){r(u(n),c)}).always(function(){})});else a=e.find(".create-related-record-link[data-filtercriteriaid = '"+l.FilterCriteriaId+"']"),a.addClass("hidden"),a.hide()});else return!1;return!0}}(jQuery),function(n){function t(t){this._element=n(t);this._layouts=this._element.data("view-layouts");this._gridClass=this._element.data("grid-class");this._serviceUrlForGet=this._element.data("get-url");this._deferLoading=this._element.data("defer-loading");this._enableActions=this._element.data("enable-actions");this._selectMode=this._element.data("select-mode");this._columnWidthStyle=this._element.data("column-width-style");this._applyRelatedRecordFilter=this._element.data("apply-related-record-filter");this._filterRelationshipName=this._element.data("filter-relationship-name");this._filterEntityName=this._element.data("filter-entity-name");this._filterAttributeName=this._element.data("filter-attribute-name");this._allowFilterOff=this._element.data("allow-filter-off");this._toggleFilterText=this._element.data("toggle-filter-text");this._userIsAuthenticated=this._element.data("user-isauthenticated");this._userParentAccountName=this._element.data("user-parent-account-name");this._toggleFilterDisplayName=this._element.data("toggle-filter-display-name");this._metaFilter=null;this._compact=this._element.closest("[data-entitygrid-layout]").data("entitygrid-layout")==="compact";this._messageEventHandler=this.createWindowMessageEventHandler();this._compact&&this._element.addClass("entity-grid-compact");var i=this;n(t).on("refresh",function(){i.load()});n(t).on("metafilter",function(n,t){i._metaFilter=t;i.resetPagination();i.load()})}function s(n,t){t=URI(t);var i=n.data("ref-entity"),r=n.data("ref-id"),u=n.data("ref-rel"),f=n.data("ref-rel-role");return i&&r&&u&&(t.addSearch("refentity",i),t.addSearch("refid",r),t.addSearch("refrel",u),f&&t.addSearch("refrelrole",f)),t.toString()}function p(n,t,i,r){return n=URI(n),t&&i&&r&&(n.addSearch("refentity",t),n.addSearch("refid",i),n.addSearch("refrel",r)),n.toString()}function r(n){return!n||!n.URL?null:b(n.URL)}function i(t){var u,i,r,f;typeof t!=typeof undefined&&t!==!1&&t!=null&&(console.log(t),u=typeof t.InnerError!=typeof undefined&&t.InnerError!==!1&&t.InnerError!=null?t.InnerError.Message:t.Message,i=n(".notifications"),i.length==0&&(r=n(".page-heading"),i=r.length==0?n("<div class='notifications'><\/div>").prependTo(n("#content-container")):n("<div class='notifications'><\/div>").appendTo(r)),i.find(".notification").slideUp().remove(),f=n("<div class='notification alert alert-danger error alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;<\/span><\/button><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+u+"<\/div>").on("closed.bs.alert",function(){i.find(".notification").length==0&&i.hide()}).prependTo(i),i.show(),n("html, body").animate({scrollTop:f.offset().top-20},200))}function u(t,i,r){var u=n(".notifications"),f,e;u.length==0&&(f=n(".page-heading"),u=f.length==0?n("<div class='notifications'><\/div>").prependTo(n("#content-container")):n("<div class='notifications'><\/div>").appendTo(f));u.find(".notification").slideUp().remove();typeof t!=typeof undefined&&t!==!1&&t!=null&&t!=""&&(e=n("<div class='notification alert alert-success success alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;<\/span><\/button>"+t+"<\/div>").on("closed.bs.alert",function(){u.find(".notification").length==0&&u.hide()}).prependTo(u),u.show(),n("html, body").animate({scrollTop:e.offset().top-20},200),r&&setTimeout(function(){e.slideUp(100).remove();u.find(".notification").length==0&&u.hide()},5e3))}function f(n,t){var i;if(typeof t==typeof undefined||t==null){n.trigger("refresh");return}var r=typeof t.OnComplete!=typeof undefined&&t.OnComplete!=null&&t.OnComplete!=0;r?(i=tt(t),i!=null&&i!=""?nt(i):n.trigger("refresh")):n.trigger("refresh")}function e(t){var i={Message:window.ResourceManager.UnKnown_Error_Occurred},r;if(t==null)return i;try{r=t.getResponseHeader("content-type");i=r!=null?r.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}}:{Message:t.statusText}}catch(u){i={Message:u.message}}return i}function w(t){var i=[],r=function(n){var t=n.data("columnname");if(t)return t.replace(/<(?:.|\n)*?>/gm,"").trim();var i=n.children("a"),u=i.length>0?i.first():n,r=u.contents().get(0);return r?r.nodeValue:""};t.find("thead th").each(function(){var t=n(this);i.push(r(t))});t.find("tbody tr").each(function(){n(this).find("td").each(function(t){n(this).attr("data-th",i[t])})})}function k(n){var o=[],s,f,e,t,i,r,u,h;if(n==null||(s=/(\w+)\s*(asc|ascending|desc|descending)?\s*(,)?/gi,f=n.match(s),f==null))return o;for(e=0;e<f.length;e++)t=f[e],t!=null&&t!=""&&(r="ASC",u=t.indexOf(" "),u!=-1?(i=t.substr(0,u),r=t.substr(u+1,t.length-u)):i=t,i!=null&&(i=i.replace(/,\s*$/,"")),r!=null&&(r=r.replace(/,\s*$/,"")),h={name:i,direction:r},o.push(h));return o}function h(t,i,r){var u=-1;return n.each(t,function(n,t){if(t[i].toString().toLowerCase().indexOf(r.toString().toLowerCase())!=-1)return u=n,!1}),u}function d(n){var r,i,t;if(!n)return null;for(r=n.Attributes||[],i=0;i<r.length;i++)if(t=r[i],t&&t.AttributeMetadata&&t.AttributeMetadata.EntityLogicalName===n.EntityName&&t.AttributeMetadata.IsPrimaryName)return t.DisplayValue}function o(n){return!n||!n.RedirectUrl?null:b(n.RedirectUrl)}function b(n){return n?URI(n.PathWithQueryString):null}function g(t){var i=[];if(!t)return i;if(t.EntityName==="entitlement"){var r=n("#customerid").val(),u=n("#customerid_entityname").val(),f=n("#primarycontactid").val(),e=n("#productid").val();return r&&(i=[{Key:"customerid",Value:r},{Key:"customertype",Value:u},{Key:"primarycontactid",Value:f},{Key:"productid",Value:e}]),i}return t.ModalLookupEntityLogicalName==="opportunityproduct"?[{Key:"productid",Value:n("#productid").val()},{Key:"uomid",Value:n("#uomid").val()}]:i}function nt(t){typeof t!="undefined"&&t!=null&&t!=""&&(n.blockUI({css:{border:"none",backgroundColor:"transparent",opacity:.5,color:"#fff"},message:"<span class='fa fa-2x fa-spinner fa-pulse' aria-hidden='true'><\/span>"}),parent?parent.location.replace(t):window.location.replace(t))}function tt(n){return!n||!n.RedirectUrl?null:URI(n.RedirectUrl.PathWithQueryString)}function y(){try{return window.self!==window.top}catch(n){return!0}}var c=0,l=1,a=2,v=!1;n(document).ready(function(){var i=n(".entity-grid");i.each(function(){new t(n(this)).render()});i.length===0&&w(n(".table-fluid"));n(".entitylist").on("click.entitylist",".entitylist-filter-option-breaker a",function(t){t.preventDefault();t.stopPropagation();var i=n(this).data("collapsed"),r=n(this).closest("ul"),u=r.data("pagesize");r.children("li.entitylist-filter-option").each(function(t){t>=u&&(i?n(this).attr("aria-hidden","false"):n(this).attr("aria-hidden","true"))});n(this).find(".fa").toggleClass("fa-caret-down",i).toggleClass("fa-caret-up",!i);n(this).find(".expand-label").text(i?"Less":"More");n(this).data("collapsed",!i)})});t.prototype.render=function(t){var u=this,e=u._element,ft=u._layouts,li=u._gridClass,nt=e.data("selected-view"),ai=u._deferLoading,ht=u._enableActions,vi=u._allowFilterOff,ct=u._toggleFilterText,dt=u._selectMode,gt=u._columnWidthStyle,yi=u._userIsAuthenticated,lt=u._userParentAccountName,pi=u._toggleFilterDisplayName,b=0,ti,at,et,w,it,vt,yt,rt,ut,ot,pt,wt,st,bt,ri,ui,fi,g,kt,v;typeof nt!=typeof undefined&&nt!==!1&&nt!=null&&nt!=""&&(b=h(ft,"Id",nt),b==-1&&(b=0));this._activeLayoutIndex=b;var f=ft[b],wi=URI(window.location).search(!0),ni=y();u._metaFilter=wi[f.Configuration.FilterSettings.FilterQueryStringParameterName||"mf"]||null;ti=yi&&lt&&lt!=""&&f.Configuration.FilterPortalUserAttributeName!=null&&f.Configuration.FilterPortalUserAttributeName!=""&&f.Configuration.FilterAccountAttributeName!=null&&f.Configuration.FilterAccountAttributeName!="";at=e.children(".view-grid");at.empty();e.children(".view-toolbar").remove();var p=n("<div><\/div>").addClass("view-toolbar").addClass("grid-actions").addClass("clearfix"),tt=n("<div><\/div>").addClass("pull-right").addClass("toolbar-actions"),o=!1;vi&&(et=n("<a><\/a>").attr("href","#").addClass("toggle-related-filter").data("placement","bottom").data("toggle","tooltip").addClass("btn btn-default").addClass("active").append(n("<span><\/span>").addClass("fa").addClass("fa-filter").attr("aria-hidden","true")).append(n("<span><\/span>").addClass("title").text(pi)).on("click",function(t){t.preventDefault();n(this).toggleClass("active");u.load(0,e.children(".view-toolbar").find(".view-filter-select").data("filter"),!n(this).hasClass("active"))}),ct&&ct!=""&&et.attr("title",ct).tooltip(),this._compact&&et.addClass("btn-xs"),et.prependTo(p),o=!0);w=f.Configuration.Search;w.Enabled&&(it=n("<div><\/div>").addClass("input-group").addClass("pull-left").addClass("view-search").addClass("entitylist-search"),vt=n("<button><\/button>").attr("type","button").attr("aria-label",window.ResourceManager.Search_Results).attr("title",window.ResourceManager.Search_Results).addClass("btn").addClass("btn-default").append(n("<span><\/span>").addClass("sr-only").html("Search Results")).append(n("<span><\/span>").addClass("fa").addClass("fa-search")).on("click",function(n){n.preventDefault();u.load(1)}),yt=n("<div><\/div>").addClass("input-group-btn").attr("role","presentation").append(vt),rt=n("<input/>").attr("placeholder",w.PlaceholderText).data("toggle","tooltip").attr("title",w.TooltipText).attr("aria-label",w.TooltipText).tooltip().addClass("query").addClass("form-control").val("").on("keypress",function(t){var i=t.keyCode?t.keyCode:t.which;i=="13"&&(t.preventDefault(),vt.trigger("click"),n(this).trigger("focus"))}));ht&&(window.removeEventListener("message",u._messageEventHandler),window.addEventListener("message",u._messageEventHandler));e.children(".modal-form-details").on("hidden.bs.modal.entitygrid",function(){var t=n(this).find("iframe");t.attr("src","")});e.children(".modal-form-edit").on("hidden.bs.modal.entitygrid",function(){var t=n(this).find("iframe");t.attr("src","")});e.children(".modal-form-createrecord").on("hidden.bs.modal.entitygrid",function(){var t=n(this).find("iframe");t.attr("src","")});if(ut=e.closest(".entity-form").find("[id$='_EntityState']").val(),ot=typeof ut!=typeof undefined&&ut!=null&&ut!==""&&ut!=="0",ht&&f.Configuration.InsertActionLink.Enabled&&f.Configuration.InsertActionLink.URL&&!ot&&(pt=n("<a><\/a>").attr("href",r(f.Configuration.InsertActionLink)).addClass("btn").addClass("insert-Action-link").addClass("btn-primary").addClass("pull-right").addClass("action").html(f.Configuration.InsertActionLink.Label).attr("title",f.Configuration.InsertActionLink.Tooltip),ni&&pt.attr("target","_top"),pt.prependTo(p),o=!0),wt=null,ht&&n.each(f.Configuration.ViewActionLinks,function(t,h){var y,v,w,k,ft,p;if(h.Enabled)switch(h.Type){case 3:if(ot)return;var b="#",d=e.data("ref-entity"),g=e.data("ref-id"),nt=e.data("ref-rel"),it=e.data("ref-rel-role"),ut="";if(d&&g&&nt&&(ut+="refentity="+d+"&refid="+g+"&refrel="+nt,it&&(ut+="&refrelrole="+it)),(h.Target==l||h.Target==a)&&h.URL!=null&&(b=s(e,URI(r(h)).toString())),wt=n("<div><\/div>").addClass("input-group").addClass("pull-left"),y=n("<a><\/a>").attr("href",b).addClass("btn").addClass("btn-primary").addClass("pull-right").addClass("action create-action").html(h.Label).attr("title",h.Tooltip),b!="#"&&ni&&y.attr("target","_top"),h.Target==c&&h.EntityForm){v=e.children(".modal-form-insert");v.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){v.attr("aria-hidden","true");var t=n(this).find("iframe");t.attr("src","");y.trigger("focus")});y.on("click",function(n){n.preventDefault();var t=v.find("iframe"),i=t.data("page"),r=h.EntityForm.Id.toString(),u=s(e,i+"?entityformid="+r+"&languagecode="+f.Configuration.LanguageCode);t.attr("src",u);t.on("load",function(){v.find(".form-loading").hide();v.find("iframe").contents().find("#EntityFormControl").show()});v.find(".form-loading").show();v.find("iframe").contents().find("#EntityFormControl").hide();v.modal()});v.on("show.bs.modal",function(){v.attr("aria-hidden","false")})}u._compact&&y.addClass("btn-xs");wt.append(y).appendTo(tt);o=!0;break;case 5:if(ot)return;w=n("<a><\/a>").attr("href","#").addClass("btn").addClass("btn-info").addClass("pull-right").addClass("action").html(h.Label).attr("title",h.Tooltip);k=e.find(".associate-lookup .modal-associate");k.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){w.trigger("focus")});w.on("click",function(n){n.preventDefault();k.modal()});u._compact&&w.addClass("btn-xs");w.appendTo(tt);o=!0;break;case 8:ft=n("<div><\/div>").addClass("input-group").addClass("pull-left");p=n("<a><\/a>").attr("href","#").addClass("entitylist-download").addClass("btn").addClass("btn-info").addClass("pull-right").addClass("action").attr("title",h.Tooltip).html(h.Label);u._compact&&p.addClass("btn-xs");p.on("click",function(t){var o,r,s;t.preventDefault();p.attr("disabled","disabled");o=new Date;r={};r.viewName=f.ViewName;r.columns=f.Columns;r.base64SecureConfiguration=f.Base64SecureConfiguration;r.sortExpression=e.find(".view-grid > table").data("sort-expression")||f.SortExpression;r.search=rt?rt.val():null;r.filter=u.getCurrentFilter();r.metaFilter=u._metaFilter;r.page=e.children(".view-pagination").data("current-page");r.pageSize=e.children(".view-pagination").data("pagesize");r.timezoneOffset=o.getTimezoneOffset();s=JSON.stringify(r);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",url:h.URL.Path,data:s,global:!1,success:function(n){n.success&&(window.location=h.URL.Path+"?key="+n.sessionKey)}}).fail(function(t){var r=t.getResponseHeader("content-type"),u=r.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}};i(u,e)}).always(function(){p.removeAttr("disabled","disabled")})});ft.append(p).appendTo(tt);o=!0}}),ti){var d=n("<ul><\/ul>").addClass("view-filter-select").addClass("nav").addClass("nav-pills").addClass("pull-left").data("filter","user"),ii=n("<li><\/li>").addClass("dropdown"),bi=n("<a><\/a>").addClass("dropdown-toggle").attr("data-toggle","dropdown").attr("href","#").append(n("<span><\/span>").addClass("fa").addClass("fa-filter").attr("aria-hidden","true")).append(n("<span><\/span>").addClass("title").html(" "+f.Configuration.FilterByUserOptionLabel)).append(n("<span><\/span>").addClass("caret").attr("aria-hidden","true")).dropdown();ii.append(bi);st=n("<ul><\/ul>").addClass("dropdown-menu");bt=n("<li><\/li>");bt.addClass("active");ri=n("<a><\/a>").attr("href","#").addClass("filter-user").html(f.Configuration.FilterByUserOptionLabel).on("click",function(t){t.preventDefault();d.find("li").removeClass("active");n(this).closest("li").toggleClass("active");d.data("filter","user");u.changeFilter()});bt.append(ri).appendTo(st);ui=n("<li><\/li>");fi=n("<a><\/a>").attr("href","#").addClass("filter-account").html(lt).on("click",function(t){t.preventDefault();d.find("li").removeClass("active");n(this).closest("li").toggleClass("active");d.data("filter","account");u.changeFilter()});ui.append(fi).appendTo(st);ii.append(st).appendTo(d);d.prependTo(p);o=!0}if(w.Enabled&&it&&!u._compact&&(it.append(rt).append(yt).prependTo(tt),o=!0),ft.length>1){g=f.Configuration.ViewDisplayName;(g==null||g=="")&&(g=f.ViewName);var ei=n("<ul><\/ul>").addClass("view-select").addClass("nav").addClass("nav-pills").addClass("pull-left"),oi=n("<li><\/li>").addClass("dropdown"),ki=n("<a><\/a>").addClass("selected-view").addClass("dropdown-toggle").attr("data-toggle","dropdown").attr("href","#").attr("role","button").attr("title",g).append(n("<span><\/span>").addClass("fa").addClass("fa-list").attr("aria-hidden","true")).append(n("<span><\/span>").addClass("title").html(" "+g)).append(n("<span><\/span>").addClass("caret").attr("aria-hidden","true")).dropdown();oi.append(ki);kt=n("<ul><\/ul>").addClass("dropdown-menu");n.each(ft,function(t,i){var f=n("<li><\/li>"),r,e;t==b&&f.addClass("active");r=i.Configuration.ViewDisplayName;(r==null||r=="")&&(r=i.ViewName);e=n("<a><\/a>").attr("href","#").data("id",i.Id).html(r).on("click",function(t){t.preventDefault();var i=n(this).data("id");u.changeView(i)});f.append(e).appendTo(kt)});oi.append(kt).appendTo(ei);ei.prependTo(p);o=!0}else u._compact&&(n("<ul>").addClass("view-select").addClass("nav").addClass("nav-pills").addClass("pull-left").append(n("<li>").append(n("<div>").addClass("selected-view").append(n("<span>").addClass("title").html(f.Configuration.ViewDisplayName||f.ViewName||"")))).prependTo(p),o=!0);if(w.Enabled&&it&&u._compact&&it.removeClass("pull-left").addClass("input-group-sm").append(rt).append(yt).prependTo(e),o&&(tt.appendTo(p),e.prepend(p)),f.Columns.length!=0){v=n("<table><\/table>").attr("aria-live","polite").attr("aria-relevant","additions");v.addClass("table");v.addClass(li);v.addClass("table-fluid");(dt=="Single"||dt=="Multiple")&&v.addClass("table-hover");gt=="Pixels"&&v.attr("style","width:"+f.ColumnsTotalWidth+"px !important; max-width:"+f.ColumnsTotalWidth+"px !important;");v.data("sort-expression",f.SortExpression);var si=n("<thead><\/thead>"),di=n("<tbody><\/tbody>"),hi=n("<tr><\/tr>"),ci=k(f.SortExpression);n.each(f.Columns,function(t,i){var r=n("<th><\/th>").data("field",i.LogicalName),u,f,e;i.LogicalName!=="col-action"&&r.data("columnname",i.Name);gt=="Pixels"?r.attr("style","width:"+i.Width+"px;"):r.attr("style","width:"+i.WidthAsPercent+"%;");i.SortDisabled?(r.html(i.Name),r.addClass("sort-disabled")):(r.addClass("sort-enabled").data("sort-name",i.LogicalName),u=n("<a><\/a>").attr("href","#").attr("role","button").attr("aria-label",i.Name),f=h(ci,"name",i.LogicalName),f!=-1?(e=ci[f],e.direction.toLowerCase().match("asc")!=-1?(u.append(i.Name+" ").append(n("<span><\/span>").addClass("fa").addClass("fa-arrow-up").attr("aria-hidden","true")).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Descending_Order+"<\/span>"),r.data("sort-dir","ASC").attr("aria-sort","ascending").addClass("sort").addClass("sort-asc")):(u.append(i.Name+" ").append(n("<span><\/span>").append(window.ResourceManager.Sort_Ascending_Order).addClass("fa").addClass("fa-arrow-down").attr("aria-hidden","true")).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Ascending_Order+"<\/span>"),r.data("sort-dir","DESC").attr("aria-sort","descending").addClass("sort").addClass("sort-desc"))):u.html(i.Name).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Descending_Order+"<\/span>"),u.appendTo(r));r.appendTo(hi)});hi.appendTo(si);si.appendTo(v);di.appendTo(v);v.appendTo(at);u.addSortEventHandlers();ai?t&&u.load():u.load()}};t.prototype.changeView=function(n){var t=this,i=t._element;i.data("selected-view",n);t.resetPagination();t.render(!0)};t.prototype.changeFilter=function(){var n=this,e=n._element,o=n._layouts,t=e.data("selected-view"),c=e.children(".view-toolbar").find(".view-filter-select"),i=0,f,s;typeof t!=typeof undefined&&t!==!1&&t!=null&&t!=""&&(i=h(o,"Id",t),i==-1&&(i=0));this._activeLayoutIndex=i;var r=o[i],l=n._userIsAuthenticated,u=n._userParentAccountName,a=l&&u&&u!=""&&(r.Configuration.FilterPortalUserAttributeName!=null&&r.Configuration.FilterPortalUserAttributeName!=""||r.Configuration.FilterAccountAttributeName!=null&&r.Configuration.FilterAccountAttributeName!="");a&&(f=n.getCurrentFilter(),s=f=="user"?r.Configuration.FilterByUserOptionLabel:u,c.find("li.dropdown").find("span.title").html(" "+s),n.load(0,f))};t.prototype.getCurrentFilter=function(){var r=this,o=r._element,s=r._layouts,t=o.data("selected-view"),c=o.children(".view-toolbar").find(".view-filter-select"),i=0,f;typeof t!=typeof undefined&&t!==!1&&t!=null&&t!=""&&(i=h(s,"Id",t),i==-1&&(i=0));this._activeLayoutIndex=i;var n=s[i],l=r._userIsAuthenticated,u=r._userParentAccountName,e="user";return l?n.Configuration.FilterPortalUserAttributeName==null||n.Configuration.FilterPortalUserAttributeName==""?u&&u!=""&&n.Configuration.FilterAccountAttributeName!=null&&n.Configuration.FilterAccountAttributeName!=""?"account":null:!u||u==""||n.Configuration.FilterAccountAttributeName==null||n.Configuration.FilterAccountAttributeName==""?e:(f=c.data("filter")||e,f=="user"||f=="account")?f:e:null};t.prototype.isRelatedRecordFilterEnabled=function(){var n=this,t=n._element;return t.children(".view-toolbar").find(".toggle-related-filter").length==0?n._applyRelatedRecordFilter||!1:t.children(".view-toolbar").find(".toggle-related-filter").hasClass("active")};t.prototype.load=function(t,i,u,f){var e=this,b=e._element,g=b.children(".view-grid").find("table"),tt=n("<tbody><\/tbody>"),ht=b.children(".view-error"),ct=b.children(".view-empty"),bt=b.children(".view-access-denied"),kt=b.children(".view-loading"),lt=b.children(".view-pagination"),dt=b.children(".view-toolbar").find(".entitylist-search input.query"),gt=g.data("sort-expression"),ni=e._serviceUrlForGet,ti=e._layouts,k=ti[e._activeLayoutIndex],at=k.Configuration,nt=e._selectMode,ii=e._enableActions,vt,ri=e._filterRelationshipName,yt=e._filterEntityName,ft=e._filterAttributeName,pt=null,et=b.closest(".entity-form").children("input[type='hidden'][id$='EntityName']").val(),ot=b.closest(".entity-form").children("input[type='hidden'][id$='EntityID']").val(),ui=e._metaFilter,it,rt,ut,wt,st;b.children(".view-grid").find("tbody").remove();ht.hide().prop("aria-hidden",!0);ct.hide().prop("aria-hidden",!0);bt.hide().prop("aria-hidden",!0);kt.show().prop("aria-hidden",!1);lt.data("pagesize",at.PageSize);it=lt.data("current-page");(it==null||it=="")&&(it=1);i=i||e.getCurrentFilter();t=t||it;rt=lt.data("pagesize");(rt==null||rt=="")&&(rt=10);ut=dt.val();(typeof ut==typeof undefined||ut===!1)&&(ut=null);vt=typeof u==typeof undefined?e.isRelatedRecordFilterEnabled():!u;vt&&(yt&&et&&et!=""&&yt==et&&ot&&ot!=""?pt=ot:ft&&ft!=""&&(wt=n("#"+ft),wt.length>0&&(st=wt.val(),st&&st!=""&&(pt=st))));e.hidePagination();e.getData(ni,at,k.Base64SecureConfiguration,gt,i,ui,ut,t,rt,vt,ri,yt,ft,pt,function(t){var hi,ft,bi,lt,u,wt,ci,it,et,ot,li,kt,rt,vt,ai,vi,st,v,dt,yt,yi,gt,i,pi,ni,ki,ti,ri,di,ui,ht,pt,gi,fi,ut,nr,ei,oi,si,tr,wi;if(tt.empty(),typeof t==typeof undefined||t===!1||t==null){ct.fadeIn().prop("aria-hidden",!1);b.trigger("loaded");return}if(t.CreateActionMetadata&&t.CreateActionMetadata.Disabled&&(hi=b.find(".grid-actions .create-action").off("click"),t.CreateActionMetadata.DisabledMessage&&hi.attr("title",t.CreateActionMetadata.DisabledMessage),hi.click(function(n){n.preventDefault();t.CreateActionMetadata.DisabledMessage&&window.alert(t.CreateActionMetadata.DisabledMessage)})),typeof t.Records!=typeof undefined&&t.Records!==!1&&(t.Records==null||t.Records.length==0)){ct.fadeIn().prop("aria-hidden",!1);b.trigger("loaded");return}if(typeof t.AccessDenied!=typeof undefined&&t.AccessDenied!==!1&&t.AccessDenied){bt.fadeIn().prop("aria-hidden",!1);b.trigger("loaded");return}for(ft=n.map(g.find("th"),function(t){return n(t).data("field")}),bi=ft.length==0?"":ft[0]=="col-select"?ft[1]:ft[0],b.data("total-record-count",t.ItemCount),lt=0;lt<t.Records.length;lt++){for(u=t.Records[lt],wt=d(u),wt||(ci=h(u.Attributes,"Name",bi),ci!=-1&&(wt=u.Attributes[ci].DisplayValue)),it=n("<tr><\/tr>").attr("data-id",u.Id).attr("data-entity",at.EntityName).attr("data-name",wt||"").on("focus",function(){n(this).addClass("active")}).on("blur",function(){n(this).removeClass("active")}),et=n.noop,nt=="Multiple"?(et=function(){var t=n(this).attr("aria-checked")==="true";n(this).children("td:first").find(".fa-fw").toggleClass("fa-check",!t);n(this).toggleClass("selected").toggleClass("info").attr("aria-checked",!t)},it.on("click",et).on("keypress",function(n){var t=n.keyCode?n.keyCode:n.which;(t=="13"||t=="32")&&(n.preventDefault(),et.apply(this,arguments))}).attr("tabindex",0).attr("role","checkbox").attr("aria-checked","false")):nt=="Single"&&(et=function(){var t=n(this).attr("aria-checked")==="true",i=g.find("tr.selected");i.each(function(){n(this).children("td:first").find(".fa-fw").removeClass("fa-check");n(this).removeClass("selected").removeClass("info").attr("aria-checked",!1)});t||(n(this).children("td:first").find(".fa-fw").addClass("fa-check"),n(this).addClass("selected").addClass("info").attr("aria-checked",!0))},it.on("click",et).on("keypress",function(n){var t=n.keyCode?n.keyCode:n.which;(t=="13"||t=="32")&&(n.preventDefault(),et.apply(this,arguments))}).attr("tabindex",0).attr("role","radio").attr("aria-checked","false")),ot=0;ot<ft.length;ot++){for(li=!1,kt=0;kt<u.Attributes.length;kt++)if(rt=u.Attributes[kt],rt.Name==ft[ot]){vt=n("<td><\/td>").attr("data-type",rt.Type).attr("data-attribute",rt.Name).attr("data-value",typeof rt.Value=="object"?JSON.stringify(rt.Value):rt.Value);ai=e.formatAttributeValue(rt,rt.AttributeMetadata,ot,u,t);ai.isHtml?vt.html(ai.value):vt.text(rt.DisplayValue);rt.AttributeMetadata&&vt.data("attribute-metadata",rt.AttributeMetadata);it.append(vt);li=!0;break}if(!li)if(ft[ot]=="col-action"){vi=n("<td><\/td>");st=n("<div class='dropdown action'><\/div>");n("<a class='btn btn-default btn-xs'><span class='fa fa-chevron-circle-down'><\/span><\/a>").attr("href","#").attr("data-toggle","dropdown").attr("aria-label",window.ResourceManager.ActionLink_Aria_Label).appendTo(st);v=n("<ul class='dropdown-menu' role='menu'><\/ul>");v.css("position","fixed").appendTo(st);st.on("show.bs.dropdown",function(){var t=n(this).get(0).getBoundingClientRect(),i=n(this).find(".dropdown-menu:first"),r=n(window).width(),u=t.left+i.outerWidth()<=r;u?i.css("left",t.left).css("top",t.top+n(this).outerHeight()):i.css("left",t.left+t.width-i.outerWidth()).css("top",t.top+n(this).outerHeight())});if(n(window).scroll(function(){var n=b.find(".dropdown.action.open");n.length!=0&&n.removeClass("open")}),dt=y(),k.Configuration.ItemActionLinks||(k.Configuration.ItemActionLinks=k.Configuration.CreateRelatedRecordActionLinks),ii&&k.Configuration.ItemActionLinks&&k.Configuration.ItemActionLinks.length>0){if(k.Configuration.CreateRelatedRecordActionLinks&&k.Configuration.CreateRelatedRecordActionLinks.length>0)for(yt=0;yt<k.Configuration.CreateRelatedRecordActionLinks.length;yt++)n.inArray(k.Configuration.CreateRelatedRecordActionLinks[yt],k.Configuration.ItemActionLinks)<0&&k.Configuration.ItemActionLinks.push(k.Configuration.CreateRelatedRecordActionLinks[yt]);for(yi=k.Configuration.ItemActionLinks,gt=0;gt<yi.length;gt++)if(i=yi[gt],!t.DisabledItemActionLinks||(pi=t.DisabledItemActionLinks.filter(function(n){return n.EntityId==u.Id&&n.LinkUniqueId==i.FilterCriteriaId}),!pi||!pi.length))switch(i.Type){case 1:i.Enabled&&(ni="#",(i.Target==l||i.Target==a)&&i.URL!=null&&(ni=s(b,URI(r(i)).addSearch(i.QueryStringIdParameterName,u.Id.toString()))),ki=n("<li role='presentation'><\/li>"),ti=n("<a class='details-link' role='menuitem' tabindex='0'><\/a>").attr("href",ni).attr("title",i.Tooltip).html(i.Label),ni!="#"&&dt&&ti.attr("target","_top"),i.Target==c&&i.EntityForm&&ti.addClass("launch-modal").attr("data-entityformid",i.EntityForm.Id),ki.append(ti).appendTo(v));break;case 2:i.Enabled&&u.CanWrite&&(ri="#",(i.Target==l||i.Target==a)&&i.URL!=null&&(ri=s(b,URI(r(i)).addSearch(i.QueryStringIdParameterName,u.Id.toString()).toString())),di=n("<li role='presentation'><\/li>"),ui=n("<a class='edit-link' role='menuitem' tabindex='0'><\/a>").attr("href",ri).attr("title",i.Tooltip).html(i.Label),ri!="#"&&dt&&ui.attr("target","_top"),i.Target==c&&i.EntityForm&&ui.addClass("launch-modal").attr("data-entityformid",i.EntityForm.Id),di.append(ui).appendTo(v));break;case 4:i.Enabled&&u.CanDelete&&n("<li role='presentation'><\/li>").append(n("<a class='delete-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 6:i.Enabled&&u.CanAppend&&n("<li role='presentation'><\/li>").append(n("<a class='disassociate-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 7:i.URL&&(ht=n("<a class='workflow-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).attr("data-workflowid",i.Workflow.Id).attr("data-url",r(i)).html(i.Label),i.CustomizeModal===!0&&(ht.attr("data-modal-title",i.Modal.Title),ht.attr("data-modal-confirmation",i.Confirmation),ht.attr("data-modal-primary-action",i.Modal.PrimaryButtonText),ht.attr("data-modal-canled-action",i.Modal.CloseButtonText)),n("<li role='presentation'><\/li>").append(ht).appendTo(v));break;case 9:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='close-case-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("data-resolution",i.DefaultResolution).attr("data-description",i.DefaultResolutionDescription).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 10:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='qualify-lead-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 11:i.Enabled&&u.CanWrite&&u.StateCode=="1"&&n("<li role='presentation'><\/li>").append(n("<a class='convert-quote-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 12:i.Enabled&&u.CanWrite&&u.StateCode!="2"&&n("<li role='presentation'><\/li>").append(n("<a class='convert-order-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 13:i.Enabled&&u.CanWrite&&n("<li role='presentation'><\/li>").append(n("<a class='calculate-opportunity-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 14:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='resolve-case-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 15:i.Enabled&&u.CanWrite&&u.StateCode!="0"&&n("<li role='presentation'><\/li>").append(n("<a class='reopen-case-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 16:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='cancel-case-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 17:i.Enabled&&u.CanWrite&&u.StateCode!="1"&&n("<li role='presentation'><\/li>").append(n("<a class='deactivate-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 18:i.Enabled&&u.CanWrite&&u.StateCode!="0"&&n("<li role='presentation'><\/li>").append(n("<a class='activate-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 19:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='activate-quote-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 20:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&u.StatusCode!="2"&&n("<li role='presentation'><\/li>").append(n("<a class='set-opportunity-on-hold-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 21:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='win-opportunity-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 22:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='lose-opportunity-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 23:i.Enabled&&u.CanWrite&&u.StateCode=="0"&&n("<li role='presentation'><\/li>").append(n("<a class='generate-quote-from-opportunity-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("data-url",r(i)).attr("data-redirecturl",o(i)).attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 25:i.Enabled&&u.CanWrite&&u.StateCode!="0"&&n("<li role='presentation'><\/li>").append(n("<a class='reopen-opportunity-link' role='menuitem' tabindex='0' href='#'><\/a>").attr("title",i.Tooltip).html(i.Label)).appendTo(v);break;case 29:if(pt=b.closest(".entity-form").find("[id$='_EntityState']").val(),gi=typeof pt!=typeof undefined&&pt!=null&&pt!==""&&pt!=="0",i.Enabled&&u.CanWrite&&!gi&&(fi="#",ut=this,(i.Target===l||i.Target===a)&&i.URL!==null&&(fi=s(b,URI(r(i)).addSearch(u.Id.toString()).toString())),nr=n("<li role='presentation'><\/li>"),ei=n("<a class='create-related-record-link' role='menuitem' tabindex='0'><\/a>").attr("href",fi).attr("title",i.Tooltip).html(i.Label),fi!=="#"&&dt&&ei.attr("target","_top"),i.Target===c&&i.EntityForm&&(ei.addClass("launch-modal").attr("data-entityformid",i.EntityForm.Id).attr("data-relationship",i.Relationship).attr("data-filtercriteriaid",i.FilterCriteriaId),oi=b.children(".modal-form-createrecord"),oi.length))){for(si=0,tr=oi.length;si<tr;si++){wi=n(oi[si]);wi.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){var t=n(this).find("iframe");t.attr("src","");ut.createModal.trigger("focus")});wi.on("click",function(n){n.preventDefault();var t=ut.createModal.find("iframe"),u=t.data("page"),r=ut.record.Id.toString(),f=i.Relationship,e=ut.record.EntityName,o=u+"?id="+r+"&languagecode="+k.Configuration.LanguageCode+"&relationship=&entityformid="+k.Configuration.CreateRelatedRecordActionLink.EntityForm.Id,s=p(o,e,r,f);t.attr("src",s);t.on("load",function(){ut.createModal.find(".form-loading").hide();ut.createModal.find("iframe").contents().find("#EntityFormControl").show()});ut.createModal.find(".form-loading").show();ut.createModal.find("iframe").contents().find("#EntityFormControl").hide();ut.createModal.modal()})}nr.append(ei).appendTo(v)}}}v.children("li").length>0&&(st.find(".fa").addClass("fa-fw"),vi.append(st));vi.appendTo(it)}else it.append("<td><\/td>")}(nt=="Multiple"||nt=="Single")&&it.children("td:first").append("<span class='fa fa-fw'><\/span>");nt=="Single"&&(b.data("selected")||lt!=0?b.data("selected")===it.attr("data-id")&&(it.children("td:first").find(".fa-fw").addClass("fa-check"),it.addClass("selected").addClass("info").attr("aria-checked",!0)):(it.children("td:first").find(".fa-fw").addClass("fa-check"),it.addClass("selected").addClass("info").attr("aria-checked",!0)));tt.append(it)}nt==="Single"&&tt.attr("role","radiogroup");b.children(".view-grid").find("tbody").remove();g.append(tt.hide());tt.fadeIn();e.initializePagination(t,f);e.addDetailsActionLinkClickEventHandlers();e.addEditActionLinkClickEventHandlers();e.addDeleteActionLinkClickEventHandlers();e.addQualifyLeadActionLinkClickEventHandlers();e.addCloseCaseActionLinkClickEventHandlers();e.addResolveCaseActionLinkClickEventHandlers();e.addReopenCaseActionLinkClickEventHandlers();e.addCancelCaseActionLinkClickEventHandlers();e.addConvertQuoteActionLinkClickEventHandlers();e.addConvertOrderActionLinkClickEventHandlers();e.addCalculateOpportunityActionLinkClickEventHandlers();e.addActivateActionLinkClickEventHandlers();e.addDeactivateActionLinkClickEventHandlers();e.addActivateQuoteActionLinkClickEventHandlers();e.addSetOpportunityOnHoldActionLinkClickEventHandlers();e.addReopenOpportunityActionLinkClickEventHandlers();e.addWinOpportunityActionLinkClickEventHandlers();e.addLoseOpportunityActionLinkClickEventHandlers();e.addGenerateQuoteFromOpportunityActionLinkClickEventHandlers();e.addDisassociateActionLinkClickEventHandlers();e.addWorkflowActionLinkClickEventHandlers();e.addCreateRelatedRecordLinkEventHandler();w(g);b.trigger("loaded")},function(t,i,r){ht.html(n("<div class='alert alert-block alert-danger'><\/div>").html(r));ht.show().prop("aria-hidden",!1)},function(){kt.hide().prop("aria-hidden",!0);v&&(g.find("th.sort-enabled a").removeAttr("disabled").css({"pointer-events":"",cursor:""}),v=!1)},et,ot)};t.prototype.getData=function(t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var nt,tt;if(p=n.isFunction(p)?p:function(){},w=n.isFunction(w)?w:function(){},b=n.isFunction(b)?b:function(){},!t||t==""){b.call(this);w.call(this,null,"error",window.ResourceManager.EntityGrid_Url_NotFound);return}if(!r){b.call(this);w.call(this,null,"error",window.ResourceManager.Required_Secure_ViewConfiguration_Not_Provided);return}h=h||-1;nt={};nt.base64SecureConfiguration=r;nt.sortExpression=u;nt.search=o;nt.page=s;nt.pageSize=h;nt.filter=f;nt.metaFilter=e;c&&(nt.applyRelatedRecordFilter=c,nt.filterRelationshipName=l,nt.filterEntityName=a,nt.filterAttributeName=v,y&&(nt.filterValue=y));nt.customParameters=g(i);nt.entityName=k;nt.entityId=d;tt=JSON.stringify(nt);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",url:t,data:tt,global:!1}).done(p).fail(w).always(b)};t.prototype.formatAttributeValue=function(t,i,u,f,e){var w,ft,h,c,d,g,at,nt,l,tt,it,a,et,ot,v;if(!t)return null;var p=this,rt=p._element,vt=p._layouts,s=vt[p._activeLayoutIndex],yt=p._enableActions,ut=y(),o={},st=u==0&&yt&&s.Configuration.DetailsActionLink.Enabled;switch(t.Type){case"System.DateTime":if(w=window.moment,w){var ht=dateFormatConverter.convert(rt.closest("[data-dateformat]").data("dateformat")||"M/d/yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),pt=dateFormatConverter.convert(rt.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),ct=dateFormatConverter.convert(rt.closest("[data-datetimeformat]").data("datetimeformat")||ht+" "+pt,dateFormatConverter.dotNet,dateFormatConverter.momentJs),lt=t.DateTimeBehavior.Value,wt=t.DateTimeFormat,b,k;wt=="DateOnly"?(k="YYYY-MM-DD",b=ht):lt=="TimeZoneIndependent"?(k="YYYY-MM-DDTHH:mm:ss",b=ct):(k="YYYY-MM-DDTHH:mm:ssZ",b=ct);ft=lt=="TimeZoneIndependent"?w.utc(t.Value):w(t.Value);o.value=n("<time><\/time>").attr("datetime",ft.format(k)).text(ft.format(b))}else o.value=n("<time><\/time>").attr("datetime",t.DisplayValue).text(t.DisplayValue);o.isHtml=!0;break;case"System.String":st||typeof i==typeof undefined||i==null||typeof i.Format==typeof undefined?(o.value=t.DisplayValue,o.isHtml=!1):i.Format==0?(h=t.DisplayValue,h&&h!=""&&(h.toLowerCase().startsWith("mailto")||(h="mailto:"+h)),o.value=n("<a><\/a>").attr("href",h).text(t.DisplayValue),o.isHtml=!0):i.Format==3?(c=t.DisplayValue,c&&c!=""&&(c.toLowerCase().startsWith("http")||(c="http://"+c)),d=n("<a><\/a>"),d.attr("href",c).text(t.DisplayValue),ut&&d.attr("target","_top"),o.value=d,o.isHtml=!0):i.Format==4&&(g=t.DisplayValue,g&&g!=""&&(at="http://go.microsoft.com/fwlink?linkid=8506&Symbol="+encodeURIComponent(g.toUpperCase()),nt=n("<a><\/a>"),nt.attr("href",at).text(t.DisplayValue),ut&&nt.attr("target","_top"),o.value=nt,o.isHtml=!0));break;default:o.value=t.DisplayValue;o.isHtml=!1}if(st){if(l="#",!s.Configuration.DetailsActionLink.EntityForm&&s.Configuration.DetailsActionLink.URL!=null){for(it=0;it<s.Configuration.ItemActionLinks.length;it++)if(a=s.Configuration.ItemActionLinks[it],e.DisabledItemActionLinks)if(et=e.DisabledItemActionLinks.filter(function(n){return n.EntityId==f.Id&&n.LinkUniqueId==a.FilterCriteriaId}),et&&et.length)continue;else if(a.Type===2){ot=r(a);ot!=null?l=URI(ot).addSearch(a.QueryStringIdParameterName,f.Id.toString()):tt=a;break}l==="#"&&(l=URI(r(s.Configuration.DetailsActionLink)).addSearch(s.Configuration.DetailsActionLink.QueryStringIdParameterName,f.Id.toString()))}v=n("<a><\/a>").attr("href",l).addClass("details-link").addClass("has-tooltip").attr("data-toggle","tooltip").attr("title",s.Configuration.DetailsActionLink.Tooltip).html(o.value);l!="#"&&ut&&v.attr("target","_top");tt&&tt.EntityForm!=null?v.addClass("launch-modal").attr("data-entityformid",tt.EntityForm.Id):s.Configuration.DetailsActionLink.EntityForm&&v.addClass("launch-modal").attr("data-entityformid",s.Configuration.DetailsActionLink.EntityForm.Id);o.value=v;o.isHtml=!0}return o};t.prototype.addSortEventHandlers=function(){var i=this,r=i._element,t=r.children(".view-grid").find("table");t.find("th.sort-enabled a").on("click",function(r){var u,f,e,o;(r.preventDefault(),v||(t.find("th.sort-enabled a").attr("disabled","disabled").css({"pointer-events":"none",cursor:"default"}),v=!0),u=n(this).closest("th"),n(this).find(".fa-arrow-down").remove(),n(this).find(".fa-arrow-up").remove(),n(this).find(".sort-hint").remove(),f=u.data("sort-name"),e=u.data("sort-dir"),typeof f!=typeof undefined&&f!==!1&&f!==null&&f!=="")&&((typeof e==typeof undefined||e===!1)&&(e=""),e=="ASC"?(o=f+" DESC",u.data("sort-dir","DESC").removeClass("sort-asc").addClass("sort-desc"),u.attr("aria-sort","descending"),n(this).append(" ").append(n("<span><\/span>").addClass("fa").addClass("fa-arrow-down")).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Ascending_Order+"<\/span>")):(o=f+" ASC",u.data("sort-dir","ASC").removeClass("sort-desc").addClass("sort-asc"),u.attr("aria-sort","ascending"),n(this).append(" ").append(n("<span><\/span>").addClass("fa").addClass("fa-arrow-up")).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Descending_Order+"<\/span>")),u.addClass("sort"),t.data("sort-expression",o),t.find("th.sort a").each(function(){var i=n(this).closest("th"),t=i.data("sort-name");typeof t!=typeof undefined&&t!==!1&&t!==null&&t!==""&&t!=f&&(n(this).find(".fa-arrow-down").remove(),n(this).find(".fa-arrow-up").remove(),i.removeClass("sort-asc").removeClass("sort-desc").removeClass("sort").data("sort-dir","").removeAttr("aria-sort"))}),i.load(1))})};t.prototype.addCreateRelatedRecordLinkEventHandler=function(){var t=this,i=t._element,r=t._layouts,u=r[t._activeLayoutIndex],f=t._enableActions,e=i.children(".view-grid").find("table");if(f)e.find(".create-related-record-link.launch-modal").on("click",function(t){var c,l;t.preventDefault();var f=n(this),o=n(this).closest("tr"),s=o.data("id"),a=f.data("relationship"),v=o.data("entity"),h=n(this).data("entityformid"),r=i.children(".modal-form-createrecord[data-filtercriteriaid='"+f.data("filtercriteriaid")+"']"),e=r.find("iframe"),y=e.data("page");if(h){c=y+"?id="+s+"&entityformid="+h+"&languagecode="+u.Configuration.LanguageCode;l=p(c,v,s,a);e.attr("src",l);e.on("load",function(){r.find(".form-loading").hide();r.find("iframe").contents().find("#EntityFormControl").show()});r.find(".form-loading").show();r.find("iframe").contents().find("#EntityFormControl").hide();r.on("show.bs.modal",function(){r.attr("aria-hidden","false")});r.modal();r.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){r.attr("aria-hidden","true");f.closest(".action").children("a").trigger("focus")})}})};t.prototype.addDetailsActionLinkClickEventHandlers=function(){var t=this,i=t._element,r=t._layouts,u=r[t._activeLayoutIndex],f=t._enableActions,e=i.children(".view-grid").find("table");if(f)e.find(".details-link.launch-modal").on("click",function(t){var o;t.preventDefault();var h=n(this),c=n(this).closest("tr"),l=c.data("id"),r=i.children(".modal-form-details"),f=r.find("iframe"),a=f.data("page"),e=n(this).data("entityformid");if(e){o=s(i,a+"?id="+l+"&entityformid="+e+"&languagecode="+u.Configuration.LanguageCode);f.attr("src",o);f.on("load",function(){r.find(".form-loading").hide();r.find("iframe").contents().find("#EntityFormControl").show()});r.find(".form-loading").show();r.find("iframe").contents().find("#EntityFormControl").hide();r.on("show.bs.modal",function(){r.attr("aria-hidden","false")});r.modal();r.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){r.attr("aria-hidden","true");h.closest(".action").children("a").trigger("focus")})}})};t.prototype.addEditActionLinkClickEventHandlers=function(){var t=this,i=t._element,r=t._layouts,u=r[t._activeLayoutIndex],f=t._enableActions,e=i.children(".view-grid").find("table");if(f)e.find(".edit-link.launch-modal").on("click",function(t){var o;t.preventDefault();var h=n(this),c=n(this).closest("tr"),l=c.data("id"),r=i.children(".modal-form-edit"),f=r.find("iframe"),a=f.data("page"),e=n(this).data("entityformid");if(e){o=s(i,a+"?id="+l+"&entityformid="+e+"&languagecode="+u.Configuration.LanguageCode);f.attr("src",o);f.on("load",function(){r.find(".form-loading").hide();r.find("iframe").contents().find("#EntityFormControl").show()});r.find(".form-loading").show();r.find("iframe").contents().find("#EntityFormControl").hide();r.modal();r.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){h.closest(".action").children("a").trigger("focus")})}})};t.prototype.addDeleteActionLinkClickEventHandlers=function(){var s=this,t=s._element,c=s._layouts,o=c[s._activeLayoutIndex],l=s._enableActions,a=t.children(".view-grid").find("table"),h;if(l&&(o.Configuration.DeleteActionLink.Enabled||o.Configuration.DeleteActionLink.URL)){h=r(o.Configuration.DeleteActionLink);a.find(".delete-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=t.children(".modal-delete"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=o.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){var r=t.children(".view-grid").find("tbody tr").length,i,n;r==1&&(i=t.children(".view-pagination"),n=i.data("current-page"),n>1&&(n--,i.data("current-page",n)));s.modal("hide");u(o.Configuration.DeleteActionLink.SuccessMessage,t,!0);f(t,o.Configuration.DeleteActionLink)}).fail(function(n){s.modal("hide");i(e(n),t)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})})}};t.prototype.addQualifyLeadActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.QualifyLeadActionLink.Enabled||t.Configuration.QualifyLeadActionLink.URL))if(h=r(t.Configuration.QualifyLeadActionLink),t.Configuration.QualifyLeadActionLink.ShowModal==1)c.find(".qualify-lead-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-qualify"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a,y;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.createAccount=!0;l.createContact=!0;l.createOpportunity=!0;a={};a.LogicalName=t.Configuration.EntityName;a.Id=v;l.entityReference=a;y=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:y}).done(function(){s.modal("hide");u(t.Configuration.QualifyLeadActionLink.SuccessMessage,o,!0);f(o,t.Configuration.QualifyLeadActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".qualify-lead-link").on("click",function(r){var c,l;r.preventDefault();var a=n(this).closest("tr"),v=a.data("id"),s={};s.createAccount=!0;s.createContact=!0;s.createOpportunity=!0;c={};c.LogicalName=t.Configuration.EntityName;c.Id=v;s.entityReference=c;l=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:l}).done(function(){u(t.Configuration.QualifyLeadActionLink.SuccessMessage,o,!0);f(o,t.Configuration.QualifyLeadActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addCloseCaseActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.CloseIncidentActionLink.Enabled||t.Configuration.CloseIncidentActionLink.URL))if(h=r(t.Configuration.CloseIncidentActionLink),t.Configuration.CloseIncidentActionLink.ShowModal==1)c.find(".close-case-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-closecase"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a,y,p,w;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};a={};a.LogicalName=t.Configuration.EntityName;a.Id=v;l.entityReference=a;y=t.Configuration.CloseIncidentActionLink.DefaultResolution;p=t.Configuration.CloseIncidentActionLink.DefaultResolutionDescription;l.resolutionSubject=y;l.resolutionDescription=p;w=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:w}).done(function(){s.modal("hide");u(t.Configuration.CloseIncidentActionLink.SuccessMessage,o,!0);f(o,t.Configuration.CloseIncidentActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.on("show.bs.modal",function(){s.attr("aria-hidden","false")});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){s.attr("aria-hidden","true");l.closest(".action").children("a").trigger("focus")})});else c.find(".close-case-link").on("click",function(r){var l,a,v;r.preventDefault();var w=n(this),y=n(this).closest("tr"),p=y.data("id"),s={},c={};c.LogicalName=t.Configuration.EntityName;c.Id=p;s.entityReference=c;l=t.Configuration.CloseIncidentActionLink.DefaultResolution;a=t.Configuration.CloseIncidentActionLink.DefaultResolutionDescription;s.resolutionSubject=l;s.resolutionDescription=a;v=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:v}).done(function(){u(t.Configuration.CloseIncidentActionLink.SuccessMessage,o,!0);f(o,t.Configuration.CloseIncidentActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addConvertQuoteActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.ConvertQuoteToOrderActionLink.Enabled||t.Configuration.ConvertQuoteToOrderActionLink.URL))if(h=r(t.Configuration.ConvertQuoteToOrderActionLink),t.Configuration.ConvertQuoteToOrderActionLink.ShowModal==1)c.find(".convert-quote-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-convert-quote"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.ConvertQuoteToOrderActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ConvertQuoteToOrderActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".convert-quote-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.ConvertQuoteToOrderActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ConvertQuoteToOrderActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addConvertOrderActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.ConvertOrderToInvoiceActionLink.Enabled||t.Configuration.ConvertOrderToInvoiceActionLink.URL))if(h=r(t.Configuration.ConvertOrderToInvoiceActionLink),t.Configuration.ConvertOrderToInvoiceActionLink.ShowModal==1)c.find(".convert-order-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-convert-order"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.ConvertOrderToInvoiceActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ConvertOrderToInvoiceActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".convert-order-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.ConvertOrderToInvoiceActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ConvertOrderToInvoiceActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addCalculateOpportunityActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.CalculateOpportunityActionLink.Enabled||t.Configuration.CalculateOpportunityActionLink.URL))if(h=r(t.Configuration.CalculateOpportunityActionLink),t.Configuration.CalculateOpportunityActionLink.ShowModal==1)c.find(".calculate-opportunity-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-calculate"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.CalculateOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.CalculateOpportunityActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".calculate-opportunity-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.CalculateOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.CalculateOpportunityActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addResolveCaseActionLinkClickEventHandlers=function(){var h=this,s=h._element,l=h._layouts,o=l[h._activeLayoutIndex],a=h._enableActions,v=s.children(".view-grid").find("table"),c,t;if(a&&(o.Configuration.ResolveCaseActionLink.Enabled||o.Configuration.ResolveCaseActionLink.URL)){c=r(o.Configuration.ResolveCaseActionLink);t=s.children(".modal-resolvecase");v.find(".resolve-case-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),h=t.find("button.primary");h.off("click");h.on("click",function(r){var l,a,y,p,w;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};a={};a.LogicalName=o.Configuration.EntityName;a.Id=v;l.entityReference=a;y=t.find(".resolution-input");l.resolutionSubject=y.val();p=t.find(".resolution-description-input");l.resolutionDescription=p.val();w=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:c,data:w}).done(function(){t.modal("hide");u(o.Configuration.ResolveCaseActionLink.SuccessMessage,s,!0);f(s,o.Configuration.ResolveCaseActionLink)}).fail(function(n){t.modal("hide");i(e(n),s)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});t.modal();t.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){t.find(".resolution-input").val("");t.find(".resolution-description-input").val("");l.closest(".action").children("a").trigger("focus")})})}};t.prototype.addReopenCaseActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.ReopenCaseActionLink.Enabled||t.Configuration.ReopenCaseActionLink.URL))if(h=r(t.Configuration.ReopenCaseActionLink),t.Configuration.ReopenCaseActionLink.ShowModal==1)c.find(".reopen-case-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-reopencase"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.ReopenCaseActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ReopenCaseActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".reopen-case-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.ReopenCaseActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ReopenCaseActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addCancelCaseActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.CancelCaseActionLink.Enabled||t.Configuration.CancelCaseActionLink.URL))if(h=r(t.Configuration.CancelCaseActionLink),t.Configuration.CancelCaseActionLink.ShowModal==1)c.find(".cancel-case-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-cancelcase"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.CancelCaseActionLink.SuccessMessage,o,!0);f(o,t.Configuration.CancelCaseActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.on("show.bs.modal",function(){s.attr("aria-hidden","false")});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){s.attr("aria-hidden","true");l.closest(".action").children("a").trigger("focus")})});else c.find(".cancel-case-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.CancelCaseActionLink.SuccessMessage,o,!0);f(o,t.Configuration.CancelCaseActionLink)}).fail(function(n){i(e(n),o)}).always(function(){})})};t.prototype.addActivateActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.ActivateActionLink.Enabled||t.Configuration.ActivateActionLink.URL))if(h=r(t.Configuration.ActivateActionLink),t.Configuration.ActivateActionLink.ShowModal==1)c.find(".activate-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-activate"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.ActivateActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ActivateActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".activate-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.ActivateActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ActivateActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addDeactivateActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.DeactivateActionLink.Enabled||t.Configuration.DeactivateActionLink.URL))if(h=r(t.Configuration.DeactivateActionLink),t.Configuration.DeactivateActionLink.ShowModal==1)c.find(".deactivate-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-deactivate"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.DeactivateActionLink.SuccessMessage,o,!0);f(o,t.Configuration.DeactivateActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".deactivate-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.DeactivateActionLink.SuccessMessage,o,!0);f(o,t.Configuration.DeactivateActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addActivateQuoteActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.ActivateQuoteActionLink.Enabled||t.Configuration.ActivateQuoteActionLink.URL))if(h=r(t.Configuration.ActivateQuoteActionLink),t.Configuration.ActivateQuoteActionLink.ShowModal==1)c.find(".activate-quote-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-activate-quote"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.ActivateQuoteActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ActivateQuoteActionLin)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".activate-quote-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.ActivateQuoteActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ActivateQuoteActionLin)}).fail(function(n){i(e(n),o)})})};t.prototype.addSetOpportunityOnHoldActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.SetOpportunityOnHoldActionLink.Enabled||t.Configuration.SetOpportunityOnHoldActionLink.URL))if(h=r(t.Configuration.SetOpportunityOnHoldActionLink),t.Configuration.SetOpportunityOnHoldActionLink.ShowModal==1)c.find(".set-opportunity-on-hold-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-set-opportunity-on-hold"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.SetOpportunityOnHoldActionLink.SuccessMessage,o,!0);f(o,t.Configuration.SetOpportunityOnHoldActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".set-opportunity-on-hold-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.SetOpportunityOnHoldActionLink.SuccessMessage,o,!0);f(o,t.Configuration.SetOpportunityOnHoldActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addReopenOpportunityActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.ReopenOpportunityActionLink.Enabled||t.Configuration.ReopenOpportunityActionLink.URL))if(h=r(t.Configuration.ReopenOpportunityActionLink),t.Configuration.ReopenOpportunityActionLink.ShowModal==1)c.find(".reopen-opportunity-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-reopen-opportunity"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.ReopenOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ReopenOpportunityActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".reopen-opportunity-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.ReopenOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.ReopenOpportunityActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addWinOpportunityActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.WinOpportunityActionLink.Enabled||t.Configuration.WinOpportunityActionLink.URL))if(h=r(t.Configuration.WinOpportunityActionLink),t.Configuration.WinOpportunityActionLink.ShowModal==1)c.find(".win-opportunity-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-win-opportunity"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.WinOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.WinOpportunityActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.on("show.bs.modal",function(){s.attr("aria-hidden","false")});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){s.attr("aria-hidden","true");l.closest(".action").children("a").trigger("focus")})});else c.find(".win-opportunity-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.WinOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.WinOpportunityActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addLoseOpportunityActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.LoseOpportunityActionLink.Enabled||t.Configuration.LoseOpportunityActionLink.URL))if(h=r(t.Configuration.LoseOpportunityActionLink),t.Configuration.LoseOpportunityActionLink.ShowModal==1)c.find(".lose-opportunity-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-lose-opportunity"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.LoseOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.LoseOpportunityActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.on("show.bs.modal",function(){s.attr("aria-hidden","false")});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){s.attr("aria-hidden","true");l.closest(".action").children("a").trigger("focus")})});else c.find(".lose-opportunity-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.LoseOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.LoseOpportunityActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addGenerateQuoteFromOpportunityActionLinkClickEventHandlers=function(){var s=this,o=s._element,l=s._layouts,t=l[s._activeLayoutIndex],a=s._enableActions,c=o.children(".view-grid").find("table"),h;if(a&&(t.Configuration.GenerateQuoteFromOpportunityActionLink.Enabled||t.Configuration.GenerateQuoteFromOpportunityActionLink.URL))if(h=r(t.Configuration.GenerateQuoteFromOpportunityActionLink),t.Configuration.GenerateQuoteFromOpportunityActionLink.ShowModal==1)c.find(".generate-quote-from-opportunity-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=o.children(".modal-generate-quote-from-opportunity"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var l,a;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");l={};l.LogicalName=t.Configuration.EntityName;l.Id=v;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:a}).done(function(){s.modal("hide");u(t.Configuration.GenerateQuoteFromOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.GenerateQuoteFromOpportunityActionLink)}).fail(function(n){s.modal("hide");i(e(n),o)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){l.closest(".action").children("a").trigger("focus")})});else c.find(".generate-quote-from-opportunity-link").on("click",function(r){var c;r.preventDefault();var l=n(this).closest("tr"),a=l.data("id"),s={};s.LogicalName=t.Configuration.EntityName;s.Id=a;c=JSON.stringify(s);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:c}).done(function(){u(t.Configuration.GenerateQuoteFromOpportunityActionLink.SuccessMessage,o,!0);f(o,t.Configuration.GenerateQuoteFromOpportunityActionLink)}).fail(function(n){i(e(n),o)})})};t.prototype.addDisassociateActionLinkClickEventHandlers=function(){var s=this,t=s._element,l=s._layouts,o=l[s._activeLayoutIndex],a=s._enableActions,c=t.children(".view-grid").find("table"),h;if(a&&o.Configuration.DisassociateActionLink.Enabled&&o.Configuration.DisassociateActionLink.URL)if(h=r(o.Configuration.DisassociateActionLink),o.Configuration.DisassociateActionLink.ShowModal==1)c.find(".disassociate-link").on("click",function(r){r.preventDefault();var l=n(this),a=n(this).closest("tr"),v=a.data("id"),s=t.children(".modal-disassociate"),c=s.find("button.primary");c.off("click");c.on("click",function(r){var g,y,a,p,l,nt;r.preventDefault();n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>");var w=t.data("ref-entity"),b=t.data("ref-id"),k=t.data("ref-rel"),d=t.data("ref-rel-role");w&&b&&k&&(g={LogicalName:w,Id:b},y={SchemaName:k},d&&(y.PrimaryEntityRole=d),a={},a.LogicalName=o.Configuration.EntityName,a.Id=v,p=[],p[0]=a,l={},l.target=g,l.RelatedEntities=p,l.Relationship=y,nt=JSON.stringify(l),shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:nt}).done(function(){s.modal("hide");u(o.Configuration.DisassociateActionLink.SuccessMessage,t,!0);f(t,o.Configuration.DisassociateActionLink)}).fail(function(n){s.modal("hide");i(e(n),t)}).always(function(){c.removeAttr("disabled","disabled").find(".fa-spin").remove()}))});s.on("show.bs.modal",function(){s.attr("aria-hidden","false")});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){s.attr("aria-hidden","true");l.closest(".action").children("a").trigger("focus")})});else c.find(".disassociate-link").on("click",function(r){var b,l,c,a,s,k;r.preventDefault();var nt=n(this),d=n(this).closest("tr"),g=d.data("id"),v=t.data("ref-entity"),y=t.data("ref-id"),p=t.data("ref-rel"),w=t.data("ref-rel-role");v&&y&&p&&(b={LogicalName:v,Id:y},l={SchemaName:p},w&&(l.PrimaryEntityRole=w),c={},c.LogicalName=o.Configuration.EntityName,c.Id=g,a=[],a[0]=c,s={},s.target=b,s.RelatedEntities=a,s.Relationship=l,k=JSON.stringify(s),shell.ajaxSafePost({type:"POST",contentType:"application/json",url:h,data:k}).done(function(){u(o.Configuration.DisassociateActionLink.SuccessMessage,t,!0);f(t,o.Configuration.DisassociateActionLink)}).fail(function(n){i(e(n),t)}))})};t.prototype.addWorkflowActionLinkClickEventHandlers=function(){var s=this,r=s._element,a=s._layouts,t=a[s._activeLayoutIndex],v=s._enableActions,l=r.children(".view-grid").find("table"),h,c,o;if(v&&t.Configuration.ItemActionLinks&&t.Configuration.ItemActionLinks.length!=0){for(h=null,c=0;c<t.Configuration.ItemActionLinks.length;c++)if(o=t.Configuration.ItemActionLinks[c],o!=null&&typeof o.Type!=typeof undefined&&o.Type==7&&typeof o.Workflow!=typeof undefined&&o.Workflow!=null){h=o;break}if(h!=null)if(h.ShowModal==1)l.find(".workflow-link").on("click",function(o){var a,v,c,y;o.preventDefault();var w=n(this),b=n(this).closest("tr"),k=b.data("id"),l=n(this).data("workflowid"),s=r.children(".modal-run-workflow"),h=s.find("button.primary"),p=n(this).data("url");if(l&&p){a=n(this).data("modal-title");a&&s.find(".modal-title").html(a);v=n(this).data("modal-confirmation");v&&s.find(".modal-body").html(v);c=n(this).data("modal-primary-action");c&&(h.html(c),h.attr("title",c),h.attr("aria-label",c));y=n(this).data("modal-cancel-action");y&&s.find(".cancel").html(y);h.off("click");h.on("click",function(o){var a,v,c,y,w,b,d;for(o.preventDefault(),n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>"),a=null,v=0;v<t.Configuration.ItemActionLinks.length;v++)if(c=t.Configuration.ItemActionLinks[v],c!=null&&typeof c.Type!=typeof undefined&&c.Type==7&&typeof c.Workflow!=typeof undefined&&c.Workflow!=null&&c.Workflow.Id==l){a=c;break}y={};w={};w.LogicalName="workflow";w.Id=l;y.workflow=w;b={};b.LogicalName=t.Configuration.EntityName;b.Id=k;y.entity=b;d=JSON.stringify(y);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:p,data:d}).done(function(){s.modal("hide");u(a!=null?a.SuccessMessage:null,r,!0);f(r,a)}).fail(function(n){s.modal("hide");i(e(n),r)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()})});s.on("show.bs.modal",function(){s.attr("aria-hidden","false")});s.modal();s.off("hidden.bs.modal.entitygrid").on("hidden.bs.modal.entitygrid",function(){s.attr("aria-hidden","true");w.closest(".action").children("a").trigger("focus")})}});else l.find(".workflow-link").on("click",function(o){var h,c,s,l,a,v,w;o.preventDefault();var b=n(this).closest("tr"),k=b.data("id"),y=n(this).data("workflowid"),p=n(this).data("url");if(y&&p){for(h=null,c=0;c<t.Configuration.ItemActionLinks.length;c++)if(s=t.Configuration.ItemActionLinks[c],s!=null&&typeof s.Type!=typeof undefined&&s.Type==7&&typeof s.Workflow!=typeof undefined&&s.Workflow!=null&&s.Workflow.Id==y){h=s;break}l={};a={};a.LogicalName="workflow";a.Id=y;l.workflow=a;v={};v.LogicalName=t.Configuration.EntityName;v.Id=k;l.entity=v;w=JSON.stringify(l);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:p,data:w}).done(function(){u(h!=null?h.SuccessMessage:null,r,!0);f(r,h)}).fail(function(n){i(e(n),r)})}})}};t.prototype.initializePagination=function(t,i){var u=this,f=u._element,r=f.children(".view-pagination");if(typeof t==typeof undefined||t===!1||t==null){r.hide();return}if(typeof t.PageSize==typeof undefined||t.PageSize===!1||t.PageSize==null||typeof t.PageCount==typeof undefined||t.PageCount===!1||t.PageCount==null||typeof t.PageNumber==typeof undefined||t.PageNumber===!1||t.PageNumber==null||typeof t.ItemCount==typeof undefined||t.ItemCount===!1||t.ItemCount==null){r.hide();return}if(t.ItemCount===-1){u.initializePager(r,t,i);return}if(t.PageCount<=1){r.hide();return}r.data("pagesize",t.PageSize).data("pages",t.PageCount).data("current-page",t.PageNumber).data("count",t.ItemCount).off("click").pagination({total_pages:r.data("pages"),current_page:r.data("current-page"),callback:function(t,i){var r,f;t.preventDefault();r=n(t.target).closest("li");r.not(".disabled").length>0&&r.not(".active").length>0&&(f=u.getCurrentFilter(),u.load(i,f,!u.isRelatedRecordFilterEnabled(),t.currentTarget))}}).show();f.children(".view-grid").addClass("has-pagination");i&&r.find("a").filter(function(){return n(this).text()==n(i).text()}).trigger("focus")};t.prototype.hidePagination=function(){this._element.children(".view-pagination").hide();this._element.children(".view-grid").removeClass("has-pagination")};t.prototype.initializePager=function(t,i,r){var u=this,y=u._element,o=window.ResourceManager.Pagination_First_Page,s=n("<a>").attr("href","#").data("page",1).attr("aria-label",o).attr("title",o).text("|<"),h=n("<li>").append(s),c=window.ResourceManager.Pagination_Previous_Page,f=n("<a>").attr("href","#").attr("aria-label",c).attr("title",c).text("<"),l=n("<li>").append(f),p=n("<li>").addClass("active").append(n("<span>").text(i.PageNumber)),a=window.ResourceManager.Pagination_Next_Page,e=n("<a>").attr("href","#").attr("aria-label",a).attr("title",a).text(">"),v=n("<li>").append(e),w=n("<ul>").addClass("pagination").append(h).append(l).append(p).append(v);if(t.empty(),i.PageNumber===1&&!i.MoreRecords){t.hide();return}i.PageNumber>1?f.data("page",i.PageNumber-1):(h.addClass("disabled"),s.attr("aria-disabled",!0),l.addClass("disabled"),f.attr("aria-disabled",!0));i.MoreRecords?e.data("page",i.PageNumber+1):(v.addClass("disabled"),e.attr("aria-disabled",!0));t.data("pagesize",i.PageSize).data("current-page",i.PageNumber).data("more-records",i.MoreRecords).off("click").append(w).on("click","a",function(t){var f;t.preventDefault();var i=n(t.target),e=i.data("page"),r=i.closest("li");r.not(".disabled").length>0&&r.not(".active").length>0&&(f=u.getCurrentFilter(),u.load(e,f,!u.isRelatedRecordFilterEnabled(),t.currentTarget))}).show();y.children(".view-grid").addClass("has-pagination");r&&t.find("a").filter(function(){return n(this).text()==n(r).text()}).trigger("focus")};t.prototype.createWindowMessageEventHandler=function(){return function(n){var t=null;(t=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n.origin==t)&&n.data=="Success"&&(this._element.children(".modal-form").modal("hide"),this._element.trigger("refresh"))}.bind(this)};t.prototype.resetPagination=function(){var n=this,t=n._element,i=t.children(".view-pagination");i.data("pages",1).data("current-page",1)};String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.lastIndexOf(n,t)===t})}(jQuery),function(n){function t(t){this._element=n(t);this._associate=this._element.data("associate")||{};this._url=this._element.attr("data-url");this._parent=this._element.parent(".entity-grid");this._success=!1}function i(t,i){if(typeof t!=typeof undefined&&t!==!1&&t!=null){console.log(t);var u=i.find(".modal-body"),r=i.find(".alert-danger.error");r.length==0?r=n("<div><\/div>").addClass("alert alert-block alert-danger error clearfix"):r.empty();typeof t.Message!=typeof undefined&&t.Message!==!1&&t.Message!=null&&(typeof t.Message=="number"?r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.Message+" Error<\/p>"):r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.Message+"<\/p>"));typeof t.InnerError!=typeof undefined&&t.InnerError!==!1&&t.InnerError!=null&&r.append("<p>"+t.InnerError.Message+"<\/p>");u.prepend(r)}}function r(t){var i={Message:window.ResourceManager.UnKnown_Error_Occurred},r;if(t==null)return i;try{r=t.getResponseHeader("content-type");i=r!=null?r.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}}:{Message:t.statusText}}catch(u){i={Message:u.message}}return i}n(document).ready(function(){n(".entity-associate").each(function(){new t(n(this)).render()})});t.prototype.render=function(){var i=this,r=i._element,f=r.find(".panel-body.selected-records"),u=r.find(".entity-grid"),o=r.find(".modal-footer .btn-primary"),t=r.find(".modal-associate"),s=i._parent,e;o.on("click",function(){t.find(".alert-danger.error").remove();i.associate()});e=function(){var t=n(this),r=t.attr("data-entity"),u=t.attr("data-id"),e=t.attr("data-name"),o=f.find("div[data-entity='"+r+"'][data-id='"+u+"']"),i,s;if(!t.hasClass("selected")){o.remove();return}o.length>0||(i=n("<div class='item pull-left btn btn-default'><\/div>").attr("data-entity",r).attr("data-id",u).attr("data-name",e).append(n("<span class='name'><\/span>").html(e)),s=n("<span class='remove'><span class='fa fa-times' aria-hidden='true'><\/span><\/span>").on("click",function(){i.remove();t.find("td:first").empty();t.removeClass("selected").removeClass("info")}),i.append(s),f.append(i))};u.children(".view-grid").on({click:e,keypress:function(n){var t=n.keyCode?n.keyCode:n.which;(t=="13"||t=="32")&&(n.preventDefault(),e.apply(this,arguments))}},"tr");t.on("show.bs.modal",function(){t.attr("aria-hidden","false");u.trigger("refresh")});t.on("hidden.bs.modal",function(){t.attr("aria-hidden","true");t.find(".alert-danger.error").remove();f.empty();u.children(".view-toolbar").find(".view-search input.query").val("");u.children(".view-grid").find("tbody tr.selected").each(function(){n(this).find("td:first").empty();n(this).removeClass("selected").removeClass("info")});i._success&&s.trigger("refresh")})};t.prototype.associate=function(){var t=this,f=t._element,a=t._associate,e=t._url,v=f.find(".panel-body.selected-records"),h=f.find(".modal-footer button.primary"),o=f.find(".modal-associate"),c,s,u,l;if(e==null||e==""){c={Message:"System Error",InnerError:{Message:window.ResourceManager.Service_URL_To_Associate_Request_Could_Determined}};i(c,o);return}(s=n.map(v.find("div.item"),function(t){return{LogicalName:n(t).attr("data-entity"),Id:n(t).attr("data-id"),Name:n(t).attr("data-name")}}),s.length<=0)||(h.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>"),u=a,u.RelatedEntities=s,console.log(u),l=JSON.stringify(u),shell.ajaxSafePost({type:"POST",contentType:"application/json",url:e,data:l}).done(function(){t._success=!0;o.modal("hide")}).fail(function(n){i(r(n),o)}).always(function(){h.removeAttr("disabled","disabled").find(".fa-spin").remove()}))}}(jQuery),function(n){function t(t){this._element=n(t);this._target=this._element.data("target")||{};this._url=this._element.attr("data-url");this._lookupDataFieldName=this._element.attr("data-lookup-datafieldname");this._lookupReferenceEntityFormId=this._element.attr("data-lookup-reference_entityformid");this._languageCode=this._element.attr("data-languageCode")}n(document).ready(function(){n(".entity-lookup").each(function(){new t(n(this)).render()})});t.prototype.render=function(){var r=this,t=r._element,u=t.find(".entity-grid"),o=t.find(".modal-footer button.primary"),f=t.find(".modal-lookup"),i=t.find(".modal-lookup-create-form"),e=this._lookupReferenceEntityFormId,s=this._languageCode;t.find(".modal-footer .remove-value").on("click",function(n){n.preventDefault();r.clearFieldValue()});o.on("click",function(){f.find(".alert-danger.error").remove();r.setFieldValue()});n("#"+r._lookupDataFieldName+"_name").on("keydown",function(n){(n.keyCode===8||n.keyCode===46)&&(r.clearFieldValue(),n.stopPropagation(),n.preventDefault())});t.closest("td.lookup.form-control-cell").find(".clearlookupfield").on("click",function(n){n.preventDefault();r.clearFieldValue()}).toggle(!!n("#"+r._lookupDataFieldName).val());t.closest("td.lookup.form-control-cell").find(".launchentitylookup").on("click",function(n){n.preventDefault();t.find(".view-pagination").data("pages",1).data("current-page",1);f.modal()});t.closest("td.lookup.form-control-cell").find(".new-value").on("click",function(r){var f,o,h;if(r.preventDefault(),f=i.find("iframe"),o=f.data("page"),e){h=o+"?lookup=true&entityformid="+e+"&languagecode="+s;f.attr("src",h);f.on("load",function(){i.find(".form-loading").hide();i.find("iframe").contents().find("#EntityFormControl").show()});i.find(".form-loading").show();i.find("iframe").contents().find("#EntityFormControl").hide();i.modal();window.addEventListener("message",function(i){var f,r;if(f=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),i.origin==f){try{r=n.parseJSON(i.data)}catch(e){return}r.type==="Success"&&(i.preventDefault(),t.children(".modal-form").modal("hide"),u.data("selected",r.id),u.trigger("refresh"));i.target.removeEventListener(i.type,arguments.callee)}})}});i.on("show.bs.modal",function(){i.attr("aria-hidden","false")});i.on("hidden.bs.modal",function(){i.attr("aria-hidden","true");t.closest("td.lookup.form-control-cell").find(".new-value").trigger("focus")});f.on("show.bs.modal",function(){f.attr("aria-hidden","false");u.data("selected",n("#"+r._lookupDataFieldName).val());u.trigger("refresh")});f.on("hidden.bs.modal",function(){f.attr("aria-hidden","true");f.find(".alert-danger.error").remove();u.children(".view-toolbar").find(".view-search input.query").val("");u.children(".view-grid").find("tr.selected").each(function(){n(this).find("td:first").empty();n(this).removeClass("selected").removeClass("info")});u.children(".view-toolbar").find(".toggle-related-filter").addClass("active")})};t.prototype.setFieldValue=function(){var o=this,i=o._element,s=i.find(".modal-footer button.primary"),h=i.find(".modal-lookup"),c=i.find(".entity-grid"),u=o._lookupDataFieldName,f=n("#"+u),r,e,t;f.length!=0&&(r=n("#"+u+"_name"),r.length!=0)&&(e=n("#"+u+"_entityname"),e.length!=0)&&((t=n.map(c.children(".view-grid").find("tr.selected"),function(t){return{LogicalName:n(t).attr("data-entity"),Id:n(t).attr("data-id"),Name:n(t).attr("data-name")}}),t.length<=0)||(s.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>"),r.val(t[0].Name),e.val(t[0].LogicalName),f.val(t[0].Id).trigger("change"),h.modal("hide"),i.closest("td.lookup.form-control-cell").find(".clearlookupfield").show(),s.removeAttr("disabled","disabled").find(".fa-spin").remove(),setIsDirty&&n.isFunction(setIsDirty)&&setIsDirty(f.attr("id")),r.trigger("focus")))};t.prototype.clearFieldValue=function(){var e=this,i=e._element,o=i.find(".modal-footer button.primary"),s=i.find(".modal-lookup"),r=e._lookupDataFieldName,u=n("#"+r),t,f;u.length!=0&&(t=n("#"+r+"_name"),t.length!=0)&&(f=n("#"+r+"_entityname"),f.length!=0)&&(o.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span>"),t.val(""),f.val(""),u.val("").trigger("change"),s.modal("hide"),o.removeAttr("disabled","disabled").find(".fa-spin").remove(),i.closest("td.lookup.form-control-cell").find(".clearlookupfield").hide(),setIsDirty&&n.isFunction(setIsDirty)&&setIsDirty(u.attr("id")),t.trigger("focus"))}}(jQuery),function(n){function t(t){this._element=n(t);this._lookupElement=n("#"+this._element.data("lookup-element"));this._lookupEntityNameElement=n("#"+this._element.data("lookup-element")+"_entityname");this._path=this._element.data("path");this._controlId=this._element.data("controlid");this._formName=this._element.data("formname")}n(document).ready(function(){n("iframe.quickform").each(function(){new t(n(this)).bindEvents()})});t.prototype.bindEvents=function(){var t=this,i=t._element,r=t._lookupElement,u=t._lookupEntityNameElement;i.on("load.quickform",function(){t.resize()});r.on("change.quickform",function(){var i=n(this).val(),r;i==null||i==""?t.clear():(r=u.val(),t.reload(i,r))})};t.prototype.reload=function(n,t,i){var r=this,f=r._element,e=r._formName,o=r._controlId,s=r._path,u;typeof i=="undefined"&&(i="");u=s+"?entityid="+n+"&entityname="+t+"&entityprimarykeyname="+i+"&formname="+e+"&controlid="+o;f.attr("src",u)};t.prototype.clear=function(){var t=this,n=t._element;n.attr("src","about:blank");n.css("height",0)};t.prototype.resize=function(){var t=this,n=t._element;n.css("height",0);n.css("height",n.contents().outerHeight()+4+"px")}}(jQuery);+function(n,t){"use strict";function i(i){var u=n(this),e=u.data("serialized-query"),r=u.data("target"),c=u.closest(".entitylist"),o=c.find(".entity-grid").filter(":first"),s,f,h;o.length==1&&r?(i.preventDefault(),h=n(r).find("input,select").serialize(),o.trigger("metafilter",h)):r&&e&&(s=n(r).find("input,select").serialize(),f=new t,f.setSearch(e,s),window.location.href=f.toString())}function r(){var t=n(this).data("target");t&&n(t).find("input:radio").click(function(){var i=n(this);i.data("checked")?(i.data("checked",null),i.prop("checked",!1)):(n(t).find("input:radio[name="+i.prop("name")+"]").data("checked",null),i.data("checked",!0))})}n(document).on("click.adx.serialized-query.data-api","[data-serialized-query]",i);n(document).ready(function(){n("[data-serialized-query]").each(r)})}(jQuery,URI),function(n,t){"use strict";n.Ad=function(){var n=function(n){this._element=t(n);this.url=this._element.data("url");this._element.data("ad",this)};n.prototype.init=function(){var n=this;this._element.hide();r.call(this).then(function(){u.call(n);n._element.trigger({type:"adplacement_ready",adplacement:n})},function(t){i.call(n,t)})};var i=function(n){console&&console.error&&console.error({error:n,ad:this})},r=function(){var i=this,n=t.Deferred();return this.url?t.ajax({url:this.url,type:"GET"}).then(function(r){i.html=t(r.trim());n.resolve()},n.fail):(this.html=t(this._element.html().trim()),n.resolve()),n.promise()},u=function(){this._element.html(this.html).show();this._element.trigger({type:"ad_ready",ad:this})};return n}();n.AdPlacement=function(){var n=function(n){this._element=t(n);this.url=this._element.data("url");this._element.data("adplacement",this)};n.prototype.init=function(){var n=this;n._element.hide();r.call(this).then(function(){u.call(n)},function(t){i.call(n,t)})};var i=function(n){console&&console.error&&console.error({error:n,ad:this})},r=function(){var i=this,n=t.Deferred();return this.url?t.ajax({url:this.url,type:"GET",async:!0}).then(function(t){i.html=t;n.resolve()},n.fail):(this.html=t(this._element.html().trim()),n.resolve()),n.promise()},u=function(){this._element.html(this.html).show()};return n}();t(document).ready(function(){t(".ad").each(function(){var t=new n.Ad(this);t.init()});t(".adplacement").each(function(){t(this).on("adplacement_ready",function(n,t){console.log(n);console.log(t)});var i=new n.AdPlacement(this);i.init()})})}(window.adx||(window.adx={}),window.jQuery),function(n,t){"use strict";function i(t){t.each(function(){var t=new n.Poll(this);t.init()})}function r(t){t.each(function(){var t=new n.PollPlacement(this);t.init()})}n.Poll=function(){var n=function(n){this._element=t(n);this._content=this._element.find(".poll-content").length?this._element.find(".poll-content"):this._element;this._url=this._element.data("url");this._submitUrl=this._element.data("submit-url")};n.prototype.init=function(){var n=this;f.call(this).then(function(){i.call(n);h.call(n);n._element.trigger({type:"poll_ready",ad:n})},function(t){u.call(n,t)})};n.prototype.viewPoll=function(){r.call(this,!0)};n.prototype.viewResults=function(){r.call(this,!1);this._submitted&&this._element.find(".poll-return").remove()};var u=function(n){console&&console.error&&console.error({error:n,poll:this})},f=function(){var i=this,n=t.Deferred();return this._url?t.ajax({url:this._url,type:"GET"}).then(function(r){i.html=t(r.trim());n.resolve()},n.fail):(this.html=t(this._content.html().trim()),n.resolve()),n.promise()},i=function(){e.call(this);this._id=this._element.find(".poll-questionpanel").data("id");this._name=this._element.find(".poll-questionpanel").data("name");this._submitted=!this._element.find(".poll-questionpanel").length;o.call(this)},e=function(){this._content.html(this.html).show()},o=function(){this._submitted?this.viewResults():this.viewPoll()},r=function(n){this._element.find(".poll-questionpanel").toggle(n);this._element.find(".poll-resultspanel").toggle(!n)},s=function(){var r=this,u=this._element.find("input[id^='poll_option_']:checked").val(),n;u&&this._submitUrl&&(n=shell.ajaxSafePost({url:this._submitUrl,async:!1,type:"POST",data:JSON.stringify({pollId:this._id,optionId:u}),contentType:"application/json; charset=utf-8"}),n.then(function(n){r.html=t(n.trim());i.call(r)}),n.fail(function(){console.log({m:"Post Failed",d:arguments})}))},h=function(){var n=this;this._element.on("click.poll",".poll-submit",function(){console.log("submit");s.call(n)});this._element.on("click.poll",".poll-viewresults",function(){console.log("view results");n.viewResults()});this._element.on("click.poll",".poll-return",function(){console.log("return to poll");n.viewPoll()})};return n}();n.PollPlacement=function(){var n=function(n){this._element=t(n).hide();this._url=this._element.data("url");this._element.data("pollplacement",this)};n.prototype.init=function(){var n=this;u.call(this).then(function(){f.call(n);e.call(n);n._element.trigger({type:"pollplacement_ready",pollplacement:n})},function(t){r.call(n,t)})};var r=function(n){console&&console.error&&console.error({error:n,ad:this})},u=function(){var i=this,n=t.Deferred();return this._url?t.ajax({url:this._url}).then(function(r){i.html=t(r.trim());n.resolve()},n.fail):(this.html=t(this._element.html().trim()),n.resolve()),n.promise()},f=function(){this._element.html(this.html).show()},e=function(){i(this._element.find(".poll"))};return n}();t(document).ready(function(){i(t(".poll"));r(t(".pollplacement"))})}(window.adx||(window.adx={}),window.jQuery),function(n,t){"use strict";function r(n,r,f){var e=JSON.parse(f.getResponseHeader("X-Responded-JSON")),o;e&&e.status===401?(o=Number(t.cookie("chatForcedLogin"))===1,o?(t.cookie("chatForcedLogin",0),i("","Login Required")):(t.cookie("chatForcedLogin",1),u())):i(n)}function u(){var n=window.location,t=window.location.origin+"/SignIn?returnUrl="+encodeURIComponent(n);window.location=t}var i=null;n.getAuthenticationToken=function(n){i=n;t.ajax({type:"GET",url:"/_services/auth/token",cache:!1,success:r,error:function(){i(null)}})}}(window.auth||(window.auth={}),window.jQuery),function(n,t){"use strict";function i(t){this._element=n(t);this._url=this._element.data("url")||n("body").data("case-deflection-url");this._container=this._element.data("container");this._target=this._element.data("target");this._itemTarget=this._element.data("itemtarget");this._template=this._element.data("template");this._itemTemplate=this._element.data("itemtemplate");this._logicalNames=this._element.closest("[data-case-deflection-logicalnames]").data("case-deflection-logicalnames");this._filter=this._element.closest("[data-case-deflection-filter]").data("case-deflection-filter");this._query=this._element.closest("[data-case-deflection-query]").data("case-deflection-query");this._noResultsText=this._element.data("noresultstext");this._$container=null;this._compiledTemplate=null;this._compiledItemTemplate=null;(typeof this._query==typeof undefined||this._query==null||this._query==="")&&(this._query="(+(@subject))")}t.registerHelper("urlquerystringcheck",function(n,t){var i=(n||"").split("?");return i.length<=1?t.fn(this):t.inverse(this)});var r=4;t.registerHelper("label",function(n,t,i){return n===t?i.fn(this):i.inverse(this)});n(document).ready(function(){n("input.case-deflection").each(function(){new i(n(this)).init()})});i.prototype.init=function(){var i=this,u=i._element,r,f,e;if(i._element.length!==0&&i._url){if(r=i._container?u.parents(i._container):u.parent(),i._$container=r,i._template){if(n(i._template).length===0)return;i._compiledTemplate=t.compile(n(i._template).html())}else{if(n("#case-deflection-container").length===0)return;i._compiledTemplate=t.compile(n("#case-deflection-container").html())}if(i._itemTemplate){if(n(i._itemTemplate).length===0)return;i._compiledItemTemplate=t.compile(n(i._itemTemplate).html())}else{if(n("#case-deflection-results").length===0)return;i._compiledItemTemplate=t.compile(n("#case-deflection-results").html())}u.off("keyup.adx.case-deflection").on("keyup.adx.case-deflection",_.debounce(function(n){n.stopPropagation();i.clearResults();i.getResults()},800));f=r.find(".search-clear");e=r.find(".search-apply");f.off("click.adx.case-deflection").on("click.adx.case-deflection",function(n){n.preventDefault();i.clearSearch();i.clearResults()});e.off("click.adx.case-deflection").on("click.adx.case-deflection",function(n){n.preventDefault();i.clearResults();i.getResults()})}};i.prototype.clearSearch=function(){var n=this,t=n._element;t.val("")};i.prototype.clearResults=function(){var t=this,i=t._element,u=t._$container,r=u.find(".search-more");t._target?(r.parent(".panel-footer").animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"fast","linear"),n(t._target).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear",function(){n(this).empty()})):i.parent().find(".results").animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear",function(){n(this).empty()});r.hide();i.data("page",null)};i.prototype.getResults=function(){var n=this;n.getSearchResults()};i.prototype.getMoreResults=function(){var t=this,i=t._element,n=i.data("page");n!=null&&(n=n+1);t.getSearchResults(n)};i.prototype.getSearchResults=function(t){var i=this,o=i._element,c=i._$container,a=o.val(),u=c.find(".search-more"),f,h,e,v,l,s,y;if(!a){i._target?(u.parent(".panel-footer").stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear"),n(i._target).stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear",function(){n(this).empty()})):o.parent().find(".results").stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear",function(){n(this).empty()});u.hide();o.data("page",null);return}a.length<r||(u.prop("disabled",!0),u.append("<span class='fa fa-spinner fa-spin'><\/span>"),i._target?t?f=n(i._target):(f=n(i._target),u.parent(".panel-footer").stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear"),u.hide(),f.stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"fast","linear",function(){n(this).empty()})):t?f=o.parent().find(".results"):(u.parent(".panel-footer").stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear"),u.hide(),o.parent().find(".results").length===1?(f=o.parent().find(".results"),f.stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"fast","linear",function(){n(this).empty()})):(f=n("<div class='results pull-left' style='margin-top: 20px; width: 100%;'><\/div>"),f.hide(),o.parent().append(f))),e=c.find(".case-deflection-loading"),e.length===0&&(e=n("<div class='case-deflection-loading' style='text-align:center;margin-bottom:10px;margin-top:10px;width:100%;'><span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span><\/div>").hide(),i._target?f.after(e):(e.addClass("pull-left"),f.before(e))),!t&&i._target?e.css("margin-top",0):e.css("margin-top","10px"),t||e.animate({opacity:"show",margin:"show",padding:"show",height:"show"},"normal","linear"),v=t||1,l=o.closest("[data-case-deflection-pagesize]").data("case-deflection-pagesize"),(l==null||l==="")&&(l=5),s={},s.parameters={subject:a},s.query=i._query,s.logicalNames=i._logicalNames,s.filter=i._filter,s.pageNumber=v,s.pageSize=l,y=JSON.stringify(s),shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",url:i._url,data:y,global:!1}).done(function(r){if(r==null||r.itemCount===0){if(!t)if(i._target){if(typeof i._noResultsText!=typeof undefined&&i._noResultsText!=null&&i._noResultsText!==""){var e=n("<li class='list-group-item noresults'><\/li>").text(i._noResultsText);f.html(e);f.stop(!0,!0).animate({opacity:"show",margin:"show",padding:"show",height:"show"},"normal","linear")}}else u.parent(".panel-footer").animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"fast","linear");u.hide();u.prop("disabled",!1);u.find(".fa-spinner").remove();return}if(r.caseTitle=a,t||f.html(i._compiledTemplate(r)),h=i._itemTarget?n(i._itemTarget):c.find("#case-deflection-topics"),h.length===0&&(h=f),t?h.append(i._compiledItemTemplate(r)):(h.html(i._compiledItemTemplate(r)),f.stop(!0,!0).animate({opacity:"show",margin:"show",padding:"show",height:"show"},"normal","linear")),u=c.find(".search-more"),r.pageCount<=1||r.pageNumber===r.pageCount)i._target&&u.parent(".panel-footer").stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"normal","linear"),u.hide();else{o.data("page",r.pageNumber);u.off("click.adx.case-deflection").on("click.adx.case-deflection",function(n){n.preventDefault();i.getMoreResults()});u.show();u.parent(".panel-footer").stop(!0,!0).animate({opacity:"show",margin:"show",padding:"show",height:"show"},"normal","linear")}u.prop("disabled",!1);u.find(".fa-spinner").remove();c.find(".deflect").off("click.adx.case-deflection").on("click.adx.case-deflection",function(n){n.preventDefault();window.parent?window.parent.location.replace("/"):window.location.replace("/")});t||n("html, body").animate({scrollTop:0},200)}).always(function(){e.stop(!0,!0).animate({opacity:"hide",margin:"hide",padding:"hide",height:"hide"},"fast","linear")}))}}(jQuery,Handlebars),function(n){function t(){var r=[],u=n("#entitlementid_lookupmodal").find(".entity-grid"),f=n("#customerid").val(),e=n("#customerid_entityname").val(),i=u?u.data("view-layouts")[0]:null,s=n("#entitlementid_lookupmodal").find(".entity-lookup").attr("default-entitlements-url"),t,o;i&&f&&e&&(r=[{Key:"customerid",Value:f},{Key:"customertype",Value:e}],t={},t.layout=i.Base64SecureConfiguration,t.sortExpression=i.SortExpression,t.customParameters=r,o=JSON.stringify(t),shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",url:s,data:o,global:!1,success:function(t){t&&(n("#entitlementid").val(t.id),n("#entitlementid_entityname").val(t.entityname),n("#entitlementid_name").val(t.name))}}))}n(document).ready(function(){var i=n("#customerid");i.length>0&&n("#entitlementid").length>0&&n("#customerid_name").attr("disabled")!="disabled"&&n("#entitlementid").closest("td").is(":visible")&&(i.change(t),i.change())})}(jQuery),function(n,t){function h(n){var e=window.location.href,r,i,u,f;return(n=n.replace(/[\[\]]/g,"\\$&"),r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(e),!i)?null:i[2]?(u=decodeURIComponent(i[2].replace(/\+/g," ")),f=t.Utils.escapeExpression(u),f):""}function e(n,t){n.click(function(n){n.preventDefault();n.stopPropagation();t(this)});n.keypress(function(n){i.isFiredSpaceOrEnterEvent(n)&&(n.preventDefault(),n.stopPropagation(),t(this))})}function r(t,i,r,u){var f=this;f.$templateItem=n(t);f.$insertItem=n(i);f.searchControlData=r;f.initialState=u}function y(n){n&&n.forEach(function(n){var t=_(n.facetData).where({active:!0}),i=!!t&&t.length>0,r=n.facetName==="modifiedon.date"&&!!n.facetData[0],u=n.facetName=="_logicalname"&&!!n.facetData[0];if(r||u){var f=!t||t.length===0,e=!!t&&t.length>1,o=!!n.facetData[0].active&&!e;n.facetData[0].active=f||o;n.facetData[0].first=!0}else n.noActive=!i})}function p(n){if(n){var i=[{skipStars:!0},{filledStars:[1,2,3,4],emptyStars:[5],ratingLabel:ResourceManager.Facet_Rating_Four_And_Up},{filledStars:[1,2,3],emptyStars:[4,5],ratingLabel:ResourceManager.Facet_Rating_Three_And_Up},{filledStars:[1,2],emptyStars:[3,4,5],ratingLabel:ResourceManager.Facet_Rating_Two_And_Up},{filledStars:[1],emptyStars:[2,3,4,5],ratingLabel:ResourceManager.Facet_Rating_One_And_Up}],t=_(n).findWhere({facetName:"rating"});t&&(t.facetData=[{},t.facetData[3],t.facetData[2],t.facetData[1],t.facetData[0]],i.forEach(function(n,r){t.facetData[r]=_.assign(t.facetData[r],i[r])}))}}function u(n,t,i,u){var e=this,f;r.call(e,n,t,i,u);e.calculateSelectedData();f=i.facetViews;p(f);y(f)}function s(n,t,i,u){var f=this;r.call(f,n,t,i,u);f.data=i;f.data.needsPagination=f.data.pageCount>1;f.data.previousPage=f.data.pageNumber-1;f.data.nextPage=f.data.pageNumber+1;f.data.pageLinks=l(f.data.pageCount,f.data.pageNumber)}function o(n,t,i,u){var f=this;r.call(f,n,t,i,u)}function c(n,t,i,u){var f=this;i.isResetVisible=u!=null&&u.length>0;r.call(f,n,t,i,u)}function f(){var t=this;t._element=n(".handlebars-search-container");t._searchComponents=[];t._state={pageNumber:1,url:n("body").data("case-deflection-url"),query:t._element.data("query"),facetsOrder:t._element.data("facets-order"),logicalNames:h("logicalNames"),filter:h("filter"),searchTerm:h("q")}}var i={spacebar:32,enter:13,up:38,down:40,isFiredSpaceOrEnterEvent:function(n){return n.keyCode===i.spacebar||n.charCode===i.spacebar||n.keyCode===i.enter},isFiredSpaceEvent:function(n){return n.keyCode===i.spacebar||n.charCode===i.spacebar}},v=[{entityLogicalNames:["adx_communityforum","adx_communityforumthread","adx_communityforumpost"],cssClass:"label label-default",label:ResourceManager.Forums_Label},{entityLogicalNames:["adx_blog","adx_blogpost","adx_blogpostcomment"],cssClass:"label label-info",label:ResourceManager.Blogs_Label},{entityLogicalNames:["adx_event","adx_eventschedule"],cssClass:"label label-info",label:ResourceManager.Events_Label},{entityLogicalNames:["adx_idea","adx_ideaforum"],cssClass:"label label-success",label:ResourceManager.Ideas_Label},{entityLogicalNames:["adx_issue"],cssClass:"label label-danger",label:ResourceManager.Issues_Label},{entityLogicalNames:["incident"],cssClass:"label label-warning",label:ResourceManager.Resolved_Cases_Label},{entityLogicalNames:["kbarticle"],cssClass:"label label-info",label:ResourceManager.Knowledge_Base_Label},{entityLogicalNames:["knowledgearticle"],cssClass:"label label-primary",label:ResourceManager.Knowledge_Base_Label}],l,a;t.registerHelper("ifvalue",function(n,t){return t.hash.value===n?t.fn(this):t.inverse(this)});t.registerHelper("stringFormat",function(n){return _.rest(_.initial(arguments)).reduce(function(n,t,i){return n.replace("{"+i+"}",t)},n)});r.prototype.render=function(){var n=this,i=t.compile(n.$templateItem.html());n.$insertItem.html(i(n.searchControlData));n.applyInitialState!=null&&n.initialState!=null&&n.applyInitialState();n.addOnClickCallback!=null&&n.addOnClickCallback()};u.prototype=Object.create(r.prototype);u.prototype.calculateSelectedData=function(){var n=this;n.searchControlData!=null&&n.searchControlData.facetViews!=null&&n.initialState!=null&&n.initialState.forEach(function(t){t.Constraints.forEach(function(i){var r=t.FacetName;n.searchControlData.facetViews.forEach(function(n){n.facetData.forEach(function(t){t.name==i&&n.facetName==r&&(t.active=!0)})})})})};u.prototype.processFacetConstraintClick=function(t,i){var r=n(t),u=r.parents(".facet-view"),f=u.hasClass("facet-view-multiple-select"),e=r.data("control-value")==="";(!f||e)&&u.find(".active").removeClass("active");r.toggleClass("active");var o=r.attr("data-control-value"),s=r.attr("data-facet"),h="[data-control-value='"+o+"'][data-facet='"+s+"']";i.callback({facetConstraints:i.getSelected()},h)};u.prototype.addOnClickCallback=function(){var t=this;e(t.$insertItem.find(".control-item"),function(n){t.processFacetConstraintClick(n,t)});t.$insertItem.find(".control-item").keydown(function(t){var u=n(this),r;return t.keyCode===i.up&&(r=u.prev()),t.keyCode===i.down&&(r=u.next()),r!=null&&r.hasClass("control-item")?(r.focus(),!1):void 0});e(t.$insertItem.find(".show-more"),function(t){n(t).parents(".facet-view").removeClass("short-list")});e(t.$insertItem.find(".show-less"),function(t){n(t).parents(".facet-view").addClass("short-list")});t.$insertItem.find(".control-item:hidden").length===0&&t.$insertItem.find(".show-more").hide();e(t.$insertItem.find(".facet-view-multiple-select .show-more"),u.prototype.showLocalizedProductLabels);u.prototype.showLocalizedProductLabels(t.$insertItem.find(".facet-view-multiple-select .show-more"))};u.prototype.showLocalizedProductLabels=function(t){var i=[],r=n(t).parents(".facet-view"),u=r.find(" .control-item[data-control-display-name='']:visible");(u.each(function(){var t=n(this).data("control-value");i.push(t);n(this).addClass("hidden")}),i.length!==0)&&(r.find(".btn").each(function(){n(this).attr("disabled","true")}),shell.ajaxSafePost({url:n("body").data("case-deflection-url")+"/GetLocalizedLabels",type:"POST",dataType:"json",data:{localizedLabelEntityName:"product",localizedLabelField:"name",entityGuids:i}}).done(function(t){u.each(function(){var i=n(this),f=n(this).data("control-value"),r=t[f],u;r!=null&&(i.attr("aria-label",r+i.attr("aria-label")),i.attr("data-control-display-name",r),u=i.find("label"),u.html(u.html()+r),i.removeClass("hidden"))})}).always(function(){r.find(".btn").each(function(){n(this).removeAttr("disabled")})}))};u.prototype.getSelected=function(){var i=this,t=[];return i.$insertItem.find(".control-item.active").each(function(i,r){var u=n(r).attr("data-control-value"),f=n(r).attr("data-facet");u!=null&&u!=""&&f!==""&&u!=="[* TO *]"&&t.push({FacetName:f,Constraints:[u]})}),t};l=function(n,t){var i=Math.max(1,4),r=t-Math.floor(i/2),u=t+Math.ceil(i/2),f=Math.max(r,1),e=Math.min(u,n),o=f-r,s=u-e,h=Math.max(f-s,1),c=Math.min(e+o,n);return _.range(h,c+1)};s.prototype=Object.create(r.prototype);s.prototype.addOnClickCallback=function(){var n=this,t=_.union(n.data.pageLinks,[1,n.data.pageCount]);t.forEach(function(t){e(n.$insertItem.find(".js-go-to-"+t),function(){n.callback({pageNumber:t})})})};s.prototype.getSelected=function(){var n=this;return n._state||n.data.pageNumber};o.prototype=Object.create(r.prototype);o.prototype.addOnClickCallback=function(){var t=this;t.callback!=null&&(t.$insertItem.find("select").change(function(){t.callback({sortOptions:t.getSelected()})}),t.$insertItem.find("select").keydown(function(t){i.isFiredSpaceEvent(t)&&(n(this).focus(),n(this).find("option").trigger("click"))}))};o.prototype.getSelected=function(){var n=this;return n.$insertItem.find(":selected").val()};o.prototype.applyInitialState=function(){var n=this;n.$insertItem.find("select").val(n.initialState)};c.prototype=Object.create(r.prototype);c.prototype.addOnClickCallback=function(){var n=this;e(n.$insertItem.find(".facet-clear-all"),function(){n.callback({facetConstraints:null})})};a=function(n,t){var i=t.map(function(t){return _(n.facetViews).findWhere({facetName:t})}).filter(function(n){return n});n.facetViews=i};f.prototype.init=function(){this.updateState()};f.prototype.initSearchComponents=function(){var l=t.compile(n("#facets-view-body-container").html()),i,r,f,e,h;n(".search-body-container").html(l(this.searchData));i=_(n(".js-facet-order-definition").children()).map(function(t){return n(t).text()});_.isEmpty(i)||a(this.searchData,i);r=new u("#facets-view-results",".facets",this.searchData,this._state.facetConstraints);r.callback=this.setState.bind(this);this._searchComponents.push(r);f=new o("#search-order-select",".search-order",this.searchData,this._state.sortOptions);f.callback=this.setState.bind(this);this._searchComponents.push(f);e=new s("#facets-view-pagination",".search-pagination",this.searchData);e.callback=this.setState.bind(this);this._searchComponents.push(e);h=new c("#search-view-results",".search-results",this.searchData,this._state.facetConstraints);h.callback=this.setState.bind(this);this._searchComponents.push(h)};f.prototype.breadCrumbs=function(t){n("ul.breadcrumb > li.active").removeClass("active");n("#searchterm").remove();var i=t||"",r=n("<li id='searchterm' >").html("<span class='searchterm'>"+i+"<\/span>").addClass("active");n("ul.breadcrumb li:last").after(r)};f.prototype.render=function(){this._searchComponents.forEach(function(n){n.render()})};f.prototype.mapResponseData=function(n){var t=this;return n.firstResultNumber=(n.pageNumber-1)*n.pageSize+1,n.lastResultNumber=Math.min(n.pageNumber*n.pageSize,n.itemCount),n.items.forEach(function(n){n.tags=v.filter(function(t){return _.contains(t.entityLogicalNames,n.entityLogicalName)})}),n.query=t._state.searchTerm,n};f.prototype.setState=function(n,t){var i=this,r=!!n.facetConstraints;r&&(n.pageNumber=1);i._state=_.assign(i._state,n);i.updateState(t)};f.prototype.updateState=function(t){var i=this,r,u;i._element.find(".js-search-body").hide();i._element.find(".loader").show();r={};r.query=i._state.query;r.parameters={Query:i._state.searchTerm};r.logicalNames=i._state.logicalNames;r.facetConstraints=i._state.facetConstraints;r.sortingOption=i._state.sortOptions;r.pageNumber=i._state.pageNumber;r.filter=i._state.filter;u=JSON.stringify(r);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",url:i._state.url,data:u,global:!1}).done(function(r){i.breadCrumbs(i._state.searchTerm);i.searchData=i.mapResponseData(r);i.initSearchComponents();i.render();i._element.find(".js-search-body").show();t!=null&&(n(t).find("input").length>0?n(t).find("input").focus():n(t).focus())}).always(function(){i._element.find(".loader").hide()})};window.FacetedSearch=f}(jQuery,Handlebars);$(document).ready(function(){function n(n,t){var i,u,r;t.stopPropagation();t.preventDefault();i=$("#"+n.id).attr("data-parent");u=i==="#RelatedArticles"?$(i).find("a.list-group-item"):$(i).find("li.list-group-item");u.show();$("#"+n.id).hide();r="#"+n.nextElementSibling.id;$(r).show();$(r).css("display","block");$(r).focus()}function t(n,t){var r;t.stopPropagation();t.preventDefault();var i=$("#"+n.id).attr("data-parent"),u=i==="#RelatedArticles"?$(i).find("a.list-group-item"):$(i).find("li.list-group-item"),f=u.filter(function(n){return n>4});f.hide();$("#"+n.id).hide();r="#"+n.previousElementSibling.id;$(r).show();$(r).focus()}$("#showMoreNotesButton").click(function(t){n(this,t)});$("#showLessNotesButton").click(function(n){t(this,n)});$("#showMoreArticleButton").click(function(t){n(this,t)});$("#showLessArticleButton").click(function(n){t(this,n)})});$(document).ready(function(){if($("[data-badge]")){var n={},t;$("[data-badge]").each(function(i,r){t=$(r).attr("data-uri");n[t]||(n[t]=Array());n[t].push($(r))});$.each(n,function(n,t){t[0].attr("data-uri")&&$.ajax({type:"GET",url:t[0].attr("data-uri"),contentType:"application/json; charset=utf-8",dataType:"html"}).done(function(n){$.each(t,function(t,i){$(i).html(n);$(i).find('[data-toggle="popover"]').popover({html:!0,template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content" style="padding-bottom:3px;"><\/div><\/div>'})})})})}}),function(n){function t(t){this._element=n(t);this._target=this._element.data("target")||{};this._serviceUrlGet=this._element.attr("data-url-get");this._serviceUrlAddFiles=this._element.attr("data-url-add-files");this._serviceUrlAddFolder=this._element.attr("data-url-add-folder");this._serviceUrlDelete=this._element.attr("data-url-delete");this._addEnabled=this._element.data("add-enabled");this._deleteEnabled=this._element.data("delete-enabled");this._pageSize=this._element.attr("data-pagesize");this._addSuccess=!1;this._deleteSuccess=!1;var i=this;n(t).on("refresh",function(n,t){i.load(t)})}function i(t,i){if(typeof t!=typeof undefined&&t!==!1&&t!=null){console.log(t);var u=i.find(".modal-body"),r=i.find(".alert-danger.error");r.length==0?r=n("<div><\/div>").addClass("alert alert-block alert-danger error clearfix"):r.empty();typeof t.InnerError!=typeof undefined&&typeof t.InnerError.Message!=typeof undefined&&t.InnerError.Message!==!1&&t.InnerError.Message!=null?typeof t.InnerError.Message=="number"?r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.InnerError.Message+" Error<\/p>"):r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.InnerError.Message+"<\/p>"):typeof t.Message!=typeof undefined&&t.Message!==!1&&t.Message!=null&&(typeof t.Message=="number"?r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.Message+" Error<\/p>"):r.append("<p><span class='fa fa-exclamation-triangle' aria-hidden='true'><\/span> "+t.Message+"<\/p>"));u.prepend(r)}}n(document).ready(function(){n(".sharepoint-grid").each(function(){new t(n(this)).render()})});t.prototype.render=function(){var r=this,n=r._element,u=n.children(".grid-actions").find("a.add-file"),t=n.children(".modal-add-file"),f=t.find(".modal-footer .btn-primary"),e=n.children(".grid-actions").find("a.add-folder"),i=n.children(".modal-add-folder"),o=i.find(".modal-footer .btn-primary");if(r.load(),r._addEnabled){u.on("click",function(){var i=t.find(".destination-group"),r=n.attr("data-folderpath");r?(i.find("p.destination-folder").html(r+"/"),i.show()):i.hide();t.modal("show")});f.on("click",function(){r.addFile()});t.on("hidden.bs.modal",function(){t.find("input[type='file']").val("");t.find(".alert-danger.error").remove()});e.on("click",function(){var t=i.find(".destination-group"),r=n.attr("data-folderpath");r?(t.find("p.destination-folder").html(r+"/"),t.show()):t.hide();i.modal("show")});o.on("click",function(){r.addFolder()});i.on("hidden.bs.modal",function(){i.find("#FolderName").val("");i.find(".alert-danger.error").remove()})}};t.prototype.load=function(t){var r=this,i=r._element,u=i.children(".sharepoint-data"),o=i.children(".sharepoint-error"),s=i.children(".sharepoint-empty"),a=i.children(".sharepoint-access-denied"),v=i.children(".sharepoint-loading"),p=i.find(".sharepoint-breadcrumbs"),h=i.find(".sharepoint-pagination"),w=r._serviceUrlGet,b=r._target,k=r._pageSize,c,f,e;o.hide();s.hide();a.hide();u.hide().empty();p.hide().empty();h.hide();v.show();c=i.attr("data-sort-expression")||"FileLeafRef ASC";f=h.data("current-page");(f==null||f=="")&&(f=1);t=t||f;e=h.data("pagesize");(e==null||e=="")&&(e=k);var l=i.attr("data-folderpath")||"",y=l.replace(/[\t\n\f \/>"'<=]/g,""),d=i.attr("data-paging-info"+t+y);r.getData(w,b,c,t,e,d,l,function(t){var f,e;if(typeof t==typeof undefined||t===!1||t==null){s.fadeIn();return}if(typeof t.AccessDenied!=typeof undefined&&t.AccessDenied!==!1&&t.AccessDenied){a.fadeIn();return}if(t.TotalCount==0){s.fadeIn();return}f=n("#sharepoint-template").html();e=Handlebars.compile(f);u.html(e(t));u.find("abbr.timeago").each(function(){var r=n(this).attr("title"),t=window.moment;if(t){var u=dateFormatConverter.convert(i.closest("[data-dateformat]").data("dateformat")||"M/d/yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),f=dateFormatConverter.convert(i.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),e=u+" "+f;n(this).text(t(r).format(e))}});u.find("abbr.timeago").timeago();r.initializeBreadcrumbs(l);u.fadeIn();r.addFolderClickEventHandlers();r._deleteEnabled&&r._deleteEnabled!="False"&&r.addDeleteClickEventHandlers();var o=c.split(" "),h=o[0],v=o[1];i.find(".view-grid").find("table").find("th.sort-enabled a").each(function(){var t=n(this).closest("th");t.data("sort-name")==h&&(v=="ASC"?(t.data("sort-dir","ASC").removeClass("sort-desc").addClass("sort-asc"),t.attr("aria-sort","ascending"),n(this).append(" ").append(n("<span><\/span>").addClass("fa").addClass("fa-arrow-up")).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Descending_Order+"<\/span>")):(t.data("sort-dir","DESC").removeClass("sort-asc").addClass("sort-desc"),t.attr("aria-sort","descending"),n(this).append(" ").append(n("<span><\/span>").addClass("fa").addClass("fa-arrow-down")).append("<span class='sr-only sort-hint'>. "+window.ResourceManager.Sort_Ascending_Order+"<\/span>")),t.addClass("sort"))});r.addSortEventHandlers();r.initializePagination(t,y)},function(n,t,i){o.find(".details").append(i);o.show()},function(){v.hide()})};t.prototype.getData=function(t,i,r,u,f,e,o,s,h,c){var l,a;if(s=n.isFunction(s)?s:function(){},h=n.isFunction(h)?h:function(){},c=n.isFunction(c)?c:function(){},!t||t==""){c.call(this);h.call(this,null,"error","A required service url was not provided.");return}if(!i){c.call(this);h.call(this,null,"error","A required regarding EntityReference parameter was not provided.");return}f=f||-1;l={};l.regarding=i;l.sortExpression=r;l.page=u;l.pageSize=f;l.pagingInfo=e;l.folderPath=o;a=JSON.stringify(l);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json",url:t,data:a,global:!1}).done(s).fail(h).always(c)};t.prototype.initializeBreadcrumbs=function(t){if(t){var u=this,f=u._element,i=f.find(".sharepoint-breadcrumbs"),r="",e=t.split("/");n.each(e,function(t,o){t==e.length-1?i.append("<li class='active'>"+o+"<\/li>"):o?(r=r+"/"+o,i.append("<li><a href='#' data-folderpath=\""+r+'">'+o+"<\/a><\/li>")):i.append("<li><a href='#' data-folderpath=''><span class='fa fa-step-backward fa-fw' aria-hidden='true'><\/span><span class='sr-only'>Root<\/span><\/a><\/li>");i.find("a").on("click",function(t){t.stopImmediatePropagation();t.preventDefault();f.attr("data-folderpath",n(this).attr("data-folderpath"));u.load(1)})});i.fadeIn()}};t.prototype.addFolderClickEventHandlers=function(){var t=this,i=t._element;i.find(".folder-link").on("click",function(r){r.stopImmediatePropagation();r.preventDefault();i.attr("data-folderpath",n(this).attr("data-folderpath"));t.load(1)})};t.prototype.addFile=function(){var f=this,e=f._element,l=f._target,s=f._serviceUrlAddFiles,t=e.find(".modal-add-file"),a=t.find(".modal-footer button.primary"),v=!1,y,u,h,r,c,o;if(s==null||s==""){y={Message:"System Error",InnerError:{Message:"The URL to the service for this Add File Request could not be determined."}};i(y,t);return}if(u=t.find("input[type='file']"),h=t.find("input[type='checkbox']"),h.length>0&&(v=h.prop("checked")),a.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-pulse' aria-hidden='true'><\/span> "),window.FormData!==undefined){if(r=new FormData,r.append("regardingEntityLogicalName",l.LogicalName),r.append("regardingEntityId",l.Id),u.length>0&&typeof u[0].files!=typeof undefined&&u[0].files.length>0)for(c=u[0].files,o=0;o<c.length;o++)r.append("files",c[o]);r.append("overwrite",v);e.attr("data-folderpath")&&r.append("folderPath",e.attr("data-folderpath"));shell.ajaxSafePost({url:s,type:"POST",data:r,mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1}).done(function(){f._addSuccess=!0;e.trigger("refresh");t.modal("hide")}).fail(function(r){var u=r.getResponseHeader("content-type"),f=u.indexOf("json")>-1?n.parseJSON(r.responseText):{Message:r.status,InnerError:{Message:r.statusText}};i(f,t)}).always(function(){a.removeAttr("disabled","disabled").find(".fa-pulse").remove()})}else i({Message:"Your browser does not support FormData."},t)};t.prototype.addFolder=function(){var t=this,f=t._element,a=t._target,e=t._serviceUrlAddFolder,r=f.find(".modal-add-folder"),o=r.find(".modal-footer button.primary"),s,l;if(e==null||e==""){s={Message:"System Error",InnerError:{Message:"The URL to the service for this Add Folder Request could not be determined."}};i(s,r);return}o.attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-pulse' aria-hidden='true'><\/span> ");var h=r.find("#FolderName").val(),c=f.attr("data-folderpath")||"",u={};u.regarding=a;u.name=h;u.folderPath=c;l=JSON.stringify(u);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:e,data:l}).done(function(){t._addSuccess=!0;f.attr("data-folderpath",c+"/"+h);r.modal("hide");t.load(1)}).fail(function(t){var u=t.getResponseHeader("content-type"),f=u.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}};i(f,r)}).always(function(){o.removeAttr("disabled","disabled").find(".fa-pulse").remove()})};t.prototype.addDeleteClickEventHandlers=function(){var u=this,f=u._element,e=u._target,o=u._serviceUrlDelete,t=f.children(".modal-delete-file"),r;if(t.length!=0){t.on("hidden.bs.modal",function(){t.find(".sp-item-name").remove();t.find(".alert-danger.error").remove()});if(r=f.children(".modal-delete-folder"),r.length!=0){r.on("hidden.bs.modal",function(){r.find(".sp-item-name").remove();r.find(".alert-danger.error").remove()});f.find(".delete-link").on("click",function(s){var c,l,h,v,a;if(s.stopImmediatePropagation(),s.preventDefault(),c=n(this).closest(".sp-item"),l=c.data("id"),!l||l==""){console.log("Failed to launch delete dialog. Data parameter 'id' is null.");return}h=c.data("foldername")?r:t;v=h.find(".modal-body");v.append(n("<p class='sp-item-name'>").html(c.find("a").html()));a=h.find(".modal-footer button.primary");a.unbind("click");a.on("click",function(){var r,s;n(this).attr("disabled","disabled").prepend("<span class='fa fa-spinner fa-pulse' aria-hidden='true'><\/span>");r={};r.regarding=e;r.id=l;s=JSON.stringify(r);shell.ajaxSafePost({type:"POST",contentType:"application/json",url:o,data:s}).done(function(){u._deleteSuccess=!0;f.trigger("refresh");h.modal("hide")}).fail(function(r){var u=r.getResponseHeader("content-type"),f=u.indexOf("json")>-1?n.parseJSON(r.responseText):{Message:r.status,InnerError:{Message:r.statusText}};i(f,t)}).always(function(){a.removeAttr("disabled","disabled").find(".fa-pulse").remove()})});h.modal()})}}};t.prototype.addSortEventHandlers=function(){var t=this,i=t._element;i.find(".view-grid").find("table").find("th.sort-enabled a").on("click",function(r){var o;r.stopImmediatePropagation();r.preventDefault();var e=n(this).closest("th"),u=e.data("sort-name"),f=e.data("sort-dir");typeof u!=typeof undefined&&u!==!1&&u!==null&&u!==""&&((typeof f==typeof undefined||f===!1)&&(f=""),o=f=="ASC"?u+" DESC":u+" ASC",i.attr("data-sort-expression",o),t.load(1))})};t.prototype.initializePagination=function(t,i){if(typeof t!=typeof undefined&&t!==!1&&t!=null&&typeof t.PageSize!=typeof undefined&&t.PageSize!==!1&&t.PageSize!=null&&typeof t.PageNumber!=typeof undefined&&t.PageNumber!==!1&&t.PageNumber!=null&&typeof t.TotalCount!=typeof undefined&&t.TotalCount!==!1&&t.TotalCount!=null){var e=this,u=e._element,f=u.find(".sharepoint-pagination"),r=parseInt(u.attr("data-page-count"+i))||1;if(t.PagingInfo&&(u.attr("data-paging-info"+(t.PageNumber+1)+i,t.PagingInfo),r<t.PageNumber+1&&(r=t.PageNumber+1,u.attr("data-page-count"+i,r))),r<=1){f.hide();return}f.data("pagesize",t.PageSize).data("pages",r).data("current-page",t.PageNumber).data("count",t.TotalCount).unbind("click").pagination({total_pages:f.data("pages"),current_page:f.data("current-page"),callback:function(t,i){t.stopImmediatePropagation();t.preventDefault();var r=n(t.target).closest("li");r.not(".disabled").length>0&&r.not(".active").length>0&&e.load(i)}}).show()}}}(jQuery);portal=portal||{};portal.convertAbbrDateTimesToTimeAgo=function(n){n("abbr.timeago").each(function(){var t=n(this),r=Date.parse(t.text()),i;if(r){i=moment(r);var u=dateFormatConverter.convert(t.closest("[data-dateformat]").data("dateformat")||"MMMM d, yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),f=dateFormatConverter.convert(t.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),e=dateFormatConverter.convert(t.attr("data-format"),dateFormatConverter.dotNet,dateFormatConverter.momentJs)||u+" "+f;t.attr("title",i.format("YYYY-MM-DDTHH:mm:ss"));t.text(i.format(e))}});n("abbr.timeago").timeago();n("abbr.posttime").each(function(){var t=n(this),r=Date.parse(t.text()),i;if(r){i=moment(r);var f=dateFormatConverter.convert(t.closest("[data-dateformat]").data("dateformat")||"MMMM d, yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),e=dateFormatConverter.convert(t.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),u=dateFormatConverter.convert(t.attr("data-format"),dateFormatConverter.dotNet,dateFormatConverter.momentJs)||f+" "+e;t.attr("title",i.format(u));t.text(i.format(u))}})};portal.initializeHtmlEditors=function(){var n=$("[data-app-path]").data("app-path")||"/";$(document).on("focusin",function(n){$(n.target).closest(".mce-window").length&&n.stopImmediatePropagation()});$(".html-editors textarea").each(function(){CKEDITOR.replace(this,{customConfig:"",language:$(this).closest("[crm-lang]").attr("crm-lang"),height:240,uiColor:"#EEEEEE",contentsCss:[n+"css/bootstrap.min.css",n+"css/ckeditor.css"],stylesSet:"portal",format_tags:"p;h1;h2;h3;h4;h5;h6;pre",disableNativeSpellChecker:!1,toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"links",groups:["links"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"insert",groups:["insert"]},{name:"forms",groups:["forms"]},{name:"tools",groups:["tools"]},{name:"document",groups:["document","doctools","mode"]},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"others",groups:["others"]},{name:"about",groups:["about"]}],removeButtons:"Save,NewPage,Preview,Print,Templates,SelectAll,Find,Replace,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Anchor,Flash,Smiley,PageBreak,Iframe,ShowBlocks,Font,FontSize,CreateDiv,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,BidiRtl,BidiLtr,Language,TextColor,BGColor,About,Subscript,Superscript,Underline",on:{change:function(){this.updateElement()}}})})},function(n,t){function r(t,i){var r=n(".notifications"),u,f;r.length==0&&(u=n(".page-heading"),r=u.length==0?n("<div class='notifications'><\/div>").prependTo(n("#content-container")):n("<div class='notifications'><\/div>").appendTo(u));r.find(".notification").slideUp().remove();typeof t!=typeof undefined&&t!==!1&&t!=null&&t!=""&&(f=n("<div class='notification alert alert-success success alert-dismissible' role='alert'><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;<\/span><\/button>"+t+"<\/div>").on("closed.bs.alert",function(){r.find(".notification").length==0&&r.hide()}).prependTo(r),r.show(),window.scrollTo(0,0),i&&setTimeout(function(){f.slideUp(100).remove();r.find(".notification").length==0&&r.hide()},5e3))}CKEDITOR.stylesSet.add("portal",[{name:window.ResourceManager.CKEditor_Code_Style,element:"code"},{name:window.ResourceManager.CKEditor_Code_Block_Style,element:"pre",attributes:{"class":"linenums prettyprint"}}]);portal.initializeHtmlEditors();n(function(){moment.locale(n("html").attr("lang"));portal.convertAbbrDateTimesToTimeAgo(n);var t=n(".facebook-signin");t.on("click",function(n){n.preventDefault();window.open(t.attr("href"),"facebook_auth","menubar=1,resizable=1,scrollbars=yes,width=800,height=600")});n(".crmEntityFormView input:not([value])[readonly]:not([placeholder]), .crmEntityFormView input[value=''][readonly]:not([placeholder])").filter(function(){var t=n(this).val();return t==null||t.length===0}).each(function(){n(this).parent().css("position","relative");n(this).after(n("<div>&mdash;<\/div>").addClass("text-muted").css("position","absolute").css("top",4))});n(".crmEntityFormView select[disabled] option:checked[value='']").closest("select").each(function(){n(this).parent().css("position","relative");n(this).after(n("<div>&mdash;<\/div>").addClass("text-muted").css("position","absolute").css("top",4))});n(".crmEntityFormView textarea[readonly]").filter(function(){return n(this).val().length===0}).each(function(){n(this).parent().css("position","relative");n(this).after(n("<div>&mdash;<\/div>").addClass("text-muted").css("position","absolute").css("top",4))});n(".btn-select").each(function(){var t=n(this),i=n(t.data("target")),u=n(t.data("focus")),r=n(".btn .selected",t);i.change(function(){var u=n("option:selected",i);t.find(".dropdown-menu li.active a").attr("aria-selected",!1);t.find(".dropdown-menu li.active").removeClass("active");r.text(u.text())});n(".dropdown-menu li > a",t).click(function(){var f=n(this),e=f.data("value");n(".dropdown-menu li a",t).attr("aria-selected",!1);n(".dropdown-menu li",t).removeClass("active");f.parent("li").addClass("active");f.attr("aria-selected",!0);i.val(e);r.text(f.text());u.focus()})});n("abbr.timestamp").each(function(){var t=n(this),r=Date.parse(t.text()),i;if(r){i=moment(r);var f=dateFormatConverter.convert(element.closest("[data-dateformat]").data("dateformat")||"MMMM d, yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),e=dateFormatConverter.convert(element.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),u=dateFormatConverter.convert(element.attr("data-format"),dateFormatConverter.dotNet,dateFormatConverter.momentJs)||f+" "+e;t.text(i.format(u));t.attr("title",i.format(u))}});n("time").each(function(){var t=n(this),i=moment(t.attr("datetime"));if(i){var r=dateFormatConverter.convert(t.closest("[data-dateformat]").data("dateformat")||"MMMM d, yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),u=dateFormatConverter.convert(t.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),f=r+" "+u;t.text(i.format(t.hasClass("date-only")?r:f))}});n(".vevent").each(function(){var t=n(".dtstart",this),i=n(".dtend",this),f=Date.parse(t.text()),h=Date.parse(i.text()),e,u,r,s,o;f&&(s=moment(f),e=dateFormatConverter.convert(t.closest("[data-dateformat]").data("dateformat")||"MMMM d, yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),u=dateFormatConverter.convert(t.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),r=dateFormatConverter.convert(t.attr("data-format"),dateFormatConverter.dotNet,dateFormatConverter.momentJs)||e+" "+u,t.text(s.format(r)),t.attr("title",s.format(r)));h&&(o=moment(h),e=dateFormatConverter.convert(i.closest("[data-dateformat]").data("dateformat")||"MMMM d, yyyy",dateFormatConverter.dotNet,dateFormatConverter.momentJs),u=dateFormatConverter.convert(i.closest("[data-timeformat]").data("timeformat")||"h:mm tt",dateFormatConverter.dotNet,dateFormatConverter.momentJs),r=dateFormatConverter.convert(i.attr("data-format"),dateFormatConverter.dotNet,dateFormatConverter.momentJs)||e+" "+u,i.text(o.format(f&&o.isSame(moment(f),"day")?u:r)),i.attr("title",o.format(r)))});n(".carousel").carousel();n.ui&&n.ui.tooltip&&n.widget.bridge("uitooltip",n.ui.tooltip);n(".has-tooltip").tooltip();prettyPrint(),function(){var t={};n(".shopping-cart-status").each(function(){var r=n(this),u=r.attr("data-href"),f=r.find(".count"),e=f.find(".value"),i;u&&(i=t[u],n.isArray(i)||(i=t[u]=[]),i.push(function(n){n!=null&&n.Count&&n.Count>0&&(e.text(n.Count),f.addClass("visible"),r.addClass("visible"))}))});n.each(t,function(t,i){n.getJSON(t,function(t){n.each(i,function(n,i){i(t)})})})}();n('[data-state="sitemap"]').each(function(){var t=n(this),r=t.data("sitemap-current"),u=t.data("sitemap-ancestor"),f=t.closest("[data-sitemap-state]").data("sitemap-state"),i,e;f&&(r||u)&&(i=f.split(":"),e=i[i.length-1],t.find("[data-sitemap-node]").each(function(){var f=n(this),t=f.data("sitemap-node");t&&n.each(i,function(n,i){n===0?r&&i==t&&f.addClass(r):u&&i==t&&t!=e&&f.addClass(u)})}))}),function(){var t=URI?URI(document.location.href).search(!0)||{}:{};n("[data-query]").each(function(){var i=n(this),r=t[i.data("query")];typeof r!="undefined"&&i.val(r).change()})}()});typeof t!="undefined"&&t&&(t.zindex=2e3,function(){for(var o=[t.ckeditorSettings,t.ckeditorCompactSettings],r,u,f,e,i=0;i<o.length;i++)(r=o[i],r)&&(u=n('head > link[rel="stylesheet"]').map(function(t,i){var r=n(i).attr("href");return r.match(/,/)?null:r}).get(),u.push((n("[data-app-path]").data("app-path")||"/")+"css/ckeditor.css"),r.contentsCss=u);if(f=CKEDITOR.stylesSet.get("cms"),f)for(e=[{name:window.ResourceManager.CKEditor_Page_Header_Style,element:"div",attributes:{"class":"page-header"}},{name:window.ResourceManager.CKEditor_Alert_Info_Style,element:"div",attributes:{"class":"alert alert-info"}},{name:window.ResourceManager.CKEditor_Alert_Success_Style,element:"div",attributes:{"class":"alert alert-success"}},{name:window.ResourceManager.CKEditor_Alert_Warning_Style,element:"div",attributes:{"class":"alert alert-warning"}},{name:window.ResourceManager.CKEditor_Alert_Danger_Style,element:"div",attributes:{"class":"alert alert-danger"}},{name:window.ResourceManager.CKEditor_Well_Style,element:"div",attributes:{"class":"well"}},{name:window.ResourceManager.CKEditor_Well_Small_Style,element:"div",attributes:{"class":"well well-sm"}},{name:window.ResourceManager.CKEditor_Well_Large_Style,element:"div",attributes:{"class":"well well-lg"}},{name:window.ResourceManager.CKEditor_Label_Style,element:"span",attributes:{"class":"label label-default"}},{name:window.ResourceManager.CKEditor_Label_Info_Style,element:"span",attributes:{"class":"label label-info"}},{name:window.ResourceManager.CKEditor_Label_Success_Style,element:"span",attributes:{"class":"label label-success"}},{name:window.ResourceManager.CKEditor_Label_Warning_Style,element:"span",attributes:{"class":"label label-warning"}},{name:window.ResourceManager.CKEditor_Label_Danger_Style,element:"span",attributes:{"class":"label label-danger"}}],i=0;i<e.length;i++)f.push(e[i]);n(document).bind("DOMNodeInserted",function(){n(".cke_dialog_ui_labeled_label").length&&n(".cke_dialog_ui_labeled_label").attr("title",function(){return n(this).text()})})}());var i=n.cookie("adx-notification");typeof i!=typeof undefined&&i!=null&&(r(i,!0),n.cookie("adx-notification",null))}(window.jQuery,window.XRM);$(document).ready(function(){$(".dropdown-menu li a").focus(function(n){var t=$(n.target);t.attr("aria-selected",!0);t.parent().toggleClass("active",!0)});$(".dropdown-menu li a").focusout(function(n){var t=$(n.target);t.attr("aria-selected",!1);t.parent().toggleClass("active",!1)});$(".dropdown-submenu").on("click",function(n){var t,i,r;$(this).toggleClass("open");t=$(this).find("#search-filter");i=t.attr("aria-expanded")==="true";t.attr("aria-expanded",!i);i||(r=$(this).find(".dropdown-menu li:first-child a"),r.focus());n.stopPropagation();n.preventDefault()});$(".dropdown-menu li a").on("click",function(){var n=$(this).parent().parent().prev().first();n.focus()});$(document).on("click.bs.dropdown.data-api",".dropdown form",function(n){var t=$(n.target).closest("form").find(".dropdown-submenu"),i;t.toggleClass("open",!1);i=t.find("#search-filter");i.attr("aria-expanded",!1)})});$(document).ready(function(){$("#profile-dropdown").find("a").each(function(){$(this).attr("role","button")});$('li.weblink>a[title="Home"]').attr("aria-label",window.ResourceManager.Home_DefaultText);$("li.dropdown>a.navbar-icon").attr("title",window.ResourceManager.Search_DefaultText);$("label.required").next().find("input").each(function(){$(this).attr("aria-label",$(this).closest().attr("name"));$(this).attr("aria-required",!0)});$("li.dropdown>a.dropdown-toggle").each(function(){$(this).attr("aria-label",$(this).attr("title")+window.ResourceManager.DropDown_DefaultText)});$("li.weblink.dropdown>a").each(function(){$(this).attr("aria-label",$(this).attr("title")+window.ResourceManager.DropDown_DefaultText)});$('section.modal input[type="file"]').on("keydown",function(n){n.shiftKey&&n.keyCode==9&&$('input[type="file"]').is(":focus")&&setTimeout(function(){$('section.modal textarea[name="text"]').focus()},0)});$("div.list-group>a").each(function(){$(this).attr("aria-label",$(this).attr("title"))})});$(document).ready(function(){$(".navbar-nav .weblink.dropdown>a").attr("role","button");$(".navbar-nav .weblink.dropdown>ul>li>a").attr("role","link")});$(document).ready(function(){$("input#AttachFile").attr("aria-label",window.ResourceManager.FileUpload_Browse_Button_Text)});$(document).ready(function(){var n=$("select>option");$.each(n,function(n,t){$(t).text()==""&&$(t).text($(t).attr("label"))})});portal.CompositeControl=function(n){var t=this;t.controlTrigger=n;t.$popverTriger=null;t.contentid="";t.$content=null;t.$contentInputs=null;t.valueTemplate="";t.isPopoverOpen=!1;t.isEditable=!1;t.showOrHidePopover=function(){t.isPopoverOpen?t.$popverTriger.popover("hide"):t.$popverTriger.popover("show")};t.updateContent=function(){var n=$("."+t.contentid).find("input");t.$contentInputs.each(function(t,i){var r=$(i).prop("id");n.each(function(n,t){var u=$(t);u.prop("id")==r&&$(i).attr("value",u.val())})});t.updateValue()};t.updateValue=function(){if(t.isEditable){var n=t.valueTemplate.split("{BREAK}");t.$contentInputs.each(function(t,i){for(var u=$(i).attr("id"),f=$("#"+$(i).attr("id")).attr("value"),r=0;r<n.length;r++)n[r]=n[r].replace("{"+u+"}",f).trim()});t.$popverTriger.attr("value",n.join("\r\n"))}};t.init=function(){if(t.$popverTriger=$(t.controlTrigger),t.contentid=t.$popverTriger.attr("data-content-id"),t.valueTemplate=t.$popverTriger.attr("data-content-template"),t.isEditable=t.$popverTriger.attr("data-editable").toLowerCase()==="true",t.$popverTriger.click(function(){t.showOrHidePopover()}),console.log(t.contentid),t.$content=$("#"+t.contentid),t.$contentInputs=t.$content.find("input"),t.$popverTriger.attr("readonly","true"),t.updateValue(),t.isEditable){t.$popverTriger.popover({trigger:"manual",html:!0,template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content '+t.contentid+' "><\/div><\/div>',content:function(){return t.$content.html()},placement:function(){return"bottom"}});t.$popverTriger.on("inserted.bs.popover",function(){var n=$("."+t.contentid);n.css("width","270px");n.find("input").removeAttr("name");t.isPopoverOpen=!0});t.$popverTriger.on("hide.bs.popover",function(){t.updateContent();t.isPopoverOpen=!1});t.$popverTriger.on("shown.bs.popover",function(){$("."+t.contentid+" .btn").click(function(){t.$popverTriger.popover("hide")})})}$("body").on("click",function(n){$(t.$popverTriger).is(n.target)||$(".popover-content").length===0||$(n.target).data("toggle")==="popover"||$(n.target).parents('[data-toggle="popover"]').length!==0||$(n.target).parents(".popover.in").length!==0||t.$popverTriger.popover("hide")});$("#"+t.contentid).parent().on("keydown",function(n){n.keyCode===13&&(t.isPopoverOpen&&n.target.id.indexOf("Button")!==-1||!t.isPopoverOpen)&&t.showOrHidePopover();n.keyCode===27&&t.$popverTriger.popover("hide");n.target.id.indexOf("Button")!==-1&&n.keyCode===9&&$(jQuery(this).find("*").filter(":input")[0]).focus()})}};$(document).ready(function(){$("*[data-composite-control]").each(function(n,t){var i=new portal.CompositeControl(t);i.init()})});$("body").on("keydown",".dropdown",function(n){var t=n.srcElement.parentElement.parentElement;n.keyCode===9&&t!==null&&t.className.indexOf("dropdown")!==-1&&$(t).children().last().attr("class")==="active"&&($(t).children().first().children().first().focus(),n.preventDefault())});$(document).ready(function(){var n,t,i;try{n=$("html").attr("data-lang");n&&$.cookie("ContextLanguageCode",n,{path:"/"});t=$(".drop_language").parents().next("ul").last()[0];t&&(i=$("a",t),$(i).each(function(){var n=$(this).attr("data-code");if(n)$(this).on("click",function(){$.cookie("ContextLanguageCode",n,{path:"/"})})}))}catch(r){}return!0});Function.__typeName="Function";Function.__class=!0;Function.createCallback=function(n,t){return function(){var u=arguments.length,r,i;if(u>0){for(r=[],i=0;i<u;i++)r[i]=arguments[i];return r[u]=t,n.apply(this,r)}return n.call(this,t)}};Function.createDelegate=function(n,t){return function(){return t.apply(n,arguments)}};Function.emptyFunction=Function.emptyMethod=function(){};Function.validateParameters=function(n,t,i){return Function._validateParams(n,t,i)};Function._validateParams=function(n,t,i){var r,e=t.length,u,s,f,o;if(i=i||typeof i=="undefined",r=Function._validateParameterCount(n,t,i),r)return r.popStackFrame(),r;for(u=0,s=n.length;u<s;u++){if(f=t[Math.min(u,e-1)],o=f.name,f.parameterArray)o+="["+(u-e+1)+"]";else if(!i&&u>=e)break;if(r=Function._validateParameter(n[u],f,o),r)return r.popStackFrame(),r}return null};Function._validateParameterCount=function(n,t,i){var r,f,u=t.length,e=n.length,o,s,h;if(e<u){for(o=u,r=0;r<u;r++)s=t[r],(s.optional||s.parameterArray)&&o--;e<o&&(f=!0)}else if(i&&e>u)for(f=!0,r=0;r<u;r++)if(t[r].parameterArray){f=!1;break}return f?(h=Error.parameterCount(),h.popStackFrame(),h):null};Function._validateParameter=function(n,t,i){var r,o=t.type,l=!!t.integer,a=!!t.domElement,v=!!t.mayBeNull,f,e,s,h,u,c;if(r=Function._validateParameterType(n,o,l,a,v,i),r)return r.popStackFrame(),r;if(f=t.elementType,e=!!t.elementMayBeNull,o===Array&&typeof n!="undefined"&&n!==null&&(f||!e))for(s=!!t.elementInteger,h=!!t.elementDomElement,u=0;u<n.length;u++)if(c=n[u],r=Function._validateParameterType(c,f,s,h,e,i+"["+u+"]"),r)return r.popStackFrame(),r;return null};Function._validateParameterType=function(n,t,i,r,u,f){var e,h,o,c,s;if(typeof n=="undefined")return u?null:(e=Error.argumentUndefined(f),e.popStackFrame(),e);if(n===null)return u?null:(e=Error.argumentNull(f),e.popStackFrame(),e);if(t&&t.__enum){if(typeof n!="number")return e=Error.argumentType(f,Object.getType(n),t),e.popStackFrame(),e;if(n%1==0)if(o=t.prototype,t.__flags&&n!==0){c=n;for(h in o)if((s=o[h],s!==0)&&((s&n)===s&&(c-=s),c===0))return null}else for(h in o)if(o[h]===n)return null;return e=Error.argumentOutOfRange(f,n,String.format(Sys.Res.enumInvalidValue,n,t.getName())),e.popStackFrame(),e}return r&&(!Sys._isDomElement(n)||n.nodeType===3)?(e=Error.argument(f,Sys.Res.argumentDomElement),e.popStackFrame(),e):t&&!Sys._isInstanceOfType(t,n)?(e=Error.argumentType(f,Object.getType(n),t),e.popStackFrame(),e):t===Number&&i&&n%1!=0?(e=Error.argumentOutOfRange(f,n,Sys.Res.argumentInteger),e.popStackFrame(),e):null};Error.__typeName="Error";Error.__class=!0;Error.create=function(n,t){var i=new Error(n),r;if(i.message=n,t)for(r in t)i[r]=t[r];return i.popStackFrame(),i};Error.argument=function(n,t){var r="Sys.ArgumentException: "+(t?t:Sys.Res.argument),i;return n&&(r+="\n"+String.format(Sys.Res.paramName,n)),i=Error.create(r,{name:"Sys.ArgumentException",paramName:n}),i.popStackFrame(),i};Error.argumentNull=function(n,t){var r="Sys.ArgumentNullException: "+(t?t:Sys.Res.argumentNull),i;return n&&(r+="\n"+String.format(Sys.Res.paramName,n)),i=Error.create(r,{name:"Sys.ArgumentNullException",paramName:n}),i.popStackFrame(),i};Error.argumentOutOfRange=function(n,t,i){var r="Sys.ArgumentOutOfRangeException: "+(i?i:Sys.Res.argumentOutOfRange),u;return n&&(r+="\n"+String.format(Sys.Res.paramName,n)),typeof t!="undefined"&&t!==null&&(r+="\n"+String.format(Sys.Res.actualValue,t)),u=Error.create(r,{name:"Sys.ArgumentOutOfRangeException",paramName:n,actualValue:t}),u.popStackFrame(),u};Error.argumentType=function(n,t,i,r){var u="Sys.ArgumentTypeException: ",f;return u+=r?r:t&&i?String.format(Sys.Res.argumentTypeWithTypes,t.getName(),i.getName()):Sys.Res.argumentType,n&&(u+="\n"+String.format(Sys.Res.paramName,n)),f=Error.create(u,{name:"Sys.ArgumentTypeException",paramName:n,actualType:t,expectedType:i}),f.popStackFrame(),f};Error.argumentUndefined=function(n,t){var r="Sys.ArgumentUndefinedException: "+(t?t:Sys.Res.argumentUndefined),i;return n&&(r+="\n"+String.format(Sys.Res.paramName,n)),i=Error.create(r,{name:"Sys.ArgumentUndefinedException",paramName:n}),i.popStackFrame(),i};Error.format=function(n){var i="Sys.FormatException: "+(n?n:Sys.Res.format),t=Error.create(i,{name:"Sys.FormatException"});return t.popStackFrame(),t};Error.invalidOperation=function(n){var i="Sys.InvalidOperationException: "+(n?n:Sys.Res.invalidOperation),t=Error.create(i,{name:"Sys.InvalidOperationException"});return t.popStackFrame(),t};Error.notImplemented=function(n){var i="Sys.NotImplementedException: "+(n?n:Sys.Res.notImplemented),t=Error.create(i,{name:"Sys.NotImplementedException"});return t.popStackFrame(),t};Error.parameterCount=function(n){var i="Sys.ParameterCountException: "+(n?n:Sys.Res.parameterCount),t=Error.create(i,{name:"Sys.ParameterCountException"});return t.popStackFrame(),t};Error.prototype.popStackFrame=function(){var r,t;if(typeof this.stack!="undefined"&&this.stack!==null&&typeof this.fileName!="undefined"&&this.fileName!==null&&typeof this.lineNumber!="undefined"&&this.lineNumber!==null){for(var n=this.stack.split("\n"),i=n[0],u=this.fileName+":"+this.lineNumber;typeof i!="undefined"&&i!==null&&i.indexOf(u)===-1;)n.shift(),i=n[0];(r=n[1],typeof r!="undefined"&&r!==null)&&(t=r.match(/@(.*):(\d+)$/),typeof t!="undefined"&&t!==null)&&(this.fileName=t[1],this.lineNumber=parseInt(t[2]),n.shift(),this.stack=n.join("\n"))}};Object.__typeName="Object";Object.__class=!0;Object.getType=function(n){var t=n.constructor;return!t||typeof t!="function"||!t.__typeName||t.__typeName==="Object"?Object:t};Object.getTypeName=function(n){return Object.getType(n).getName()};String.__typeName="String";String.__class=!0;String.prototype.endsWith=function(n){return this.substr(this.length-n.length)===n};String.prototype.startsWith=function(n){return this.substr(0,n.length)===n};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.trimEnd=function(){return this.replace(/\s+$/,"")};String.prototype.trimStart=function(){return this.replace(/^\s+/,"")};String.format=function(){return String._toFormattedString(!1,arguments)};String._toFormattedString=function(n,t){for(var e="",f=t[0],o,u,i=0;;){if(o=f.indexOf("{",i),u=f.indexOf("}",i),o<0&&u<0){e+=f.slice(i);break}if(u>0&&(u<o||o<0)){e+=f.slice(i,u+1);i=u+2;continue}if(e+=f.slice(i,o),i=o+1,f.charAt(i)==="{"){e+="{";i++;continue}if(u<0)break;var s=f.substring(i,u),h=s.indexOf(":"),l=parseInt(h<0?s:s.substring(0,h),10)+1,c=h<0?"":s.substring(h+1),r=t[l];(typeof r=="undefined"||r===null)&&(r="");e+=r.toFormattedString?r.toFormattedString(c):n&&r.localeFormat?r.localeFormat(c):r.format?r.format(c):r.toString();i=u+1}return e};Boolean.__typeName="Boolean";Boolean.__class=!0;Boolean.parse=function(n){var t=n.trim().toLowerCase();return t==="false"?!1:t==="true"?!0:void 0};Date.__typeName="Date";Date.__class=!0;Number.__typeName="Number";Number.__class=!0;RegExp.__typeName="RegExp";RegExp.__class=!0;window||(this.window=this);window.Type=Function;Type.prototype.callBaseMethod=function(n,t,i){var r=Sys._getBaseMethod(this,n,t);return i?r.apply(n,i):r.apply(n)};Type.prototype.getBaseMethod=function(n,t){return Sys._getBaseMethod(this,n,t)};Type.prototype.getBaseType=function(){return typeof this.__baseType=="undefined"?null:this.__baseType};Type.prototype.getInterfaces=function(){for(var n=[],t=this,i,r,f,u;t;){if(i=t.__interfaces,i)for(r=0,f=i.length;r<f;r++)u=i[r],Array.contains(n,u)||(n[n.length]=u);t=t.__baseType}return n};Type.prototype.getName=function(){return typeof this.__typeName=="undefined"?"":this.__typeName};Type.prototype.implementsInterface=function(n){var r,t,u,i,f;if(this.resolveInheritance(),r=n.getName(),t=this.__interfaceCache,t){if(u=t[r],typeof u!="undefined")return u}else t=this.__interfaceCache={};for(i=this;i;){if(f=i.__interfaces,f&&Array.indexOf(f,n)!==-1)return t[r]=!0;i=i.__baseType}return t[r]=!1};Type.prototype.inheritsFrom=function(n){this.resolveInheritance();for(var t=this.__baseType;t;){if(t===n)return!0;t=t.__baseType}return!1};Type.prototype.initializeBase=function(n,t){return this.resolveInheritance(),this.__baseType&&(t?this.__baseType.apply(n,t):this.__baseType.apply(n)),n};Type.prototype.isImplementedBy=function(n){if(typeof n=="undefined"||n===null)return!1;var t=Object.getType(n);return!!(t.implementsInterface&&t.implementsInterface(this))};Type.prototype.isInstanceOfType=function(n){return Sys._isInstanceOfType(this,n)};Type.prototype.registerClass=function(n,t,i){var r,u,f;if(this.prototype.constructor=this,this.__typeName=n,this.__class=!0,t&&(this.__baseType=t,this.__basePrototypePending=!0),Sys.__upperCaseTypes[n.toUpperCase()]=this,i)for(this.__interfaces=[],r=2,u=arguments.length;r<u;r++)f=arguments[r],this.__interfaces.push(f);return this};Type.prototype.registerInterface=function(n){return Sys.__upperCaseTypes[n.toUpperCase()]=this,this.prototype.constructor=this,this.__typeName=n,this.__interface=!0,this};Type.prototype.resolveInheritance=function(){var n,t,i;if(this.__basePrototypePending){n=this.__baseType;n.resolveInheritance();for(t in n.prototype)i=n.prototype[t],this.prototype[t]||(this.prototype[t]=i);delete this.__basePrototypePending}};Type.getRootNamespaces=function(){return Array.clone(Sys.__rootNamespaces)};Type.isClass=function(n){return typeof n=="undefined"||n===null?!1:!!n.__class};Type.isInterface=function(n){return typeof n=="undefined"||n===null?!1:!!n.__interface};Type.isNamespace=function(n){return typeof n=="undefined"||n===null?!1:!!n.__namespace};Type.parse=function(typeName,ns){var fn;return ns?(fn=Sys.__upperCaseTypes[ns.getName().toUpperCase()+"."+typeName.toUpperCase()],fn||null):typeName?(Type.__htClasses||(Type.__htClasses={}),fn=Type.__htClasses[typeName],fn||(fn=eval(typeName),Type.__htClasses[typeName]=fn),fn):null};Type.registerNamespace=function(n){for(var r=window,u=n.split("."),f,t,i=0;i<u.length;i++)f=u[i],t=r[f],t||(t=r[f]={}),t.__namespace||(i===0&&n!=="Sys"&&(Sys.__rootNamespaces[Sys.__rootNamespaces.length]=t),t.__namespace=!0,t.__typeName=u.slice(0,i+1).join("."),t.getName=function(){return this.__typeName}),r=t};Type._checkDependency=function(n,t){var i=Type._registerScript._scripts,r=i?!!i[n]:!1;if(typeof t!="undefined"&&!r)throw Error.invalidOperation(String.format(Sys.Res.requiredScriptReferenceNotIncluded,t,n));return r};Type._registerScript=function(n,t){var i=Type._registerScript._scripts,r,f,u;if(i||(Type._registerScript._scripts=i={}),i[n])throw Error.invalidOperation(String.format(Sys.Res.scriptAlreadyLoaded,n));if(i[n]=!0,t)for(r=0,f=t.length;r<f;r++)if(u=t[r],!Type._checkDependency(u))throw Error.invalidOperation(String.format(Sys.Res.scriptDependencyNotFound,n,u));};Type.registerNamespace("Sys");Sys.__upperCaseTypes={};Sys.__rootNamespaces=[Sys];Sys._isInstanceOfType=function(n,t){if(typeof t=="undefined"||t===null)return!1;if(t instanceof n)return!0;var i=Object.getType(t);return!!(i===n)||i.inheritsFrom&&i.inheritsFrom(n)||i.implementsInterface&&i.implementsInterface(n)};Sys._getBaseMethod=function(n,t,i){var u=n.getBaseType(),r;return u?(r=u.prototype[i],r instanceof Function?r:null):null};Sys._isDomElement=function(n){var i=!1,t,r;return typeof n.nodeType!="number"&&(t=n.ownerDocument||n.document||n,t!=n?(r=t.defaultView||t.parentWindow,i=r!=n):i=typeof t.body=="undefined"),!i};Array.__typeName="Array";Array.__class=!0;Array.add=Array.enqueue=function(n,t){n[n.length]=t};Array.addRange=function(n,t){n.push.apply(n,t)};Array.clear=function(n){n.length=0};Array.clone=function(n){return n.length===1?[n[0]]:Array.apply(null,n)};Array.contains=function(n,t){return Sys._indexOf(n,t)>=0};Array.dequeue=function(n){return n.shift()};Array.forEach=function(n,t,i){for(var u,r=0,f=n.length;r<f;r++)u=n[r],typeof u!="undefined"&&t.call(i,u,r,n)};Array.indexOf=function(n,t,i){return Sys._indexOf(n,t,i)};Array.insert=function(n,t,i){n.splice(t,0,i)};Array.parse=function(value){return value?eval(value):[]};Array.remove=function(n,t){var i=Sys._indexOf(n,t);return i>=0&&n.splice(i,1),i>=0};Array.removeAt=function(n,t){n.splice(t,1)};Sys._indexOf=function(n,t,i){var u,r;if(typeof t=="undefined")return-1;if(u=n.length,u!==0)for(i=+i,isNaN(i)?i=0:(isFinite(i)&&(i=i-i%1),i<0&&(i=Math.max(0,u+i))),r=i;r<u;r++)if(typeof n[r]!="undefined"&&n[r]===t)return r;return-1};Type._registerScript._scripts={"MicrosoftAjaxCore.js":!0,"MicrosoftAjaxGlobalization.js":!0,"MicrosoftAjaxSerialization.js":!0,"MicrosoftAjaxComponentModel.js":!0,"MicrosoftAjaxHistory.js":!0,"MicrosoftAjaxNetwork.js":!0,"MicrosoftAjaxWebServices.js":!0};Sys.IDisposable=function(){};Sys.IDisposable.prototype={};Sys.IDisposable.registerInterface("Sys.IDisposable");Sys.StringBuilder=function(n){this._parts=typeof n!="undefined"&&n!==null&&n!==""?[n.toString()]:[];this._value={};this._len=0};Sys.StringBuilder.prototype={append:function(n){this._parts[this._parts.length]=n},appendLine:function(n){this._parts[this._parts.length]=typeof n=="undefined"||n===null||n===""?"\r\n":n+"\r\n"},clear:function(){this._parts=[];this._value={};this._len=0},isEmpty:function(){return this._parts.length===0?!0:this.toString()===""},toString:function(n){var t,r,i;if(n=n||"",t=this._parts,this._len!==t.length&&(this._value={},this._len=t.length),r=this._value,typeof r[n]=="undefined"){if(n!=="")for(i=0;i<t.length;)typeof t[i]=="undefined"||t[i]===""||t[i]===null?t.splice(i,1):i++;r[n]=this._parts.join(n)}return r[n]}};Sys.StringBuilder.registerClass("Sys.StringBuilder");Sys.Browser={};Sys.Browser.InternetExplorer={};Sys.Browser.Firefox={};Sys.Browser.Safari={};Sys.Browser.Opera={};Sys.Browser.agent=null;Sys.Browser.hasDebuggerStatement=!1;Sys.Browser.name=navigator.appName;Sys.Browser.version=parseFloat(navigator.appVersion);Sys.Browser.documentMode=0;navigator.userAgent.indexOf(" MSIE ")>-1?(Sys.Browser.agent=Sys.Browser.InternetExplorer,Sys.Browser.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]),Sys.Browser.version>=8&&document.documentMode>=7&&(Sys.Browser.documentMode=document.documentMode),Sys.Browser.hasDebuggerStatement=!0):navigator.userAgent.indexOf(" Firefox/")>-1?(Sys.Browser.agent=Sys.Browser.Firefox,Sys.Browser.version=parseFloat(navigator.userAgent.match(/Firefox\/(\d+\.\d+)/)[1]),Sys.Browser.name="Firefox",Sys.Browser.hasDebuggerStatement=!0):navigator.userAgent.indexOf(" AppleWebKit/")>-1?(Sys.Browser.agent=Sys.Browser.Safari,Sys.Browser.version=parseFloat(navigator.userAgent.match(/AppleWebKit\/(\d+(\.\d+)?)/)[1]),Sys.Browser.name="Safari"):navigator.userAgent.indexOf("Opera/")>-1&&(Sys.Browser.agent=Sys.Browser.Opera);Sys.EventArgs=function(){};Sys.EventArgs.registerClass("Sys.EventArgs");Sys.EventArgs.Empty=new Sys.EventArgs;Sys.CancelEventArgs=function(){Sys.CancelEventArgs.initializeBase(this);this._cancel=!1};Sys.CancelEventArgs.prototype={get_cancel:function(){return this._cancel},set_cancel:function(n){this._cancel=n}};Sys.CancelEventArgs.registerClass("Sys.CancelEventArgs",Sys.EventArgs);Type.registerNamespace("Sys.UI");Sys._Debug=function(){};Sys._Debug.prototype={_appendConsole:function(n){typeof Debug!="undefined"&&Debug.writeln;window.console&&window.console.log&&window.console.log(n);window.opera&&window.opera.postError(n);window.debugService&&window.debugService.trace(n)},_appendTrace:function(n){var t=document.getElementById("TraceConsole");t&&t.tagName.toUpperCase()==="TEXTAREA"&&(t.value+=n+"\n")},assert:function(n,t,i){n||(t=i&&this.assert.caller?String.format(Sys.Res.assertFailedCaller,t,this.assert.caller):String.format(Sys.Res.assertFailed,t),confirm(String.format(Sys.Res.breakIntoDebugger,t))&&this.fail(t))},clearTrace:function(){var n=document.getElementById("TraceConsole");n&&n.tagName.toUpperCase()==="TEXTAREA"&&(n.value="")},fail:function(message){this._appendConsole(message);Sys.Browser.hasDebuggerStatement&&eval("debugger")},trace:function(n){this._appendConsole(n);this._appendTrace(n)},traceDump:function(n,t){var i=this._traceDump(n,t,!0)},_traceDump:function(n,t,i,r,u){var e,o,f,c,s,h;if(t=t?t:"traceDump",r=r?r:"",n===null){this.trace(r+t+": null");return}switch(typeof n){case"undefined":this.trace(r+t+": Undefined");break;case"number":case"string":case"boolean":this.trace(r+t+": "+n);break;default:if(Date.isInstanceOfType(n)||RegExp.isInstanceOfType(n)){this.trace(r+t+": "+n.toString());break}if(u){if(Array.contains(u,n)){this.trace(r+t+": ...");return}}else u=[];if(Array.add(u,n),n==window||n===document||window.HTMLElement&&n instanceof HTMLElement||typeof n.nodeName=="string")e=n.tagName?n.tagName:"DomElement",n.id&&(e+=" - "+n.id),this.trace(r+t+" {"+e+"}");else if(o=Object.getTypeName(n),this.trace(r+t+(typeof o=="string"?" {"+o+"}":"")),r===""||i)if(r+="    ",Array.isInstanceOfType(n))for(c=n.length,f=0;f<c;f++)this._traceDump(n[f],"["+f+"]",i,r,u);else for(s in n)h=n[s],Function.isInstanceOfType(h)||this._traceDump(h,s,i,r,u);Array.remove(u,n)}}};Sys._Debug.registerClass("Sys._Debug");Sys.Debug=new Sys._Debug;Sys.Debug.isDebug=!1;Type.prototype.registerEnum=function(n,t){Sys.__upperCaseTypes[n.toUpperCase()]=this;for(var i in this.prototype)this[i]=this.prototype[i];this.__typeName=n;this.parse=Sys$Enum$parse;this.__string=this.toString();this.toString=Sys$Enum$toString;this.__flags=t;this.__enum=!0};Type.isEnum=function(n){return typeof n=="undefined"||n===null?!1:!!n.__enum};Type.isFlags=function(n){return typeof n=="undefined"||n===null?!1:!!n.__flags};Sys.CollectionChange=function(n,t,i,r,u){this.action=n;t&&(t instanceof Array||(t=[t]));this.newItems=t||null;typeof i!="number"&&(i=-1);this.newStartingIndex=i;r&&(r instanceof Array||(r=[r]));this.oldItems=r||null;typeof u!="number"&&(u=-1);this.oldStartingIndex=u};Sys.CollectionChange.registerClass("Sys.CollectionChange");Sys.NotifyCollectionChangedAction=function(){throw Error.notImplemented();};Sys.NotifyCollectionChangedAction.prototype={add:0,remove:1,reset:2};Sys.NotifyCollectionChangedAction.registerEnum("Sys.NotifyCollectionChangedAction");Sys.NotifyCollectionChangedEventArgs=function(n){this._changes=n;Sys.NotifyCollectionChangedEventArgs.initializeBase(this)};Sys.NotifyCollectionChangedEventArgs.prototype={get_changes:function(){return this._changes||[]}};Sys.NotifyCollectionChangedEventArgs.registerClass("Sys.NotifyCollectionChangedEventArgs",Sys.EventArgs);Sys.Observer=function(){};Sys.Observer.registerClass("Sys.Observer");Sys.Observer.makeObservable=function(n){var i=n instanceof Array,t=Sys.Observer;return n.setValue===t._observeMethods.setValue?n:(t._addMethods(n,t._observeMethods),i&&t._addMethods(n,t._arrayMethods),n)};Sys.Observer._addMethods=function(n,t){for(var i in t)n[i]=t[i]};Sys.Observer._addEventHandler=function(n,t,i){Sys.Observer._getContext(n,!0).events._addHandler(t,i)};Sys.Observer.addEventHandler=function(n,t,i){Sys.Observer._addEventHandler(n,t,i)};Sys.Observer._removeEventHandler=function(n,t,i){Sys.Observer._getContext(n,!0).events._removeHandler(t,i)};Sys.Observer.removeEventHandler=function(n,t,i){Sys.Observer._removeEventHandler(n,t,i)};Sys.Observer.raiseEvent=function(n,t,i){var u=Sys.Observer._getContext(n),r;u&&(r=u.events.getHandler(t),r&&r(n,i))};Sys.Observer.addPropertyChanged=function(n,t){Sys.Observer._addEventHandler(n,"propertyChanged",t)};Sys.Observer.removePropertyChanged=function(n,t){Sys.Observer._removeEventHandler(n,"propertyChanged",t)};Sys.Observer.beginUpdate=function(n){Sys.Observer._getContext(n,!0).updating=!0};Sys.Observer.endUpdate=function(n){var t=Sys.Observer._getContext(n),i,r;t&&t.updating&&(t.updating=!1,i=t.dirty,t.dirty=!1,i&&(n instanceof Array&&(r=t.changes,t.changes=null,Sys.Observer.raiseCollectionChanged(n,r)),Sys.Observer.raisePropertyChanged(n,"")))};Sys.Observer.isUpdating=function(n){var t=Sys.Observer._getContext(n);return t?t.updating:!1};Sys.Observer._setValue=function(n,t,i){for(var r,s,l=n,f=t.split("."),c,a,v,u,o,e=0,h=f.length-1;e<h;e++)if(c=f[e],r=n["get_"+c],n=typeof r=="function"?r.call(n):n[c],a=typeof n,n===null||a==="undefined")throw Error.invalidOperation(String.format(Sys.Res.nullReferenceInPath,t));if(u=f[h],r=n["get_"+u],s=n["set_"+u],v=typeof r=="function"?r.call(n):n[u],typeof s=="function"?s.call(n,i):n[u]=i,v!==i){if(o=Sys.Observer._getContext(l),o&&o.updating){o.dirty=!0;return}Sys.Observer.raisePropertyChanged(l,f[0])}};Sys.Observer.setValue=function(n,t,i){Sys.Observer._setValue(n,t,i)};Sys.Observer.raisePropertyChanged=function(n,t){Sys.Observer.raiseEvent(n,"propertyChanged",new Sys.PropertyChangedEventArgs(t))};Sys.Observer.addCollectionChanged=function(n,t){Sys.Observer._addEventHandler(n,"collectionChanged",t)};Sys.Observer.removeCollectionChanged=function(n,t){Sys.Observer._removeEventHandler(n,"collectionChanged",t)};Sys.Observer._collectionChange=function(n,t){var i=Sys.Observer._getContext(n),r;i&&i.updating?(i.dirty=!0,r=i.changes,r?r.push(t):i.changes=r=[t]):(Sys.Observer.raiseCollectionChanged(n,[t]),Sys.Observer.raisePropertyChanged(n,"length"))};Sys.Observer.add=function(n,t){var i=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[t],n.length);Array.add(n,t);Sys.Observer._collectionChange(n,i)};Sys.Observer.addRange=function(n,t){var i=new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,t,n.length);Array.addRange(n,t);Sys.Observer._collectionChange(n,i)};Sys.Observer.clear=function(n){var t=Array.clone(n);Array.clear(n);Sys.Observer._collectionChange(n,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.reset,null,-1,t,0))};Sys.Observer.insert=function(n,t,i){Array.insert(n,t,i);Sys.Observer._collectionChange(n,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.add,[i],t))};Sys.Observer.remove=function(n,t){var i=Array.indexOf(n,t);return i!==-1?(Array.remove(n,t),Sys.Observer._collectionChange(n,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[t],i)),!0):!1};Sys.Observer.removeAt=function(n,t){if(t>-1&&t<n.length){var i=n[t];Array.removeAt(n,t);Sys.Observer._collectionChange(n,new Sys.CollectionChange(Sys.NotifyCollectionChangedAction.remove,null,-1,[i],t))}};Sys.Observer.raiseCollectionChanged=function(n,t){Sys.Observer.raiseEvent(n,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(t))};Sys.Observer._observeMethods={add_propertyChanged:function(n){Sys.Observer._addEventHandler(this,"propertyChanged",n)},remove_propertyChanged:function(n){Sys.Observer._removeEventHandler(this,"propertyChanged",n)},addEventHandler:function(n,t){Sys.Observer._addEventHandler(this,n,t)},removeEventHandler:function(n,t){Sys.Observer._removeEventHandler(this,n,t)},get_isUpdating:function(){return Sys.Observer.isUpdating(this)},beginUpdate:function(){Sys.Observer.beginUpdate(this)},endUpdate:function(){Sys.Observer.endUpdate(this)},setValue:function(n,t){Sys.Observer._setValue(this,n,t)},raiseEvent:function(n,t){Sys.Observer.raiseEvent(this,n,t)},raisePropertyChanged:function(n){Sys.Observer.raiseEvent(this,"propertyChanged",new Sys.PropertyChangedEventArgs(n))}};Sys.Observer._arrayMethods={add_collectionChanged:function(n){Sys.Observer._addEventHandler(this,"collectionChanged",n)},remove_collectionChanged:function(n){Sys.Observer._removeEventHandler(this,"collectionChanged",n)},add:function(n){Sys.Observer.add(this,n)},addRange:function(n){Sys.Observer.addRange(this,n)},clear:function(){Sys.Observer.clear(this)},insert:function(n,t){Sys.Observer.insert(this,n,t)},remove:function(n){return Sys.Observer.remove(this,n)},removeAt:function(n){Sys.Observer.removeAt(this,n)},raiseCollectionChanged:function(n){Sys.Observer.raiseEvent(this,"collectionChanged",new Sys.NotifyCollectionChangedEventArgs(n))}};Sys.Observer._getContext=function(n,t){var i=n._observerContext;return i?i():t?(n._observerContext=Sys.Observer._createContext())():null};Sys.Observer._createContext=function(){var n={events:new Sys.EventHandlerList};return function(){return n}};Date._appendPreOrPostMatch=function(n,t){for(var f=0,i=!1,u,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.append("'"):f++;i=!1;break;case"\\":i&&t.append("\\");i=!i;break;default:t.append(u);i=!1}}return f};Date._expandFormat=function(n,t){t||(t="F");var i=t.length;if(i===1)switch(t){case"d":return n.ShortDatePattern;case"D":return n.LongDatePattern;case"t":return n.ShortTimePattern;case"T":return n.LongTimePattern;case"f":return n.LongDatePattern+" "+n.ShortTimePattern;case"F":return n.FullDateTimePattern;case"M":case"m":return n.MonthDayPattern;case"s":return n.SortableDateTimePattern;case"Y":case"y":return n.YearMonthPattern;default:throw Error.format(Sys.Res.formatInvalidString);}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t};Date._expandYear=function(n,t){var r=new Date,u=Date._getEra(r),i;return t<100&&(i=Date._getEraYear(r,n,u),t+=i-i%100,t>n.Calendar.TwoDigitYearMax&&(t-=100)),t};Date._getEra=function(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i+=4)if(r=t[i+2],r===null||u>=r)return i;return 0};Date._getEraYear=function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i+3]),u};Date._getParseRegExp=function(n,t){var r,c,l,e;if(n._parseRegExp){if(n._parseRegExp[t])return n._parseRegExp[t]}else n._parseRegExp={};r=Date._expandFormat(n,t);r=r.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");for(var i=new Sys.StringBuilder("^"),o=[],f=0,s=0,h=Date._getTokenRegExp(),u;(u=h.exec(r))!==null;){if(c=r.slice(f,u.index),f=h.lastIndex,s+=Date._appendPreOrPostMatch(c,i),s%2==1){i.append(u[0]);continue}switch(u[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i.append("(\\D+)");break;case"tt":case"t":i.append("(\\D*)");break;case"yyyy":i.append("(\\d{4})");break;case"fff":i.append("(\\d{3})");break;case"ff":i.append("(\\d{2})");break;case"f":i.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i.append("(\\d\\d?)");break;case"zzz":i.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":i.append("([+-]?\\d\\d?)");break;case"/":i.append("(\\"+n.DateSeparator+")")}Array.add(o,u[0])}return Date._appendPreOrPostMatch(r.slice(f),i),i.append("$"),l=i.toString().replace(/\s+/g,"\\s+"),e={regExp:l,groups:o},n._parseRegExp[t]=e,e};Date._getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};Date.parseLocale=function(n){return Date._parse(n,Sys.CultureInfo.CurrentCulture,arguments)};Date.parseInvariant=function(n){return Date._parse(n,Sys.CultureInfo.InvariantCulture,arguments)};Date._parse=function(n,t,i){for(var u,e,o,s=!1,r=1,f=i.length;r<f;r++)if(e=i[r],e&&(s=!0,u=Date._parseExact(n,e,t),u))return u;if(!s)for(o=t._getDateTimeFormats(),r=0,f=o.length;r<f;r++)if(u=Date._parseExact(n,o[r],t),u)return u;return null};Date._parseExact=function(n,t,i){var v,st,r,rt,nt,y,p,w,ht,u,ct,b,ut;n=n.trim();var s=i.dateTimeFormat,ft=Date._getParseRegExp(s,t),et=new RegExp(ft.regExp).exec(n);if(et===null)return null;var ot=ft.groups,tt=null,e=null,f=null,c=null,l=null,o=0,a,k=0,d=0,h=0,g=null,it=!1;for(v=0,st=ot.length;v<st;v++)if(r=et[v+1],r)switch(ot[v]){case"dd":case"d":if(c=parseInt(r,10),c<1||c>31)return null;break;case"MMMM":if(f=i._getMonthIndex(r),f<0||f>11)return null;break;case"MMM":if(f=i._getAbbrMonthIndex(r),f<0||f>11)return null;break;case"M":case"MM":if(f=parseInt(r,10)-1,f<0||f>11)return null;break;case"y":case"yy":if(e=Date._expandYear(s,parseInt(r,10)),e<0||e>9999)return null;break;case"yyyy":if(e=parseInt(r,10),e<0||e>9999)return null;break;case"h":case"hh":if(o=parseInt(r,10),o===12&&(o=0),o<0||o>11)return null;break;case"H":case"HH":if(o=parseInt(r,10),o<0||o>23)return null;break;case"m":case"mm":if(k=parseInt(r,10),k<0||k>59)return null;break;case"s":case"ss":if(d=parseInt(r,10),d<0||d>59)return null;break;case"tt":case"t":if(rt=r.toUpperCase(),it=rt===s.PMDesignator.toUpperCase(),!it&&rt!==s.AMDesignator.toUpperCase())return null;break;case"f":if(h=parseInt(r,10)*100,h<0||h>999)return null;break;case"ff":if(h=parseInt(r,10)*10,h<0||h>999)return null;break;case"fff":if(h=parseInt(r,10),h<0||h>999)return null;break;case"dddd":if(l=i._getDayIndex(r),l<0||l>6)return null;break;case"ddd":if(l=i._getAbbrDayIndex(r),l<0||l>6)return null;break;case"zzz":if((nt=r.split(/:/),nt.length!==2)||(a=parseInt(nt[0],10),a<-12||a>13)||(y=parseInt(nt[1],10),y<0||y>59))return null;g=a*60+(r.startsWith("-")?-y:y);break;case"z":case"zz":if(a=parseInt(r,10),a<-12||a>13)return null;g=a*60;break;case"g":case"gg":if(p=r,!p||!s.eras)return null;for(p=p.toLowerCase().trim(),w=0,ht=s.eras.length;w<ht;w+=4)if(p===s.eras[w+1].toLowerCase()){tt=w;break}if(tt===null)return null}if(u=new Date,b=s.Calendar.convert,ct=b?b.fromGregorian(u)[0]:u.getFullYear(),e===null?e=ct:s.eras&&(e+=s.eras[(tt||0)+3]),f===null&&(f=0),c===null&&(c=1),b){if(u=b.toGregorian(e,f,c),u===null)return null}else if((u.setFullYear(e,f,c),u.getDate()!==c)||l!==null&&u.getDay()!==l)return null;return it&&o<12&&(o+=12),u.setHours(o,k,d,h),g!==null&&(ut=u.getMinutes()-(g+u.getTimezoneOffset()),u.setHours(u.getHours()+parseInt(ut/60,10),ut%60)),u};Date.prototype.format=function(n){return this._toFormattedString(n,Sys.CultureInfo.InvariantCulture)};Date.prototype.localeFormat=function(n){return this._toFormattedString(n,Sys.CultureInfo.CurrentCulture)};Date.prototype._toFormattedString=function(n,t){function f(n){return n<10?"0"+n:n.toString()}function y(n){return n<10?"00"+n:n<100?"0"+n:n.toString()}function nt(n){return n<10?"000"+n:n<100?"00"+n:n<1e3?"0"+n:n.toString()}function g(){return s||k?s:(s=d.test(n),k=!0,s)}var r=t.dateTimeFormat,a=r.Calendar.convert,v,b,h,c,i,u,s,k,d,p,w,e;if(!n||!n.length||n==="i")return t&&t.name.length?a?this._toFormattedString(r.FullDateTimePattern,t):(v=new Date(this.getTime()),b=Date._getEra(this,r.eras),v.setFullYear(Date._getEraYear(this,r,b)),v.toLocaleString()):this.toString();for(h=r.eras,c=n==="s",n=Date._expandFormat(r,n),i=new Sys.StringBuilder,d=/([^d]|^)(d|dd)([^d]|$)/g,p=0,w=Date._getTokenRegExp(),!c&&a&&(e=a.fromGregorian(this));;){var tt=w.lastIndex,l=w.exec(n),it=n.slice(tt,l?l.index:n.length);if(p+=Date._appendPreOrPostMatch(it,i),!l)break;if(p%2==1){i.append(l[0]);continue}function o(n,t){if(e)return e[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate()}}switch(l[0]){case"dddd":i.append(r.DayNames[this.getDay()]);break;case"ddd":i.append(r.AbbreviatedDayNames[this.getDay()]);break;case"dd":s=!0;i.append(f(o(this,2)));break;case"d":s=!0;i.append(o(this,2));break;case"MMMM":i.append(r.MonthGenitiveNames&&g()?r.MonthGenitiveNames[o(this,1)]:r.MonthNames[o(this,1)]);break;case"MMM":i.append(r.AbbreviatedMonthGenitiveNames&&g()?r.AbbreviatedMonthGenitiveNames[o(this,1)]:r.AbbreviatedMonthNames[o(this,1)]);break;case"MM":i.append(f(o(this,1)+1));break;case"M":i.append(o(this,1)+1);break;case"yyyy":i.append(nt(e?e[0]:Date._getEraYear(this,r,Date._getEra(this,h),c)));break;case"yy":i.append(f((e?e[0]:Date._getEraYear(this,r,Date._getEra(this,h),c))%100));break;case"y":i.append((e?e[0]:Date._getEraYear(this,r,Date._getEra(this,h),c))%100);break;case"hh":u=this.getHours()%12;u===0&&(u=12);i.append(f(u));break;case"h":u=this.getHours()%12;u===0&&(u=12);i.append(u);break;case"HH":i.append(f(this.getHours()));break;case"H":i.append(this.getHours());break;case"mm":i.append(f(this.getMinutes()));break;case"m":i.append(this.getMinutes());break;case"ss":i.append(f(this.getSeconds()));break;case"s":i.append(this.getSeconds());break;case"tt":i.append(this.getHours()<12?r.AMDesignator:r.PMDesignator);break;case"t":i.append((this.getHours()<12?r.AMDesignator:r.PMDesignator).charAt(0));break;case"f":i.append(y(this.getMilliseconds()).charAt(0));break;case"ff":i.append(y(this.getMilliseconds()).substr(0,2));break;case"fff":i.append(y(this.getMilliseconds()));break;case"z":u=this.getTimezoneOffset()/60;i.append((u<=0?"+":"-")+Math.floor(Math.abs(u)));break;case"zz":u=this.getTimezoneOffset()/60;i.append((u<=0?"+":"-")+f(Math.floor(Math.abs(u))));break;case"zzz":u=this.getTimezoneOffset()/60;i.append((u<=0?"+":"-")+f(Math.floor(Math.abs(u)))+":"+f(Math.abs(this.getTimezoneOffset()%60)));break;case"g":case"gg":r.eras&&i.append(r.eras[Date._getEra(this,h)+1]);break;case"/":i.append(r.DateSeparator)}}return i.toString()};String.localeFormat=function(){return String._toFormattedString(!0,arguments)};Number.parseLocale=function(n){return Number._parse(n,Sys.CultureInfo.CurrentCulture)};Number.parseInvariant=function(n){return Number._parse(n,Sys.CultureInfo.InvariantCulture)};Number._parse=function(n,t){var l,f,e,r,a,v,y,h,c;if(n=n.trim(),n.match(/^[+-]?infinity$/i))return parseFloat(n);if(n.match(/^0x[a-f0-9]+$/i))return parseInt(n);var i=t.numberFormat,o=Number._parseNumberNegativePattern(n,i,i.NumberNegativePattern),s=o[0],u=o[1];return(s===""&&i.NumberNegativePattern!==1&&(o=Number._parseNumberNegativePattern(n,i,1),s=o[0],u=o[1]),s===""&&(s="+"),e=u.indexOf("e"),e<0&&(e=u.indexOf("E")),e<0?(f=u,l=null):(f=u.substr(0,e),l=u.substr(e+1)),v=f.indexOf(i.NumberDecimalSeparator),v<0?(r=f,a=null):(r=f.substr(0,v),a=f.substr(v+i.NumberDecimalSeparator.length)),r=r.split(i.NumberGroupSeparator).join(""),y=i.NumberGroupSeparator.replace(/\u00A0/g," "),i.NumberGroupSeparator!==y&&(r=r.split(y).join("")),h=s+r,a!==null&&(h+="."+a),l!==null&&(c=Number._parseNumberNegativePattern(l,i,1),c[0]===""&&(c[0]="+"),h+="e"+c[0]+c[1]),h.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/))?parseFloat(h):Number.NaN};Number._parseNumberNegativePattern=function(n,t,i){var r=t.NegativeSign,u=t.PositiveSign;switch(i){case 4:r=" "+r;u=" "+u;case 3:if(n.endsWith(r))return["-",n.substr(0,n.length-r.length)];if(n.endsWith(u))return["+",n.substr(0,n.length-u.length)];break;case 2:r+=" ";u+=" ";case 1:if(n.startsWith(r))return["-",n.substr(r.length)];if(n.startsWith(u))return["+",n.substr(u.length)];break;case 0:if(n.startsWith("(")&&n.endsWith(")"))return["-",n.substr(1,n.length-2)]}return["",n]};Number.prototype.format=function(n){return this._toFormattedString(n,Sys.CultureInfo.InvariantCulture)};Number.prototype.localeFormat=function(n){return this._toFormattedString(n,Sys.CultureInfo.CurrentCulture)};Number.prototype._toFormattedString=function(n,t){function s(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function h(n,t,i,r,u){var a=i[0],v=1,p=Math.pow(10,t),y=Math.round(n*p)/p,h,l;isFinite(y)||(y=n);n=y;var e=n.toString(),f="",o,c=e.split(/e/i);for(e=c[0],o=c.length>1?parseInt(c[1]):0,c=e.split("."),e=c[0],f=c.length>1?c[1]:"",o>0?(f=s(f,o,!1),e+=f.slice(0,o),f=f.substr(o)):o<0&&(o=-o,e=s(e,o+1,!0),f=e.slice(-o,e.length)+f,e=e.slice(0,-o)),t>0?(f=f.length>t?f.slice(0,t):s(f,t,!1),f=u+f):f="",h=e.length-1,l="";h>=0;){if(a===0||a>h)return l.length>0?e.slice(0,h+1)+r+l+f:e.slice(0,h+1)+f;l=l.length>0?e.slice(h-a+1,h+1)+r+l:e.slice(h-a+1,h+1);h-=a;v<i.length&&(a=i[v],v++)}return e.slice(0,h+1)+r+l+f}var i,u,r,f,c,e,l,o;if(!n||n.length===0||n==="i")return t&&t.name.length>0?this.toLocaleString():this.toString();i=t.numberFormat;u=Math.abs(this);n||(n="D");r=-1;n.length>1&&(r=parseInt(n.slice(1),10));switch(n.charAt(0)){case"d":case"D":f="n";r!==-1&&(u=s(""+u,r,!0));this<0&&(u=-u);break;case"c":case"C":f=this<0?["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"][i.CurrencyNegativePattern]:["$n","n$","$ n","n $"][i.CurrencyPositivePattern];r===-1&&(r=i.CurrencyDecimalDigits);u=h(Math.abs(this),r,i.CurrencyGroupSizes,i.CurrencyGroupSeparator,i.CurrencyDecimalSeparator);break;case"n":case"N":f=this<0?["(n)","-n","- n","n-","n -"][i.NumberNegativePattern]:"n";r===-1&&(r=i.NumberDecimalDigits);u=h(Math.abs(this),r,i.NumberGroupSizes,i.NumberGroupSeparator,i.NumberDecimalSeparator);break;case"p":case"P":f=this<0?["-n %","-n%","-%n"][i.PercentNegativePattern]:["n %","n%","%n"][i.PercentPositivePattern];r===-1&&(r=i.PercentDecimalDigits);u=h(Math.abs(this)*100,r,i.PercentGroupSizes,i.PercentGroupSeparator,i.PercentDecimalSeparator);break;default:throw Error.format(Sys.Res.formatBadFormatSpecifier);}for(c=/n|\$|-|%/g,e="";;){if(l=c.lastIndex,o=c.exec(f),e+=f.slice(l,o?o.index:f.length),!o)break;switch(o[0]){case"n":e+=u;break;case"$":e+=i.CurrencySymbol;break;case"-":/[1-9]/.test(u)&&(e+=i.NegativeSign);break;case"%":e+=i.PercentSymbol}}return e};Sys.CultureInfo=function(n,t,i){this.name=n;this.numberFormat=t;this.dateTimeFormat=i};Sys.CultureInfo.prototype={_getDateTimeFormats:function(){if(!this._dateTimeFormats){var n=this.dateTimeFormat;this._dateTimeFormats=[n.MonthDayPattern,n.YearMonthPattern,n.ShortDatePattern,n.ShortTimePattern,n.LongDatePattern,n.LongTimePattern,n.FullDateTimePattern,n.RFC1123Pattern,n.SortableDateTimePattern,n.UniversalSortableDateTimePattern]}return this._dateTimeFormats},_getIndex:function(n,t,i){var u=this._toUpper(n),r=Array.indexOf(t,u);return r===-1&&(r=Array.indexOf(i,u)),r},_getMonthIndex:function(n){return this._upperMonths||(this._upperMonths=this._toUpperArray(this.dateTimeFormat.MonthNames),this._upperMonthsGenitive=this._toUpperArray(this.dateTimeFormat.MonthGenitiveNames)),this._getIndex(n,this._upperMonths,this._upperMonthsGenitive)},_getAbbrMonthIndex:function(n){return this._upperAbbrMonths||(this._upperAbbrMonths=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthNames),this._upperAbbrMonthsGenitive=this._toUpperArray(this.dateTimeFormat.AbbreviatedMonthGenitiveNames)),this._getIndex(n,this._upperAbbrMonths,this._upperAbbrMonthsGenitive)},_getDayIndex:function(n){return this._upperDays||(this._upperDays=this._toUpperArray(this.dateTimeFormat.DayNames)),Array.indexOf(this._upperDays,this._toUpper(n))},_getAbbrDayIndex:function(n){return this._upperAbbrDays||(this._upperAbbrDays=this._toUpperArray(this.dateTimeFormat.AbbreviatedDayNames)),Array.indexOf(this._upperAbbrDays,this._toUpper(n))},_toUpperArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=this._toUpper(n[t]);return i},_toUpper:function(n){return n.split("Â ").join(" ").toUpperCase()}};Sys.CultureInfo.registerClass("Sys.CultureInfo");Sys.CultureInfo._parse=function(n){var t=n.dateTimeFormat;return t&&!t.eras&&(t.eras=n.eras),new Sys.CultureInfo(n.name,n.numberFormat,t)};Sys.CultureInfo.InvariantCulture=Sys.CultureInfo._parse({name:"",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",IsReadOnly:!0,CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"Â¤",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"â°",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029,IsReadOnly:!0},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, dd MMMM yyyy HH:mm:ss",LongDatePattern:"dddd, dd MMMM yyyy",LongTimePattern:"HH:mm:ss",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"MM/dd/yyyy",ShortTimePattern:"HH:mm",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"yyyy MMMM",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],IsReadOnly:!0,NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""]},eras:[1,"A.D.",null,0]});typeof __cultureInfo=="object"?(Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse(__cultureInfo),delete __cultureInfo):Sys.CultureInfo.CurrentCulture=Sys.CultureInfo._parse({name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",IsReadOnly:!1,CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"â°",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029,IsReadOnly:!1},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],IsReadOnly:!1,NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""]},eras:[1,"A.D.",null,0]});Type.registerNamespace("Sys.Serialization");Sys.Serialization.JavaScriptSerializer=function(){};Sys.Serialization.JavaScriptSerializer.registerClass("Sys.Serialization.JavaScriptSerializer");Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs=[];Sys.Serialization.JavaScriptSerializer._charsToEscape=[];Sys.Serialization.JavaScriptSerializer._dateRegEx=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g");Sys.Serialization.JavaScriptSerializer._escapeChars={};Sys.Serialization.JavaScriptSerializer._escapeRegEx=new RegExp('["\\\\\\x00-\\x1F]',"i");Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal=new RegExp('["\\\\\\x00-\\x1F]',"g");Sys.Serialization.JavaScriptSerializer._jsonRegEx=new RegExp("[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]","g");Sys.Serialization.JavaScriptSerializer._jsonStringRegEx=new RegExp('"(\\\\.|[^"\\\\])*"',"g");Sys.Serialization.JavaScriptSerializer._serverTypeFieldName="__type";Sys.Serialization.JavaScriptSerializer._init=function(){var i=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"],n,t;for(Sys.Serialization.JavaScriptSerializer._charsToEscape[0]="\\",Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs["\\"]=new RegExp("\\\\","g"),Sys.Serialization.JavaScriptSerializer._escapeChars["\\"]="\\\\",Sys.Serialization.JavaScriptSerializer._charsToEscape[1]='"',Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs['"']=new RegExp('"',"g"),Sys.Serialization.JavaScriptSerializer._escapeChars['"']='\\"',n=0;n<32;n++)t=String.fromCharCode(n),Sys.Serialization.JavaScriptSerializer._charsToEscape[n+2]=t,Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[t]=new RegExp(t,"g"),Sys.Serialization.JavaScriptSerializer._escapeChars[t]=i[n]};Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder=function(n,t){t.append(n.toString())};Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder=function(n,t){if(isFinite(n))t.append(String(n));else throw Error.invalidOperation(Sys.Res.cannotSerializeNonFiniteNumbers);};Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder=function(n,t){var r,i;if(t.append('"'),Sys.Serialization.JavaScriptSerializer._escapeRegEx.test(n))if(Sys.Serialization.JavaScriptSerializer._charsToEscape.length===0&&Sys.Serialization.JavaScriptSerializer._init(),n.length<128)n=n.replace(Sys.Serialization.JavaScriptSerializer._escapeRegExGlobal,function(n){return Sys.Serialization.JavaScriptSerializer._escapeChars[n]});else for(r=0;r<34;r++)i=Sys.Serialization.JavaScriptSerializer._charsToEscape[r],n.indexOf(i)!==-1&&(n=Sys.Browser.agent===Sys.Browser.Opera||Sys.Browser.agent===Sys.Browser.FireFox?n.split(i).join(Sys.Serialization.JavaScriptSerializer._escapeChars[i]):n.replace(Sys.Serialization.JavaScriptSerializer._charsToEscapeRegExs[i],Sys.Serialization.JavaScriptSerializer._escapeChars[i]));t.append(n);t.append('"')};Sys.Serialization.JavaScriptSerializer._serializeWithBuilder=function(n,t,i,r){var u,f,e,o,h,s;switch(typeof n){case"object":if(n)if(Number.isInstanceOfType(n))Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(n,t);else if(Boolean.isInstanceOfType(n))Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(n,t);else if(String.isInstanceOfType(n))Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(n,t);else if(Array.isInstanceOfType(n)){for(t.append("["),u=0;u<n.length;++u)u>0&&t.append(","),Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(n[u],t,!1,r);t.append("]")}else{if(Date.isInstanceOfType(n)){t.append('"\\/Date(');t.append(n.getTime());t.append(')\\/"');break}f=[];e=0;for(o in n)o.startsWith("$")||(o===Sys.Serialization.JavaScriptSerializer._serverTypeFieldName&&e!==0?(f[e++]=f[0],f[0]=o):f[e++]=o);for(i&&f.sort(),t.append("{"),h=!1,u=0;u<e;u++)s=n[f[u]],typeof s!="undefined"&&typeof s!="function"&&(h?t.append(","):h=!0,Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(f[u],t,i,r),t.append(":"),Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(s,t,i,r));t.append("}")}else t.append("null");break;case"number":Sys.Serialization.JavaScriptSerializer._serializeNumberWithBuilder(n,t);break;case"string":Sys.Serialization.JavaScriptSerializer._serializeStringWithBuilder(n,t);break;case"boolean":Sys.Serialization.JavaScriptSerializer._serializeBooleanWithBuilder(n,t);break;default:t.append("null")}};Sys.Serialization.JavaScriptSerializer.serialize=function(n){var t=new Sys.StringBuilder;return Sys.Serialization.JavaScriptSerializer._serializeWithBuilder(n,t,!1),t.toString()};Sys.Serialization.JavaScriptSerializer.deserialize=function(data,secure){if(data.length===0)throw Error.argument("data",Sys.Res.cannotDeserializeEmptyString);try{var exp=data.replace(Sys.Serialization.JavaScriptSerializer._dateRegEx,"$1new Date($2)");if(secure&&Sys.Serialization.JavaScriptSerializer._jsonRegEx.test(exp.replace(Sys.Serialization.JavaScriptSerializer._jsonStringRegEx,"")))throw null;return eval("("+exp+")")}catch(a){throw Error.argument("data",Sys.Res.cannotDeserializeInvalidJson);}};Type.registerNamespace("Sys.UI");Sys.EventHandlerList=function(){this._list={}};Sys.EventHandlerList.prototype={_addHandler:function(n,t){Array.add(this._getEvent(n,!0),t)},addHandler:function(n,t){this._addHandler(n,t)},_removeHandler:function(n,t){var i=this._getEvent(n);i&&Array.remove(i,t)},removeHandler:function(n,t){this._removeHandler(n,t)},getHandler:function(n){var t=this._getEvent(n);return!t||t.length===0?null:(t=Array.clone(t),function(n,i){for(var r=0,u=t.length;r<u;r++)t[r](n,i)})},_getEvent:function(n,t){if(!this._list[n]){if(!t)return null;this._list[n]=[]}return this._list[n]}};Sys.EventHandlerList.registerClass("Sys.EventHandlerList");Sys.CommandEventArgs=function(n,t,i){Sys.CommandEventArgs.initializeBase(this);this._commandName=n;this._commandArgument=t;this._commandSource=i};Sys.CommandEventArgs.prototype={_commandName:null,_commandArgument:null,_commandSource:null,get_commandName:function(){return this._commandName},get_commandArgument:function(){return this._commandArgument},get_commandSource:function(){return this._commandSource}};Sys.CommandEventArgs.registerClass("Sys.CommandEventArgs",Sys.CancelEventArgs);Sys.INotifyPropertyChange=function(){};Sys.INotifyPropertyChange.prototype={};Sys.INotifyPropertyChange.registerInterface("Sys.INotifyPropertyChange");Sys.PropertyChangedEventArgs=function(n){Sys.PropertyChangedEventArgs.initializeBase(this);this._propertyName=n};Sys.PropertyChangedEventArgs.prototype={get_propertyName:function(){return this._propertyName}};Sys.PropertyChangedEventArgs.registerClass("Sys.PropertyChangedEventArgs",Sys.EventArgs);Sys.INotifyDisposing=function(){};Sys.INotifyDisposing.prototype={};Sys.INotifyDisposing.registerInterface("Sys.INotifyDisposing");Sys.Component=function(){Sys.Application&&Sys.Application.registerDisposableObject(this)};Sys.Component.prototype={_id:null,_initialized:!1,_updating:!1,get_events:function(){return this._events||(this._events=new Sys.EventHandlerList),this._events},get_id:function(){return this._id},set_id:function(n){this._id=n},get_isInitialized:function(){return this._initialized},get_isUpdating:function(){return this._updating},add_disposing:function(n){this.get_events().addHandler("disposing",n)},remove_disposing:function(n){this.get_events().removeHandler("disposing",n)},add_propertyChanged:function(n){this.get_events().addHandler("propertyChanged",n)},remove_propertyChanged:function(n){this.get_events().removeHandler("propertyChanged",n)},beginUpdate:function(){this._updating=!0},dispose:function(){if(this._events){var n=this._events.getHandler("disposing");n&&n(this,Sys.EventArgs.Empty)}delete this._events;Sys.Application.unregisterDisposableObject(this);Sys.Application.removeComponent(this)},endUpdate:function(){this._updating=!1;this._initialized||this.initialize();this.updated()},initialize:function(){this._initialized=!0},raisePropertyChanged:function(n){if(this._events){var t=this._events.getHandler("propertyChanged");t&&t(this,new Sys.PropertyChangedEventArgs(n))}},updated:function(){}};Sys.Component.registerClass("Sys.Component",null,Sys.IDisposable,Sys.INotifyPropertyChange,Sys.INotifyDisposing);$create=Sys.Component.create=function(n,t,i,r,u){var f=u?new n(u):new n,e=Sys.Application,s=e.get_isCreatingComponents(),o;if(f.beginUpdate(),t&&Sys$Component$_setProperties(f,t),i)for(o in i)f["add_"+o](i[o]);return f.get_id()&&e.addComponent(f),s?(e._createdComponents[e._createdComponents.length]=f,r?e._addComponentToSecondPass(f,r):f.endUpdate()):(r&&Sys$Component$_setReferences(f,r),f.endUpdate()),f};Sys.UI.MouseButton=function(){throw Error.notImplemented();};Sys.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};Sys.UI.MouseButton.registerEnum("Sys.UI.MouseButton");Sys.UI.Key=function(){throw Error.notImplemented();};Sys.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Sys.UI.Key.registerEnum("Sys.UI.Key");Sys.UI.Point=function(n,t){this.rawX=n;this.rawY=t;this.x=Math.round(n);this.y=Math.round(t)};Sys.UI.Point.registerClass("Sys.UI.Point");Sys.UI.Bounds=function(n,t,i,r){this.x=n;this.y=t;this.height=r;this.width=i};Sys.UI.Bounds.registerClass("Sys.UI.Bounds");Sys.UI.DomEvent=function(n){var t=n,u=this.type=t.type.toLowerCase(),i,r;this.rawEvent=t;this.altKey=t.altKey;typeof t.button!="undefined"&&(this.button=typeof t.which!="undefined"?t.button:t.button===4?Sys.UI.MouseButton.middleButton:t.button===2?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton);u==="keypress"?this.charCode=t.charCode||t.keyCode:this.keyCode=t.keyCode&&t.keyCode===46?127:t.keyCode;this.clientX=t.clientX;this.clientY=t.clientY;this.ctrlKey=t.ctrlKey;this.target=t.target?t.target:t.srcElement;u.startsWith("key")||(typeof t.offsetX!="undefined"&&typeof t.offsetY!="undefined"?(this.offsetX=t.offsetX,this.offsetY=t.offsetY):this.target&&this.target.nodeType!==3&&typeof t.clientX=="number"&&(i=Sys.UI.DomElement.getLocation(this.target),r=Sys.UI.DomElement._getWindow(this.target),this.offsetX=(r.pageXOffset||0)+t.clientX-i.x,this.offsetY=(r.pageYOffset||0)+t.clientY-i.y));this.screenX=t.screenX;this.screenY=t.screenY;this.shiftKey=t.shiftKey};Sys.UI.DomEvent.prototype={preventDefault:function(){this.rawEvent.preventDefault?this.rawEvent.preventDefault():window.event&&(this.rawEvent.returnValue=!1)},stopPropagation:function(){this.rawEvent.stopPropagation?this.rawEvent.stopPropagation():window.event&&(this.rawEvent.cancelBubble=!0)}};Sys.UI.DomEvent.registerClass("Sys.UI.DomEvent");var $addHandler=Sys.UI.DomEvent.addHandler=function(n,t,i,r){var u,f,e;n._events||(n._events={});u=n._events[t];u||(n._events[t]=u=[]);n.addEventListener?(f=function(t){return i.call(n,new Sys.UI.DomEvent(t))},n.addEventListener(t,f,!1)):n.attachEvent&&(f=function(){var t={};try{t=Sys.UI.DomElement._getWindow(n).event}catch(r){}return i.call(n,new Sys.UI.DomEvent(t))},n.attachEvent("on"+t,f));u[u.length]={handler:i,browserHandler:f,autoRemove:r};r&&(e=n.dispose,e!==Sys.UI.DomEvent._disposeHandlers&&(n.dispose=Sys.UI.DomEvent._disposeHandlers,typeof e!="undefined"&&(n._chainDispose=e)))},$addHandlers=Sys.UI.DomEvent.addHandlers=function(n,t,i,r){var f,u;for(f in t)u=t[f],i&&(u=Function.createDelegate(i,u)),$addHandler(n,f,u,r||!1)},$clearHandlers=Sys.UI.DomEvent.clearHandlers=function(n){Sys.UI.DomEvent._clearHandlers(n,!1)};Sys.UI.DomEvent._clearHandlers=function(n,t){var r,u,f,i,e;if(n._events){r=n._events;for(u in r)for(f=r[u],i=f.length-1;i>=0;i--)e=f[i],(!t||e.autoRemove)&&$removeHandler(n,u,e.handler);n._events=null}};Sys.UI.DomEvent._disposeHandlers=function(){Sys.UI.DomEvent._clearHandlers(this,!0);var n=this._chainDispose,t=typeof n;t!=="undefined"&&(this.dispose=n,this._chainDispose=null,t==="function"&&this.dispose())};$removeHandler=Sys.UI.DomEvent.removeHandler=function(n,t,i){Sys.UI.DomEvent._removeHandler(n,t,i)};Sys.UI.DomEvent._removeHandler=function(n,t,i){for(var f=null,u=n._events[t],r=0,e=u.length;r<e;r++)if(u[r].handler===i){f=u[r].browserHandler;break}n.removeEventListener?n.removeEventListener(t,f,!1):n.detachEvent&&n.detachEvent("on"+t,f);u.splice(r,1)};Sys.UI.DomElement=function(){};Sys.UI.DomElement.registerClass("Sys.UI.DomElement");Sys.UI.DomElement.addCssClass=function(n,t){Sys.UI.DomElement.containsCssClass(n,t)||(n.className===""?n.className=t:n.className+=" "+t)};Sys.UI.DomElement.containsCssClass=function(n,t){return Array.contains(n.className.split(" "),t)};Sys.UI.DomElement.getBounds=function(n){var t=Sys.UI.DomElement.getLocation(n);return new Sys.UI.Bounds(t.x,t.y,n.offsetWidth||0,n.offsetHeight||0)};$get=Sys.UI.DomElement.getElementById=function(n,t){var u,f,r,i;if(!t)return document.getElementById(n);if(t.getElementById)return t.getElementById(n);for(u=[],f=t.childNodes,r=0;r<f.length;r++)i=f[r],i.nodeType==1&&(u[u.length]=i);while(u.length){if(i=u.shift(),i.id==n)return i;for(f=i.childNodes,r=0;r<f.length;r++)i=f[r],i.nodeType==1&&(u[u.length]=i)}return null};Sys.UI.DomElement.getLocation=document.documentElement.getBoundingClientRect?function(n){var u,e,o;if(n.self||n.nodeType===9||n===document.documentElement||n.parentNode===n.ownerDocument.documentElement||(u=n.getBoundingClientRect(),!u))return new Sys.UI.Point(0,0);var f=n.ownerDocument.documentElement,s=n.ownerDocument.body,i=Math.round(u.left)+(f.scrollLeft||s.scrollLeft),r=Math.round(u.top)+(f.scrollTop||s.scrollTop);if(Sys.Browser.agent===Sys.Browser.InternetExplorer){try{e=n.ownerDocument.parentWindow.frameElement||null;e&&(o=e.frameBorder==="0"||e.frameBorder==="no"?2:0,i+=o,r+=o)}catch(l){}if(Sys.Browser.version===7&&!document.documentMode){var h=document.body,c=h.getBoundingClientRect(),t=(c.right-c.left)/h.clientWidth;t=Math.round(t*100);t=(t-t%5)/100;isNaN(t)||t===1||(i=Math.round(i/t),r=Math.round(r/t))}(document.documentMode||0)<8&&(i-=f.clientLeft,r-=f.clientTop)}return new Sys.UI.Point(i,r)}:Sys.Browser.agent===Sys.Browser.Safari?function(n){var r,o,s;if(n.window&&n.window===n||n.nodeType===9)return new Sys.UI.Point(0,0);for(var u=0,f=0,h=null,e=null,i,t=n;t;h=t,e=i,t=t.offsetParent)i=Sys.UI.DomElement._getCurrentStyle(t),r=t.tagName?t.tagName.toUpperCase():null,(t.offsetLeft||t.offsetTop)&&(r!=="BODY"||!e||e.position!=="absolute")&&(u+=t.offsetLeft,f+=t.offsetTop),h&&Sys.Browser.version>=3&&(u+=parseInt(i.borderLeftWidth),f+=parseInt(i.borderTopWidth));if(i=Sys.UI.DomElement._getCurrentStyle(n),o=i?i.position:null,!o||o!=="absolute")for(t=n.parentNode;t;t=t.parentNode)if(r=t.tagName?t.tagName.toUpperCase():null,r!=="BODY"&&r!=="HTML"&&(t.scrollLeft||t.scrollTop)&&(u-=t.scrollLeft||0,f-=t.scrollTop||0),i=Sys.UI.DomElement._getCurrentStyle(t),s=i?i.position:null,s&&s==="absolute")break;return new Sys.UI.Point(u,f)}:function(n){var r,o;if(n.window&&n.window===n||n.nodeType===9)return new Sys.UI.Point(0,0);for(var u=0,f=0,s=null,e=null,i=null,t=n;t;s=t,e=i,t=t.offsetParent)r=t.tagName?t.tagName.toUpperCase():null,i=Sys.UI.DomElement._getCurrentStyle(t),!(t.offsetLeft||t.offsetTop)||r==="BODY"&&(!e||e.position!=="absolute")||(u+=t.offsetLeft,f+=t.offsetTop),s!==null&&i&&(r!=="TABLE"&&r!=="TD"&&r!=="HTML"&&(u+=parseInt(i.borderLeftWidth)||0,f+=parseInt(i.borderTopWidth)||0),r==="TABLE"&&(i.position==="relative"||i.position==="absolute")&&(u+=parseInt(i.marginLeft)||0,f+=parseInt(i.marginTop)||0));if(i=Sys.UI.DomElement._getCurrentStyle(n),o=i?i.position:null,!o||o!=="absolute")for(t=n.parentNode;t;t=t.parentNode)r=t.tagName?t.tagName.toUpperCase():null,r!=="BODY"&&r!=="HTML"&&(t.scrollLeft||t.scrollTop)&&(u-=t.scrollLeft||0,f-=t.scrollTop||0,i=Sys.UI.DomElement._getCurrentStyle(t),i&&(u+=parseInt(i.borderLeftWidth)||0,f+=parseInt(i.borderTopWidth)||0));return new Sys.UI.Point(u,f)};Sys.UI.DomElement.isDomElement=function(n){return Sys._isDomElement(n)};Sys.UI.DomElement.removeCssClass=function(n,t){var i=" "+n.className+" ",r=i.indexOf(" "+t+" ");r>=0&&(n.className=(i.substr(0,r)+" "+i.substring(r+t.length+1,i.length)).trim())};Sys.UI.DomElement.resolveElement=function(n,t){var i=n;return i?(typeof i=="string"&&(i=Sys.UI.DomElement.getElementById(i,t)),i):null};Sys.UI.DomElement.raiseBubbleEvent=function(n,t){for(var r=n,i;r;){if(i=r.control,i&&i.onBubbleEvent&&i.raiseBubbleEvent){Sys.UI.DomElement._raiseBubbleEventFromControl(i,n,t);return}r=r.parentNode}};Sys.UI.DomElement._raiseBubbleEventFromControl=function(n,t,i){n.onBubbleEvent(t,i)||n._raiseBubbleEvent(t,i)};Sys.UI.DomElement.setLocation=function(n,t,i){var r=n.style;r.position="absolute";r.left=t+"px";r.top=i+"px"};Sys.UI.DomElement.toggleCssClass=function(n,t){Sys.UI.DomElement.containsCssClass(n,t)?Sys.UI.DomElement.removeCssClass(n,t):Sys.UI.DomElement.addCssClass(n,t)};Sys.UI.DomElement.getVisibilityMode=function(n){return n._visibilityMode===Sys.UI.VisibilityMode.hide?Sys.UI.VisibilityMode.hide:Sys.UI.VisibilityMode.collapse};Sys.UI.DomElement.setVisibilityMode=function(n,t){Sys.UI.DomElement._ensureOldDisplayMode(n);n._visibilityMode!==t&&(n._visibilityMode=t,Sys.UI.DomElement.getVisible(n)===!1&&(n.style.display=n._visibilityMode===Sys.UI.VisibilityMode.hide?n._oldDisplayMode:"none"),n._visibilityMode=t)};Sys.UI.DomElement.getVisible=function(n){var t=n.currentStyle||Sys.UI.DomElement._getCurrentStyle(n);return t?t.visibility!=="hidden"&&t.display!=="none":!0};Sys.UI.DomElement.setVisible=function(n,t){t!==Sys.UI.DomElement.getVisible(n)&&(Sys.UI.DomElement._ensureOldDisplayMode(n),n.style.visibility=t?"visible":"hidden",n.style.display=t||n._visibilityMode===Sys.UI.VisibilityMode.hide?n._oldDisplayMode:"none")};Sys.UI.DomElement._ensureOldDisplayMode=function(n){if(!n._oldDisplayMode){var t=n.currentStyle||Sys.UI.DomElement._getCurrentStyle(n);if(n._oldDisplayMode=t?t.display:null,!n._oldDisplayMode||n._oldDisplayMode==="none")switch(n.tagName.toUpperCase()){case"DIV":case"P":case"ADDRESS":case"BLOCKQUOTE":case"BODY":case"COL":case"COLGROUP":case"DD":case"DL":case"DT":case"FIELDSET":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HR":case"IFRAME":case"LEGEND":case"OL":case"PRE":case"TABLE":case"TD":case"TH":case"TR":case"UL":n._oldDisplayMode="block";break;case"LI":n._oldDisplayMode="list-item";break;default:n._oldDisplayMode="inline"}}};Sys.UI.DomElement._getWindow=function(n){var t=n.ownerDocument||n.document||n;return t.defaultView||t.parentWindow};Sys.UI.DomElement._getCurrentStyle=function(n){var t,i,f,e,r,u;if(n.nodeType===3)return null;if(t=Sys.UI.DomElement._getWindow(n),n.documentElement&&(n=n.documentElement),i=t&&n!==t&&t.getComputedStyle?t.getComputedStyle(n,null):n.currentStyle||n.style,!i&&Sys.Browser.agent===Sys.Browser.Safari&&n.style){f=n.style.display;e=n.style.position;n.style.position="absolute";n.style.display="block";r=t.getComputedStyle(n,null);n.style.display=f;n.style.position=e;i={};for(u in r)i[u]=r[u];i.display="none"}return i};Sys.IContainer=function(){};Sys.IContainer.prototype={};Sys.IContainer.registerInterface("Sys.IContainer");Sys.ApplicationLoadEventArgs=function(n,t){Sys.ApplicationLoadEventArgs.initializeBase(this);this._components=n;this._isPartialLoad=t};Sys.ApplicationLoadEventArgs.prototype={get_components:function(){return this._components},get_isPartialLoad:function(){return this._isPartialLoad}};Sys.ApplicationLoadEventArgs.registerClass("Sys.ApplicationLoadEventArgs",Sys.EventArgs);Sys._Application=function(){Sys._Application.initializeBase(this);this._disposableObjects=[];this._components={};this._createdComponents=[];this._secondPassComponents=[];this._unloadHandlerDelegate=Function.createDelegate(this,this._unloadHandler);Sys.UI.DomEvent.addHandler(window,"unload",this._unloadHandlerDelegate);this._domReady()};Sys._Application.prototype={_creatingComponents:!1,_disposing:!1,_deleteCount:0,get_isCreatingComponents:function(){return this._creatingComponents},get_isDisposing:function(){return this._disposing},add_init:function(n){this._initialized?n(this,Sys.EventArgs.Empty):this.get_events().addHandler("init",n)},remove_init:function(n){this.get_events().removeHandler("init",n)},add_load:function(n){this.get_events().addHandler("load",n)},remove_load:function(n){this.get_events().removeHandler("load",n)},add_unload:function(n){this.get_events().addHandler("unload",n)},remove_unload:function(n){this.get_events().removeHandler("unload",n)},addComponent:function(n){this._components[n.get_id()]=n},beginCreateComponents:function(){this._creatingComponents=!0},dispose:function(){var t,i,n,f,r,u;if(!this._disposing){for(this._disposing=!0,this._timerCookie&&(window.clearTimeout(this._timerCookie),delete this._timerCookie),this._endRequestHandler&&(Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(this._endRequestHandler),delete this._endRequestHandler),this._beginRequestHandler&&(Sys.WebForms.PageRequestManager.getInstance().remove_beginRequest(this._beginRequestHandler),delete this._beginRequestHandler),window.pageUnload&&window.pageUnload(this,Sys.EventArgs.Empty),t=this.get_events().getHandler("unload"),t&&t(this,Sys.EventArgs.Empty),i=Array.clone(this._disposableObjects),n=0,f=i.length;n<f;n++)r=i[n],typeof r!="undefined"&&r.dispose();Array.clear(this._disposableObjects);Sys.UI.DomEvent.removeHandler(window,"unload",this._unloadHandlerDelegate);Sys._ScriptLoader&&(u=Sys._ScriptLoader.getInstance(),u&&u.dispose());Sys._Application.callBaseMethod(this,"dispose")}},disposeElement:function(n,t){var f,e,u,i;if(n.nodeType===1){for(var s=n.getElementsByTagName("*"),o=s.length,h=new Array(o),r=0;r<o;r++)h[r]=s[r];for(r=o-1;r>=0;r--)f=h[r],e=f.dispose,e&&typeof e=="function"?f.dispose():(u=f.control,u&&typeof u.dispose=="function"&&u.dispose()),i=f._behaviors,i&&this._disposeComponents(i),i=f._components,i&&(this._disposeComponents(i),f._components=null);t||(e=n.dispose,e&&typeof e=="function"?n.dispose():(u=n.control,u&&typeof u.dispose=="function"&&u.dispose()),i=n._behaviors,i&&this._disposeComponents(i),i=n._components,i&&(this._disposeComponents(i),n._components=null))}},endCreateComponents:function(){for(var t=this._secondPassComponents,i,n=0,r=t.length;n<r;n++)i=t[n].component,Sys$Component$_setReferences(i,t[n].references),i.endUpdate();this._secondPassComponents=[];this._creatingComponents=!1},findComponent:function(n,t){return t?Sys.IContainer.isInstanceOfType(t)?t.findComponent(n):t[n]||null:Sys.Application._components[n]||null},getComponents:function(){var n=[],t=this._components,i;for(i in t)n[n.length]=t[i];return n},initialize:function(){if(!this.get_isInitialized()&&!this._disposing){if(Sys._Application.callBaseMethod(this,"initialize"),this._raiseInit(),this.get_stateString){Sys.WebForms&&Sys.WebForms.PageRequestManager&&(this._beginRequestHandler=Function.createDelegate(this,this._onPageRequestManagerBeginRequest),Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(this._beginRequestHandler),this._endRequestHandler=Function.createDelegate(this,this._onPageRequestManagerEndRequest),Sys.WebForms.PageRequestManager.getInstance().add_endRequest(this._endRequestHandler));var n=this.get_stateString();n!==this._currentEntry?this._navigate(n):this._ensureHistory()}this.raiseLoad()}},notifyScriptLoaded:function(){},registerDisposableObject:function(n){if(!this._disposing){var t=this._disposableObjects,i=t.length;t[i]=n;n.__msdisposeindex=i}},raiseLoad:function(){var n=this.get_events().getHandler("load"),t=new Sys.ApplicationLoadEventArgs(Array.clone(this._createdComponents),!!this._loaded);this._loaded=!0;n&&n(this,t);window.pageLoad&&window.pageLoad(this,t);this._createdComponents=[]},removeComponent:function(n){var t=n.get_id();t&&delete this._components[t]},unregisterDisposableObject:function(n){var u,t,i,r,f;if(!this._disposing&&(u=n.__msdisposeindex,typeof u=="number"&&(t=this._disposableObjects,delete t[u],delete n.__msdisposeindex,++this._deleteCount>1e3))){for(i=[],r=0,f=t.length;r<f;r++)n=t[r],typeof n!="undefined"&&(n.__msdisposeindex=i.length,i.push(n));this._disposableObjects=i;this._deleteCount=0}},_addComponentToSecondPass:function(n,t){this._secondPassComponents[this._secondPassComponents.length]={component:n,references:t}},_disposeComponents:function(n){var t,i;if(n)for(t=n.length-1;t>=0;t--)i=n[t],typeof i.dispose=="function"&&i.dispose()},_domReady:function(){function t(){u.initialize()}var n,u=this,r=function(){Sys.UI.DomEvent.removeHandler(window,"load",r);t()},f,i;if(Sys.UI.DomEvent.addHandler(window,"load",r),document.addEventListener)try{document.addEventListener("DOMContentLoaded",n=function(){document.removeEventListener("DOMContentLoaded",n,!1);t()},!1)}catch(e){}else document.attachEvent&&(window==window.top&&document.documentElement.doScroll?(i=document.createElement("div"),n=function(){try{i.doScroll("left")}catch(r){f=window.setTimeout(n,0);return}i=null;t()},n()):document.attachEvent("onreadystatechange",n=function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",n),t())}))},_raiseInit:function(){var n=this.get_events().getHandler("init");n&&(this.beginCreateComponents(),n(this,Sys.EventArgs.Empty),this.endCreateComponents())},_unloadHandler:function(){this.dispose()}};Sys._Application.registerClass("Sys._Application",Sys.Component,Sys.IContainer);Sys.Application=new Sys._Application;$find=Sys.Application.findComponent;Sys.UI.Behavior=function(n){Sys.UI.Behavior.initializeBase(this);this._element=n;var t=n._behaviors;t?t[t.length]=this:n._behaviors=[this]};Sys.UI.Behavior.prototype={_name:null,get_element:function(){return this._element},get_id:function(){var n=Sys.UI.Behavior.callBaseMethod(this,"get_id");return n?n:!this._element||!this._element.id?"":this._element.id+"$"+this.get_name()},get_name:function(){if(this._name)return this._name;var n=Object.getTypeName(this),t=n.lastIndexOf(".");return t!==-1&&(n=n.substr(t+1)),this.get_isInitialized()||(this._name=n),n},set_name:function(n){this._name=n},initialize:function(){Sys.UI.Behavior.callBaseMethod(this,"initialize");var n=this.get_name();n&&(this._element[n]=this)},dispose:function(){var n,t,i;Sys.UI.Behavior.callBaseMethod(this,"dispose");n=this._element;n&&(t=this.get_name(),t&&(n[t]=null),i=n._behaviors,Array.remove(i,this),i.length===0&&(n._behaviors=null),delete this._element)}};Sys.UI.Behavior.registerClass("Sys.UI.Behavior",Sys.Component);Sys.UI.Behavior.getBehaviorByName=function(n,t){var i=n[t];return i&&Sys.UI.Behavior.isInstanceOfType(i)?i:null};Sys.UI.Behavior.getBehaviors=function(n){return n._behaviors?Array.clone(n._behaviors):[]};Sys.UI.Behavior.getBehaviorsByType=function(n,t){var r=n._behaviors,u=[],i,f;if(r)for(i=0,f=r.length;i<f;i++)t.isInstanceOfType(r[i])&&(u[u.length]=r[i]);return u};Sys.UI.VisibilityMode=function(){throw Error.notImplemented();};Sys.UI.VisibilityMode.prototype={hide:0,collapse:1};Sys.UI.VisibilityMode.registerEnum("Sys.UI.VisibilityMode");Sys.UI.Control=function(n){Sys.UI.Control.initializeBase(this);this._element=n;n.control=this;var t=this.get_role();t&&n.setAttribute("role",t)};Sys.UI.Control.prototype={_parent:null,_visibilityMode:Sys.UI.VisibilityMode.hide,get_element:function(){return this._element},get_id:function(){return this._element?this._element.id:""},set_id:function(){throw Error.invalidOperation(Sys.Res.cantSetId);},get_parent:function(){if(this._parent)return this._parent;if(!this._element)return null;for(var n=this._element.parentNode;n;){if(n.control)return n.control;n=n.parentNode}return null},set_parent:function(n){this._parent=n},get_role:function(){return null},get_visibilityMode:function(){return Sys.UI.DomElement.getVisibilityMode(this._element)},set_visibilityMode:function(n){Sys.UI.DomElement.setVisibilityMode(this._element,n)},get_visible:function(){return Sys.UI.DomElement.getVisible(this._element)},set_visible:function(n){Sys.UI.DomElement.setVisible(this._element,n)},addCssClass:function(n){Sys.UI.DomElement.addCssClass(this._element,n)},dispose:function(){Sys.UI.Control.callBaseMethod(this,"dispose");this._element&&(this._element.control=null,delete this._element);this._parent&&delete this._parent},onBubbleEvent:function(){return!1},raiseBubbleEvent:function(n,t){this._raiseBubbleEvent(n,t)},_raiseBubbleEvent:function(n,t){for(var i=this.get_parent();i;){if(i.onBubbleEvent(n,t))return;i=i.get_parent()}},removeCssClass:function(n){Sys.UI.DomElement.removeCssClass(this._element,n)},toggleCssClass:function(n){Sys.UI.DomElement.toggleCssClass(this._element,n)}};Sys.UI.Control.registerClass("Sys.UI.Control",Sys.Component);Sys.HistoryEventArgs=function(n){Sys.HistoryEventArgs.initializeBase(this);this._state=n};Sys.HistoryEventArgs.prototype={get_state:function(){return this._state}};Sys.HistoryEventArgs.registerClass("Sys.HistoryEventArgs",Sys.EventArgs);Sys.Application._appLoadHandler=null;Sys.Application._beginRequestHandler=null;Sys.Application._clientId=null;Sys.Application._currentEntry="";Sys.Application._endRequestHandler=null;Sys.Application._history=null;Sys.Application._enableHistory=!1;Sys.Application._historyFrame=null;Sys.Application._historyInitialized=!1;Sys.Application._historyPointIsNew=!1;Sys.Application._ignoreTimer=!1;Sys.Application._initialState=null;Sys.Application._state={};Sys.Application._timerCookie=0;Sys.Application._timerHandler=null;Sys.Application._uniqueId=null;Sys._Application.prototype.get_stateString=function(){var n=null,t,i;return Sys.Browser.agent===Sys.Browser.Firefox?(t=window.location.href,i=t.indexOf("#"),i!==-1?t.substring(i+1):""):(n=window.location.hash,n.length>0&&n.charAt(0)==="#"&&(n=n.substring(1)),n)};Sys._Application.prototype.get_enableHistory=function(){return this._enableHistory};Sys._Application.prototype.set_enableHistory=function(n){this._enableHistory=n};Sys._Application.prototype.add_navigate=function(n){this.get_events().addHandler("navigate",n)};Sys._Application.prototype.remove_navigate=function(n){this.get_events().removeHandler("navigate",n)};Sys._Application.prototype.addHistoryPoint=function(n,t){var i,r,u,f;this._ensureHistory();i=this._state;for(r in n)u=n[r],u===null?typeof i[r]!="undefined"&&delete i[r]:i[r]=u;f=this._serializeState(i);this._historyPointIsNew=!0;this._setState(f,t);this._raiseNavigate()};Sys._Application.prototype.setServerId=function(n,t){this._clientId=n;this._uniqueId=t};Sys._Application.prototype.setServerState=function(n){this._ensureHistory();this._state.__s=n;this._updateHiddenField(n)};Sys._Application.prototype._deserializeState=function(n){var f={},t,e,u,o,i,r,s,h;for(n=n||"",t=n.indexOf("&&"),t!==-1&&t+2<n.length&&(f.__s=n.substr(t+2),n=n.substr(0,t)),e=n.split("&"),u=0,o=e.length;u<o;u++)i=e[u],r=i.indexOf("="),r!==-1&&r+1<i.length&&(s=i.substr(0,r),h=i.substr(r+1),f[s]=decodeURIComponent(h));return f};Sys._Application.prototype._enableHistoryInScriptManager=function(){this._enableHistory=!0};Sys._Application.prototype._ensureHistory=function(){if(!this._historyInitialized&&this._enableHistory){Sys.Browser.agent===Sys.Browser.InternetExplorer&&Sys.Browser.documentMode<8&&(this._historyFrame=document.getElementById("__historyFrame"),this._ignoreIFrame=!0);this._timerHandler=Function.createDelegate(this,this._onIdle);this._timerCookie=window.setTimeout(this._timerHandler,100);try{this._initialState=this._deserializeState(this.get_stateString())}catch(n){}this._historyInitialized=!0}};Sys._Application.prototype._navigate=function(n){var t,r,i;if(this._ensureHistory(),t=this._deserializeState(n),this._uniqueId&&(r=this._state.__s||"",i=t.__s||"",i!==r)){this._updateHiddenField(i);__doPostBack(this._uniqueId,i);this._state=t;return}this._setState(n);this._state=t;this._raiseNavigate()};Sys._Application.prototype._onIdle=function(){delete this._timerCookie;var n=this.get_stateString();n!==this._currentEntry?this._ignoreTimer||(this._historyPointIsNew=!1,this._navigate(n)):this._ignoreTimer=!1;this._timerCookie=window.setTimeout(this._timerHandler,100)};Sys._Application.prototype._onIFrameLoad=function(n){this._ensureHistory();this._ignoreIFrame||(this._historyPointIsNew=!1,this._navigate(n));this._ignoreIFrame=!1};Sys._Application.prototype._onPageRequestManagerBeginRequest=function(){this._ignoreTimer=!0;this._originalTitle=document.title};Sys._Application.prototype._onPageRequestManagerEndRequest=function(n,t){var u=t.get_dataItems()[this._clientId],f=this._originalTitle,r,i,e;this._originalTitle=null;r=document.getElementById("__EVENTTARGET");r&&r.value===this._uniqueId&&(r.value="");typeof u!="undefined"?(this.setServerState(u),this._historyPointIsNew=!0):this._ignoreTimer=!1;i=this._serializeState(this._state);i!==this._currentEntry&&(this._ignoreTimer=!0,typeof f=="string"?(Sys.Browser.agent!==Sys.Browser.InternetExplorer||Sys.Browser.version>7?(e=document.title,document.title=f,this._setState(i),document.title=e):this._setState(i),this._raiseNavigate()):(this._setState(i),this._raiseNavigate()))};Sys._Application.prototype._raiseNavigate=function(){var u=this._historyPointIsNew,t=this.get_events().getHandler("navigate"),i={},n,r;for(n in this._state)n!=="__s"&&(i[n]=this._state[n]);if(r=new Sys.HistoryEventArgs(i),t&&t(this,r),!u)try{Sys.Browser.agent===Sys.Browser.Firefox&&window.location.hash&&(!window.frameElement||window.top.location.hash)&&(Sys.Browser.version<3.5?window.history.go(0):location.hash=this.get_stateString())}catch(f){}};Sys._Application.prototype._serializeState=function(n){var i=[],t,r,u;for(t in n)r=n[t],t==="__s"?u=r:i[i.length]=t+"="+encodeURIComponent(r);return i.join("&")+(u?"&&"+u:"")};Sys._Application.prototype._setState=function(n,t){var i,u,f,e,r,o;this._enableHistory&&(n=n||"",n!==this._currentEntry&&(window.theForm&&(i=window.theForm.action,u=i.indexOf("#"),window.theForm.action=(u!==-1?i.substring(0,u):i)+"#"+n),this._historyFrame&&this._historyPointIsNew&&(f=document.createElement("div"),f.appendChild(document.createTextNode(t||document.title)),e=f.innerHTML,this._ignoreIFrame=!0,r=this._historyFrame.contentWindow.document,r.open("javascript:'<html><\/html>'"),r.write("<html><head><title>"+e+'<\/title><script type="text/javascript">parent.Sys.Application._onIFrameLoad('+Sys.Serialization.JavaScriptSerializer.serialize(n)+");<\/script><\/head><body><\/body><\/html>"),r.close()),this._ignoreTimer=!1,this._currentEntry=n,(this._historyFrame||this._historyPointIsNew)&&(o=this.get_stateString(),n!==o&&(window.location.hash=n,this._currentEntry=this.get_stateString(),typeof t!="undefined"&&t!==null&&(document.title=t))),this._historyPointIsNew=!1))};Sys._Application.prototype._updateHiddenField=function(n){if(this._clientId){var t=document.getElementById(this._clientId);t&&(t.value=n)}};window.XMLHttpRequest||(window.XMLHttpRequest=function(){for(var t=["Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP"],n=0,i=t.length;n<i;n++)try{return new ActiveXObject(t[n])}catch(r){}return null});Type.registerNamespace("Sys.Net");Sys.Net.WebRequestExecutor=function(){this._webRequest=null;this._resultObject=null};Sys.Net.WebRequestExecutor.prototype={get_webRequest:function(){return this._webRequest},_set_webRequest:function(n){this._webRequest=n},get_started:function(){throw Error.notImplemented();},get_responseAvailable:function(){throw Error.notImplemented();},get_timedOut:function(){throw Error.notImplemented();},get_aborted:function(){throw Error.notImplemented();},get_responseData:function(){throw Error.notImplemented();},get_statusCode:function(){throw Error.notImplemented();},get_statusText:function(){throw Error.notImplemented();},get_xml:function(){throw Error.notImplemented();},get_object:function(){return this._resultObject||(this._resultObject=Sys.Serialization.JavaScriptSerializer.deserialize(this.get_responseData())),this._resultObject},executeRequest:function(){throw Error.notImplemented();},abort:function(){throw Error.notImplemented();},getResponseHeader:function(){throw Error.notImplemented();},getAllResponseHeaders:function(){throw Error.notImplemented();}};Sys.Net.WebRequestExecutor.registerClass("Sys.Net.WebRequestExecutor");Sys.Net.XMLDOM=function(n){var r,i,u,t,f;if(window.DOMParser)try{return f=new window.DOMParser,f.parseFromString(n,"text/xml")}catch(e){}else for(r=["Msxml2.DOMDocument.3.0","Msxml2.DOMDocument"],i=0,u=r.length;i<u;i++)try{return t=new ActiveXObject(r[i]),t.async=!1,t.loadXML(n),t.setProperty("SelectionLanguage","XPath"),t}catch(e){}return null};Sys.Net.XMLHttpExecutor=function(){Sys.Net.XMLHttpExecutor.initializeBase(this);var n=this;this._xmlHttpRequest=null;this._webRequest=null;this._responseAvailable=!1;this._timedOut=!1;this._timer=null;this._aborted=!1;this._started=!1;this._onReadyStateChange=function(){if(n._xmlHttpRequest.readyState===4){try{if(typeof n._xmlHttpRequest.status=="undefined")return}catch(t){return}n._clearTimer();n._responseAvailable=!0;try{n._webRequest.completed(Sys.EventArgs.Empty)}finally{n._xmlHttpRequest!=null&&(n._xmlHttpRequest.onreadystatechange=Function.emptyMethod,n._xmlHttpRequest=null)}}};this._clearTimer=function(){n._timer!=null&&(window.clearTimeout(n._timer),n._timer=null)};this._onTimeout=function(){n._responseAvailable||(n._clearTimer(),n._timedOut=!0,n._xmlHttpRequest.onreadystatechange=Function.emptyMethod,n._xmlHttpRequest.abort(),n._webRequest.completed(Sys.EventArgs.Empty),n._xmlHttpRequest=null)}};Sys.Net.XMLHttpExecutor.prototype={get_timedOut:function(){return this._timedOut},get_started:function(){return this._started},get_responseAvailable:function(){return this._responseAvailable},get_aborted:function(){return this._aborted},executeRequest:function(){var t,n,i,r,u,f;if(this._webRequest=this.get_webRequest(),t=this._webRequest.get_body(),n=this._webRequest.get_headers(),this._xmlHttpRequest=new XMLHttpRequest,this._xmlHttpRequest.onreadystatechange=this._onReadyStateChange,i=this._webRequest.get_httpVerb(),this._xmlHttpRequest.open(i,this._webRequest.getResolvedUrl(),!0),this._xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),n)for(r in n)u=n[r],typeof u!="function"&&this._xmlHttpRequest.setRequestHeader(r,u);i.toLowerCase()==="post"&&(n!==null&&n["Content-Type"]||this._xmlHttpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),t||(t=""));f=this._webRequest.get_timeout();f>0&&(this._timer=window.setTimeout(Function.createDelegate(this,this._onTimeout),f));this._xmlHttpRequest.send(t);this._started=!0},getResponseHeader:function(n){var t;try{t=this._xmlHttpRequest.getResponseHeader(n)}catch(i){}return t||(t=""),t},getAllResponseHeaders:function(){return this._xmlHttpRequest.getAllResponseHeaders()},get_responseData:function(){return this._xmlHttpRequest.responseText},get_statusCode:function(){var n=0;try{n=this._xmlHttpRequest.status}catch(t){}return n},get_statusText:function(){return this._xmlHttpRequest.statusText},get_xml:function(){var n=this._xmlHttpRequest.responseXML;if(n&&n.documentElement)navigator.userAgent.indexOf("MSIE")!==-1&&typeof n.setProperty!="undefined"&&n.setProperty("SelectionLanguage","XPath");else if(n=Sys.Net.XMLDOM(this._xmlHttpRequest.responseText),!n||!n.documentElement)return null;return n.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml"&&n.documentElement.tagName==="parsererror"?null:n.documentElement.firstChild&&n.documentElement.firstChild.tagName==="parsererror"?null:n},abort:function(){this._aborted||this._responseAvailable||this._timedOut||(this._aborted=!0,this._clearTimer(),this._xmlHttpRequest&&!this._responseAvailable&&(this._xmlHttpRequest.onreadystatechange=Function.emptyMethod,this._xmlHttpRequest.abort(),this._xmlHttpRequest=null,this._webRequest.completed(Sys.EventArgs.Empty)))}};Sys.Net.XMLHttpExecutor.registerClass("Sys.Net.XMLHttpExecutor",Sys.Net.WebRequestExecutor);Sys.Net._WebRequestManager=function(){this._defaultTimeout=0;this._defaultExecutorType="Sys.Net.XMLHttpExecutor"};Sys.Net._WebRequestManager.prototype={add_invokingRequest:function(n){this._get_eventHandlerList().addHandler("invokingRequest",n)},remove_invokingRequest:function(n){this._get_eventHandlerList().removeHandler("invokingRequest",n)},add_completedRequest:function(n){this._get_eventHandlerList().addHandler("completedRequest",n)},remove_completedRequest:function(n){this._get_eventHandlerList().removeHandler("completedRequest",n)},_get_eventHandlerList:function(){return this._events||(this._events=new Sys.EventHandlerList),this._events},get_defaultTimeout:function(){return this._defaultTimeout},set_defaultTimeout:function(n){this._defaultTimeout=n},get_defaultExecutorType:function(){return this._defaultExecutorType},set_defaultExecutorType:function(n){this._defaultExecutorType=n},executeRequest:function(webRequest){var executor=webRequest.get_executor(),failed,executorType,evArgs,handler;if(!executor){failed=!1;try{executorType=eval(this._defaultExecutorType);executor=new executorType}catch(a){failed=!0}webRequest.set_executor(executor)}executor.get_aborted()||(evArgs=new Sys.Net.NetworkRequestEventArgs(webRequest),handler=this._get_eventHandlerList().getHandler("invokingRequest"),handler&&handler(this,evArgs),evArgs.get_cancel()||executor.executeRequest())}};Sys.Net._WebRequestManager.registerClass("Sys.Net._WebRequestManager");Sys.Net.WebRequestManager=new Sys.Net._WebRequestManager;Sys.Net.NetworkRequestEventArgs=function(n){Sys.Net.NetworkRequestEventArgs.initializeBase(this);this._webRequest=n};Sys.Net.NetworkRequestEventArgs.prototype={get_webRequest:function(){return this._webRequest}};Sys.Net.NetworkRequestEventArgs.registerClass("Sys.Net.NetworkRequestEventArgs",Sys.CancelEventArgs);Sys.Net.WebRequest=function(){this._url="";this._headers={};this._body=null;this._userContext=null;this._httpVerb=null;this._executor=null;this._invokeCalled=!1;this._timeout=0};Sys.Net.WebRequest.prototype={add_completed:function(n){this._get_eventHandlerList().addHandler("completed",n)},remove_completed:function(n){this._get_eventHandlerList().removeHandler("completed",n)},completed:function(n){var t=Sys.Net.WebRequestManager._get_eventHandlerList().getHandler("completedRequest");t&&t(this._executor,n);t=this._get_eventHandlerList().getHandler("completed");t&&t(this._executor,n)},_get_eventHandlerList:function(){return this._events||(this._events=new Sys.EventHandlerList),this._events},get_url:function(){return this._url},set_url:function(n){this._url=n},get_headers:function(){return this._headers},get_httpVerb:function(){return this._httpVerb===null?this._body===null?"GET":"POST":this._httpVerb},set_httpVerb:function(n){this._httpVerb=n},get_body:function(){return this._body},set_body:function(n){this._body=n},get_userContext:function(){return this._userContext},set_userContext:function(n){this._userContext=n},get_executor:function(){return this._executor},set_executor:function(n){this._executor=n;this._executor._set_webRequest(this)},get_timeout:function(){return this._timeout===0?Sys.Net.WebRequestManager.get_defaultTimeout():this._timeout},set_timeout:function(n){this._timeout=n},getResolvedUrl:function(){return Sys.Net.WebRequest._resolveUrl(this._url)},invoke:function(){Sys.Net.WebRequestManager.executeRequest(this);this._invokeCalled=!0}};Sys.Net.WebRequest._resolveUrl=function(n,t){var r,i,u,f,e;return n&&n.indexOf("://")!==-1?n:(t&&t.length!==0||(r=document.getElementsByTagName("base")[0],t=r&&r.href&&r.href.length>0?r.href:document.URL),i=t.indexOf("?"),i!==-1&&(t=t.substr(0,i)),i=t.indexOf("#"),i!==-1&&(t=t.substr(0,i)),t=t.substr(0,t.lastIndexOf("/")+1),!n||n.length===0)?t:n.charAt(0)==="/"?(u=t.indexOf("://"),f=t.indexOf("/",u+3),t.substr(0,f)+n):(e=t.lastIndexOf("/"),t.substr(0,e+1)+n)};Sys.Net.WebRequest._createQueryString=function(n,t,i){t=t||encodeURIComponent;var e=0,u,o,f,r=new Sys.StringBuilder;if(n)for(f in n)(u=n[f],typeof u!="function")&&(o=Sys.Serialization.JavaScriptSerializer.serialize(u),e++&&r.append("&"),r.append(f),r.append("="),r.append(t(o)));return i&&(e&&r.append("&"),r.append(i)),r.toString()};Sys.Net.WebRequest._createUrl=function(n,t,i){if(!t&&!i)return n;var r=Sys.Net.WebRequest._createQueryString(t,null,i);return r.length?n+(n&&n.indexOf("?")>=0?"&":"?")+r:n};Sys.Net.WebRequest.registerClass("Sys.Net.WebRequest");Sys._ScriptLoaderTask=function(n,t){this._scriptElement=n;this._completedCallback=t};Sys._ScriptLoaderTask.prototype={get_scriptElement:function(){return this._scriptElement},dispose:function(){this._disposed||(this._disposed=!0,this._removeScriptElementHandlers(),Sys._ScriptLoaderTask._clearScript(this._scriptElement),this._scriptElement=null)},execute:function(){this._ensureReadyStateLoaded()&&this._executeInternal()},_executeInternal:function(){this._addScriptElementHandlers();document.getElementsByTagName("head")[0].appendChild(this._scriptElement)},_ensureReadyStateLoaded:function(){return this._useReadyState()&&this._scriptElement.readyState!=="loaded"&&this._scriptElement.readyState!=="complete"?(this._scriptDownloadDelegate=Function.createDelegate(this,this._executeInternal),$addHandler(this._scriptElement,"readystatechange",this._scriptDownloadDelegate),!1):!0},_addScriptElementHandlers:function(){this._scriptDownloadDelegate&&($removeHandler(this._scriptElement,"readystatechange",this._scriptDownloadDelegate),this._scriptDownloadDelegate=null);this._scriptLoadDelegate=Function.createDelegate(this,this._scriptLoadHandler);this._useReadyState()?$addHandler(this._scriptElement,"readystatechange",this._scriptLoadDelegate):$addHandler(this._scriptElement,"load",this._scriptLoadDelegate);this._scriptElement.addEventListener&&(this._scriptErrorDelegate=Function.createDelegate(this,this._scriptErrorHandler),this._scriptElement.addEventListener("error",this._scriptErrorDelegate,!1))},_removeScriptElementHandlers:function(){if(this._scriptLoadDelegate){var n=this.get_scriptElement();this._scriptDownloadDelegate&&($removeHandler(this._scriptElement,"readystatechange",this._scriptDownloadDelegate),this._scriptDownloadDelegate=null);this._useReadyState()&&this._scriptLoadDelegate?$removeHandler(n,"readystatechange",this._scriptLoadDelegate):$removeHandler(n,"load",this._scriptLoadDelegate);this._scriptErrorDelegate&&(this._scriptElement.removeEventListener("error",this._scriptErrorDelegate,!1),this._scriptErrorDelegate=null);this._scriptLoadDelegate=null}},_scriptErrorHandler:function(){this._disposed||this._completedCallback(this.get_scriptElement(),!1)},_scriptLoadHandler:function(){if(!this._disposed){var n=this.get_scriptElement();this._useReadyState()&&n.readyState!=="complete"||this._completedCallback(n,!0)}},_useReadyState:function(){return Sys.Browser.agent===Sys.Browser.InternetExplorer&&(Sys.Browser.version<9||(document.documentMode||0)<9)}};Sys._ScriptLoaderTask.registerClass("Sys._ScriptLoaderTask",null,Sys.IDisposable);Sys._ScriptLoaderTask._clearScript=function(n){!Sys.Debug.isDebug&&n.parentNode&&n.parentNode.removeChild(n)};Type.registerNamespace("Sys.Net");Sys.Net.WebServiceProxy=function(){};Sys.Net.WebServiceProxy.prototype={get_timeout:function(){return this._timeout||0},set_timeout:function(n){if(n<0)throw Error.argumentOutOfRange("value",n,Sys.Res.invalidTimeout);this._timeout=n},get_defaultUserContext:function(){return typeof this._userContext=="undefined"?null:this._userContext},set_defaultUserContext:function(n){this._userContext=n},get_defaultSucceededCallback:function(){return this._succeeded||null},set_defaultSucceededCallback:function(n){this._succeeded=n},get_defaultFailedCallback:function(){return this._failed||null},set_defaultFailedCallback:function(n){this._failed=n},get_enableJsonp:function(){return!!this._jsonp},set_enableJsonp:function(n){this._jsonp=n},get_path:function(){return this._path||null},set_path:function(n){this._path=n},get_jsonpCallbackParameter:function(){return this._callbackParameter||"callback"},set_jsonpCallbackParameter:function(n){this._callbackParameter=n},_invoke:function(n,t,i,r,u,f,e){return u=u||this.get_defaultSucceededCallback(),f=f||this.get_defaultFailedCallback(),(e===null||typeof e=="undefined")&&(e=this.get_defaultUserContext()),Sys.Net.WebServiceProxy.invoke(n,t,i,r,u,f,e,this.get_timeout(),this.get_enableJsonp(),this.get_jsonpCallbackParameter())}};Sys.Net.WebServiceProxy.registerClass("Sys.Net.WebServiceProxy");Sys.Net.WebServiceProxy.invoke=function(n,t,i,r,u,f,e,o,s,h){function it(n){var r,i,o,h,s,c;if(n.get_responseAvailable()){r=n.get_statusCode();i=null;try{o=n.getResponseHeader("Content-Type");i=o.startsWith("application/json")?n.get_object():o.startsWith("text/xml")?n.get_xml():n.get_responseData()}catch(l){}h=n.getResponseHeader("jsonerror");s=h==="true";s?i&&(i=new Sys.Net.WebServiceError(!1,i.Message,i.StackTrace,i.ExceptionType,i)):o.startsWith("application/json")&&(i=!i||typeof i.d=="undefined"?i:i.d);r<200||r>=300||s?f&&(i&&s||(i=new Sys.Net.WebServiceError(!1,String.format(Sys.Res.webServiceFailedNoMsg,t))),i._statusCode=r,f(i,e,t)):u&&u(i,e,t)}else c=n.get_timedOut()?String.format(Sys.Res.webServiceTimedOut,t):String.format(Sys.Res.webServiceFailedNoMsg,t),f&&f(new Sys.Net.WebServiceError(n.get_timedOut(),c,"",""),e,t)}var y=s!==!1?Sys.Net.WebServiceProxy._xdomain.exec(n):null,l,p=y&&y.length===3&&(y[1]!==location.protocol||y[2]!==location.host),w,c;i=p||i;p&&(h=h||"callback",l="_jsonp"+Sys._jsonp++);r||(r={});w=r;i&&w||(w={});var d,v,a=null,b,k=null,g=Sys.Net.WebRequest._createUrl(t?n+"/"+encodeURIComponent(t):n,w,p?h+"=Sys."+l:null);if(p){d=document.createElement("script");d.src=g;b=new Sys._ScriptLoaderTask(d,function(n,i){(!i||l)&&nt({Message:String.format(Sys.Res.webServiceFailedNoMsg,t)},-1)});function tt(){a!==null&&(a=null,v=new Sys.Net.WebServiceError(!0,String.format(Sys.Res.webServiceTimedOut,t)),b.dispose(),delete Sys[l],f&&f(v,e,t))}function nt(n,i){a!==null&&(window.clearTimeout(a),a=null);b.dispose();delete Sys[l];l=null;typeof i!="undefined"&&i!==200?f&&(v=new Sys.Net.WebServiceError(!1,n.Message||String.format(Sys.Res.webServiceFailedNoMsg,t),n.StackTrace||null,n.ExceptionType||null,n),v._statusCode=i,f(v,e,t)):u&&u(n,e,t)}return Sys[l]=nt,o=o||Sys.Net.WebRequestManager.get_defaultTimeout(),o>0&&(a=window.setTimeout(tt,o)),b.execute(),null}return c=new Sys.Net.WebRequest,c.set_url(g),c.get_headers()["Content-Type"]="application/json; charset=utf-8",i||(k=Sys.Serialization.JavaScriptSerializer.serialize(r),k==="{}"&&(k="")),c.set_body(k),c.add_completed(it),o&&o>0&&c.set_timeout(o),c.invoke(),c};Sys.Net.WebServiceProxy._generateTypedConstructor=function(n){return function(t){if(t)for(var i in t)this[i]=t[i];this.__type=n}};Sys._jsonp=0;Sys.Net.WebServiceProxy._xdomain=/^\s*([a-zA-Z0-9\+\-\.]+\:)\/\/([^?#\/]+)/;Sys.Net.WebServiceError=function(n,t,i,r,u){this._timedOut=n;this._message=t;this._stackTrace=i;this._exceptionType=r;this._errorObject=u;this._statusCode=-1};Sys.Net.WebServiceError.prototype={get_timedOut:function(){return this._timedOut},get_statusCode:function(){return this._statusCode},get_message:function(){return this._message},get_stackTrace:function(){return this._stackTrace||""},get_exceptionType:function(){return this._exceptionType||""},get_errorObject:function(){return this._errorObject||null}};Sys.Net.WebServiceError.registerClass("Sys.Net.WebServiceError");Type.registerNamespace("Sys");Sys.Res={argumentInteger:"Value must be an integer.",invokeCalledTwice:"Cannot call invoke more than once.",webServiceFailed:"The server method '{0}' failed with the following error: {1}",argumentType:"Object cannot be converted to the required type.",argumentNull:"Value cannot be null.",scriptAlreadyLoaded:"The script '{0}' has been referenced multiple times. If referencing Microsoft AJAX scripts explicitly, set the MicrosoftAjaxMode property of the ScriptManager to Explicit.",scriptDependencyNotFound:"The script '{0}' failed to load because it is dependent on script '{1}'.",formatBadFormatSpecifier:"Format specifier was invalid.",requiredScriptReferenceNotIncluded:"'{0}' requires that you have included a script reference to '{1}'.",webServiceFailedNoMsg:"The server method '{0}' failed.",argumentDomElement:"Value must be a DOM element.",invalidExecutorType:"Could not create a valid Sys.Net.WebRequestExecutor from: {0}.",cannotCallBeforeResponse:"Cannot call {0} when responseAvailable is false.",actualValue:"Actual value was {0}.",enumInvalidValue:"'{0}' is not a valid value for enum {1}.",scriptLoadFailed:"The script '{0}' could not be loaded.",parameterCount:"Parameter count mismatch.",cannotDeserializeEmptyString:"Cannot deserialize empty string.",formatInvalidString:"Input string was not in a correct format.",invalidTimeout:"Value must be greater than or equal to zero.",cannotAbortBeforeStart:"Cannot abort when executor has not started.",argument:"Value does not fall within the expected range.",cannotDeserializeInvalidJson:"Cannot deserialize. The data does not correspond to valid JSON.",invalidHttpVerb:"httpVerb cannot be set to an empty or null string.",nullWebRequest:"Cannot call executeRequest with a null webRequest.",eventHandlerInvalid:"Handler was not added through the Sys.UI.DomEvent.addHandler method.",cannotSerializeNonFiniteNumbers:"Cannot serialize non finite numbers.",argumentUndefined:"Value cannot be undefined.",webServiceInvalidReturnType:"The server method '{0}' returned an invalid type. Expected type: {1}",servicePathNotSet:"The path to the web service has not been set.",argumentTypeWithTypes:"Object of type '{0}' cannot be converted to type '{1}'.",cannotCallOnceStarted:"Cannot call {0} once started.",badBaseUrl1:"Base URL does not contain ://.",badBaseUrl2:"Base URL does not contain another /.",badBaseUrl3:"Cannot find last / in base URL.",setExecutorAfterActive:"Cannot set executor after it has become active.",paramName:"Parameter name: {0}",nullReferenceInPath:"Null reference while evaluating data path: '{0}'.",cannotCallOutsideHandler:"Cannot call {0} outside of a completed event handler.",cannotSerializeObjectWithCycle:"Cannot serialize object with cyclic reference within child properties.",format:"One of the identified items was in an invalid format.",assertFailedCaller:"Assertion Failed: {0}\r\nat {1}",argumentOutOfRange:"Specified argument was out of the range of valid values.",webServiceTimedOut:"The server method '{0}' timed out.",notImplemented:"The method or operation is not implemented.",assertFailed:"Assertion Failed: {0}",invalidOperation:"Operation is not valid due to the current state of the object.",breakIntoDebugger:"{0}\r\n\r\nBreak into debugger?"};Type.registerNamespace("Microsoft.Crm.Client.Core");Microsoft.Crm.Client.Core.SharedScript=function(){};Microsoft.Crm.Client.Core.SharedScript.load=function(n,t,i){var f,e,u,r,o;if(IsNull(t))throw Error.argumentNull("scriptUrl");if(IsNull(i))throw Error.argumentNull("importer");for(f=t.toLowerCase(),e=[n.top,n.parent],u=0;u<e.length;u++)if(r=e[u],!IsNull(r)&&!IsNull(r.document)&&r!==n.self&&(o=r.document.getElementById(f),!IsNull(o))){i(r);return}n.document.writeln("<script src="+CrmEncodeDecode.CrmHtmlAttributeEncode(t)+" id="+CrmEncodeDecode.CrmHtmlAttributeEncode(f)+" ><\/script>")};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework");Microsoft.Crm.Client.Core.Framework.ICustomControlAttribute=function(){};Microsoft.Crm.Client.Core.Framework.ICustomControlAttribute.registerInterface("Microsoft.Crm.Client.Core.Framework.ICustomControlAttribute");Microsoft.Crm.Client.Core.Framework.IOptionMetadata=function(){};Microsoft.Crm.Client.Core.Framework.IOptionMetadata.registerInterface("Microsoft.Crm.Client.Core.Framework.IOptionMetadata");Microsoft.Crm.Client.Core.Framework.IOptionSetMetadata=function(){};Microsoft.Crm.Client.Core.Framework.IOptionSetMetadata.registerInterface("Microsoft.Crm.Client.Core.Framework.IOptionSetMetadata");Microsoft.Crm.Client.Core.Framework.DayOfWeek=function(){};Microsoft.Crm.Client.Core.Framework.DayOfWeek.prototype={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};Microsoft.Crm.Client.Core.Framework.DayOfWeek.registerEnum("Microsoft.Crm.Client.Core.Framework.DayOfWeek",!1);Microsoft.Crm.Client.Core.Framework.ErrorSource=function(){};Microsoft.Crm.Client.Core.Framework.ErrorSource.prototype={unknown:0,authentication:1,localStore:2,metadataSync:3};Microsoft.Crm.Client.Core.Framework.ErrorSource.registerEnum("Microsoft.Crm.Client.Core.Framework.ErrorSource",!1);Microsoft.Crm.Client.Core.Framework.PerformanceMarkerType=function(){};Microsoft.Crm.Client.Core.Framework.PerformanceMarkerType.prototype={undefined:0,majorEvent:1,localStore:2};Microsoft.Crm.Client.Core.Framework.PerformanceMarkerType.registerEnum("Microsoft.Crm.Client.Core.Framework.PerformanceMarkerType",!1);Microsoft.Crm.Client.Core.Framework.IAuthenticationManager=function(){};Microsoft.Crm.Client.Core.Framework.IAuthenticationManager.registerInterface("Microsoft.Crm.Client.Core.Framework.IAuthenticationManager");Microsoft.Crm.Client.Core.Framework.AuthenticationState=function(){};Microsoft.Crm.Client.Core.Framework.AuthenticationState.prototype={initializing:0,ready:1,error:2};Microsoft.Crm.Client.Core.Framework.AuthenticationState.registerEnum("Microsoft.Crm.Client.Core.Framework.AuthenticationState",!1);Microsoft.Crm.Client.Core.Framework.FormFactor=function(){};Microsoft.Crm.Client.Core.Framework.FormFactor.prototype={none:0,slate:1,phone:2,desktop:3,mailApp:4};Microsoft.Crm.Client.Core.Framework.FormFactor.registerEnum("Microsoft.Crm.Client.Core.Framework.FormFactor",!1);Microsoft.Crm.Client.Core.Framework.Orientation=function(){};Microsoft.Crm.Client.Core.Framework.Orientation.prototype={none:0,portrait:1,landscape:2};Microsoft.Crm.Client.Core.Framework.Orientation.registerEnum("Microsoft.Crm.Client.Core.Framework.Orientation",!1);Microsoft.Crm.Client.Core.Framework.ViewType=function(){};Microsoft.Crm.Client.Core.Framework.ViewType.prototype={none:0,multipleItem:2,singleItem:3};Microsoft.Crm.Client.Core.Framework.ViewType.registerEnum("Microsoft.Crm.Client.Core.Framework.ViewType",!1);Microsoft.Crm.Client.Core.Framework.MailAppDisplayMode=function(){};Microsoft.Crm.Client.Core.Framework.MailAppDisplayMode.prototype={unknown:0,readDesktop:1,readTablet:2,readPhone:3,composeDesktop:4,composeTablet:5,composePhone:6};Microsoft.Crm.Client.Core.Framework.MailAppDisplayMode.registerEnum("Microsoft.Crm.Client.Core.Framework.MailAppDisplayMode",!1);Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior=function(){};Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior.prototype={none:0,userLocal:1,dateOnly:2,timeZoneIndependent:3};Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior.registerEnum("Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior",!1);Microsoft.Crm.Client.Core.Framework.MetadataType=function(){};Microsoft.Crm.Client.Core.Framework.MetadataType.prototype={none:0,workspace:1,form:2,component:3,entityCard:4,quickCreateForm:5,customization:6,listQuery:7,grid:8,command:9,siteMap:10,list:11,dialog:12,gridForm:13,inlineCreateForm:14,processControl:15,fetchXml:16,chartDrilldownForm:17,entity:18,attribute:19,webResource:20,applicationMetadata:21,quickEditForm:22,chart:23,uiStrings:24,businessLogic:25,searchPage:26,globalApplicationMetadata:27,applicationMetadataUserContext:28,staticJSFile:29,layoutXml:30,draftsPage:31,duplicateRecordsPage:32,applicationMetadataSettings:33,senderFormPage:34,setRegarding:35,senderCreateFormPage:36,interactionCentricWorkspace:37,taskBasedFlowGlobalMenu:38,taskBasedFlow:39,interactionCentricForm:40,cardForm:41,controlConfiguration:42,commandXaml:43,documentTemplate:44,processAction:45,recommendationModel:46,relevanceSearchPage:47,customControlTemplate:48,globalApplicationMetadataState:49,powerBIFullScreenPage:50,relationship:52,followPage:53,emailTemplatesPage:54,salesLiteraturePage:55,knowledgeBaseArticlesPage:56};Microsoft.Crm.Client.Core.Framework.MetadataType.registerEnum("Microsoft.Crm.Client.Core.Framework.MetadataType",!1);Microsoft.Crm.Client.Core.Framework.ApplicationMetadataType=function(){};Microsoft.Crm.Client.Core.Framework.ApplicationMetadataType.prototype={all:0,systemApplicationMetadata:1,userApplicationMetadata:2};Microsoft.Crm.Client.Core.Framework.ApplicationMetadataType.registerEnum("Microsoft.Crm.Client.Core.Framework.ApplicationMetadataType",!1);Microsoft.Crm.Client.Core.Framework.MetadataSubtype=function(){};Microsoft.Crm.Client.Core.Framework.MetadataSubtype.prototype={none:0,main:1,lookup:2,advancedFind:3,subGrid:4,jScript:5,css:6,png:7,jpg:8,gif:9,html:10};Microsoft.Crm.Client.Core.Framework.MetadataSubtype.registerEnum("Microsoft.Crm.Client.Core.Framework.MetadataSubtype",!1);Microsoft.Crm.Client.Core.Framework.IAlias=function(){};Microsoft.Crm.Client.Core.Framework.IAlias.registerInterface("Microsoft.Crm.Client.Core.Framework.IAlias");Microsoft.Crm.Client.Core.Framework.IPicklistItem=function(){};Microsoft.Crm.Client.Core.Framework.IPicklistItem.registerInterface("Microsoft.Crm.Client.Core.Framework.IPicklistItem");Microsoft.Crm.Client.Core.Framework.IUserContext=function(){};Microsoft.Crm.Client.Core.Framework.IUserContext.registerInterface("Microsoft.Crm.Client.Core.Framework.IUserContext");Microsoft.Crm.Client.Core.Framework.IReference=function(){};Microsoft.Crm.Client.Core.Framework.IReference.registerInterface("Microsoft.Crm.Client.Core.Framework.IReference");Microsoft.Crm.Client.Core.Framework.ISerializable=function(){};Microsoft.Crm.Client.Core.Framework.ISerializable.registerInterface("Microsoft.Crm.Client.Core.Framework.ISerializable");Microsoft.Crm.Client.Core.Framework.IList$1=function(){};Microsoft.Crm.Client.Core.Framework.IList$1.$$=function(n){var t="IList$1$"+n.getName().replace(/\./g,"_"),i;return Microsoft.Crm.Client.Core.Framework[t]||(i=Microsoft.Crm.Client.Core.Framework[t]=function(){},i.registerInterface("Microsoft.Crm.Client.Core.Framework."+t)),Microsoft.Crm.Client.Core.Framework[t]};Microsoft.Crm.Client.Core.Framework.IList$1.registerInterface("Microsoft.Crm.Client.Core.Framework.IList$1");Microsoft.Crm.Client.Core.Framework.TraceComponent=function(){};Microsoft.Crm.Client.Core.Framework.TraceComponent.prototype={undefined:-1,actionQueue:0,actions:1,addTrustedSenderResponseProcessor:2,animations:3,app:4,appCache:5,applyConversationAction:6,applyConversationActionResponseProcessor:7,attachmentsCleanupManager:8,attachmentViewModel:9,autodiscover:10,baseJsonResponseAction:11,binding:12,calendar:13,calendarActionsErrorHandling:14,calendarItems:15,calendarServiceCommandHelper:16,calendarShareMessageViewModel:17,calendarSharingInfoProviderViewModel:18,chat:19,chromeWebApp:20,clearConversationNextPredictedActionResponseProcessor:21,clearNextPredictedActionResponseProcessor:22,clientStore:23,conductor:24,connectionManager:25,controls:26,conversationItems:27,conversationListVM:28,conversations:29,core:30,createAttachmentAction:31,createAttachmentResponseProcessor:32,createAttachmentServiceCommand:33,createItemResponseProcessor:34,createItemServiceCommand:35,createPersonaResponseProcessor:36,deleteAttachmentResponseProcessor:37,deleteAttachmentServiceCommand:38,deleteFolderResponseProcessor:39,deleteItemResponseProcessor:40,deleteItemServiceCommand:41,deletePersonaResponseProcessor:42,discovery:43,droppableControl:44,emptyFolderResponseProcessor:45,errorHandler:46,extensibility:47,findConversationServiceCommand:48,findFolderServiceCommand:49,folders:50,framework:51,getCalendarFoldersServiceCommand:52,getConversationItemsServiceCommand:53,getFavoriteFolders:54,getFolderServiceCommand:55,getItemServiceCommand:56,grouping:57,hiddenAttachmentUpload:58,identityCorrelationTable:59,indexedDb:60,instrumentation:61,itemSynchronizer:62,listView:63,logDatapointResponseProcessor:64,mailBaseLVM:65,mailboxDataContext:66,mailCompose:67,mailComposeUpgrade:68,mailFolderItems:69,markAsJunkResponseProcessor:70,media:71,multiSelectListView:72,notifications:73,offlineMailboxDataContext:74,offlineManager:75,offlineNotifications:76,onlineProxy:77,openPALAttachment:78,owaResponseProcessors:79,pageListVM:80,PAL:81,palAttachmentDownloadManager:82,palAttachmentRenderer:83,performance:84,performReminderActionResponseProcessor:85,personaItems:86,placeItems:87,popOut:88,popOutMailboxDataContext:89,pushNotification:90,readingPane:91,reminders:92,requestQueueProcessor:93,responseProcessors:94,responseQueueProcessor:95,scheduling:96,securityPolicy:97,serviceCommand_CreatePersona:98,serviceCommand_FindItem:99,serviceCommand_GetOwaUserConfiguration:100,serviceCommand_GetReminders:101,serviceCommand_PerformReminderAction:102,serviceCommand_UpdateViewStateConfiguration:103,serviceCommands:104,shell:105,simpleVLV:106,singleDoc:107,speech:108,sql:109,sqlBatch:110,sqlDbTransactionAdapter:111,stackPanel:112,storage_CalendarItem:113,storage_Item:114,syncChangeUpdater:115,syncFolderSettingProcessor:116,syncManager:117,taskItems:118,taskRunner:119,timeZoneConverter:120,unitTest:121,updateCalendarItemServiceCommand:122,updateFolderResponseProcessor:123,updateItemResponseProcessor:124,updateItemServiceCommand:125,updatePersonaResponseProcessor:126,updateUserConfigurationResponseProcessor:127,views:128,viewStateConfiguration:129,virtualScrollbar:130,virtualScrollRegion:131,VLV:132,watson:133,webpart:134,webServices:135,mailModule:136,peopleModule:137,tasksModule:138,applicationBar:139,diagnosticsModule:140,location:141,mailTips:142,retentionPolicy:143,search:144,explicitLogon:145,optionsModule:146,findRecipient:147,linkPersona:148,personaCard:149,meCard:150,recipientWell:151,peoplePicker:152,playOnPhone:153,datePicker:154,timePicker:155,infoBar:156,dateTimePicker:157,managePassword:158,authentication:159,scriptErrorHandlerDialog:160,rootViewModel:161,draftsView:162,navigationCommand:163,telemetry:164,duplicateRecordsView:165,xrmInternals:166,performanceReport:167,unknown:1e3,section:1001,workspace:1002,list:1003,application:1004,storage:1005,xmlNodeFactory:1006,dataSource:1007,localDataSource:1008,crmServerDataSource:1009,viewModelFactory:1010,listComponentViewModel:1011,openRecordCommand:1012,quickCreateForm:1013,pinnedTiles:1014,userPersonalization:1015,clientApi:1016,crmTileViewModel:1017,gridViewModel:1018,messageDialog:1019,userInput:1020,recordCollectionModel:1021,crmChartDrilldown:1022,basicMessageBar:1023,crmChartViewModel:1024,scheduler:1025,mruCache:1026,mashup:1027,dialog:1028,activeItemContainerViewModel:1029,offlineSyncErrorLog:1030,offlineDataStore:1031,offlineMetadataSync:1032,customControls:1033,taskBasedFlow:1034,offlineUpSync:1035,metadataSync:1036,webService:1037,formPreview:1038,userValidation:1039,interactionCentricDashboard:2001,interactionWall:2002,interactionWallEvent:2003,activityEntityInteractionWallSource:2004,noteEntityInteractionWallSource:2005,postEntityInteractionWallSource:2006,interactionCentricNavigationBar:2007,interactionCentricTimerControl:2008,lookupRelationshipFiltering:2009};Microsoft.Crm.Client.Core.Framework.TraceComponent.registerEnum("Microsoft.Crm.Client.Core.Framework.TraceComponent",!1);Microsoft.Crm.Client.Core.Framework.CustomControlAttributeProperty=function(){};Microsoft.Crm.Client.Core.Framework.CustomControlAttributeProperty.getAttributeListByType=function(n){var t=new Microsoft.Crm.Client.Core.Framework.CustomControlAttributeProperty;return t.getListByType(n)};Microsoft.Crm.Client.Core.Framework.CustomControlAttributeProperty.prototype={getListByType:function(n){switch(n.toLowerCase()){case"boolean":case"picklist":case"optionset":case"twooptions":return this._getOptionSetProps$p$0();case"string":case"singleline":return this._getStringProps$p$0();case"memo":case"multiple":return this._getMemoProps$p$0();case"decimal":case"double":case"money":case"currency":case"fp":case"float":return this._getNumberProps$p$0();case"integer":case"bigint":case"whole":return this._getWholeProps$p$0();case"lookup":case"owner":case"partylist":case"customer":return this._getLookupProps$p$0();case"datetime":case"dateandtime":return this._getDateTimeProps$p$0();default:return this._getBaseFieldProps$p$0()}},_getBaseFieldProps$p$0:function(){return["displayName","name","requiredLevel","isSecured","type","sourcetype"]},_getBaseNumberProps$p$0:function(){var n;return(n=this._getBaseFieldProps$p$0()).concat.call(n,"minValue","maxValue","imeMode",Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lastUpdatedField,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lastUpdatedValue,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupStateField,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupStateValue,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.recalculate,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupValid,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.calculatedFieldValid)},_getDateTimeProps$p$0:function(){var n;return(n=this._getBaseFieldProps$p$0()).concat.call(n,"behavior","format","imeMode",Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lastUpdatedField,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lastUpdatedValue,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupStateField,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupStateValue,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.recalculate,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupValid,Microsoft.Crm.Client.Core.Framework.CustomControlConstants.calculatedFieldValid)},_getLookupProps$p$0:function(){var n;return(n=this._getBaseFieldProps$p$0()).concat.call(n,"targets")},_getWholeProps$p$0:function(){var n;return(n=this._getBaseNumberProps$p$0()).concat.call(n,"format")},_getNumberProps$p$0:function(){var n;return(n=this._getBaseNumberProps$p$0()).concat.call(n,"precision")},_getStringProps$p$0:function(){var n;return(n=this._getBaseFieldProps$p$0()).concat.call(n,"maxLength","format","imeMode")},_getMemoProps$p$0:function(){var n;return(n=this._getBaseFieldProps$p$0()).concat.call(n,"maxLength","imeMode")},_getOptionSetProps$p$0:function(){var n;return(n=this._getBaseFieldProps$p$0()).concat.call(n,"options","defaultValue")}};Microsoft.Crm.Client.Core.Framework.CustomControlConstants=function(){};Microsoft.Crm.Client.Core.Framework.CustomControlUtils=function(){};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.retrieveCorrespondingManifestType=function(n,t){if(!Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n))switch(n){case"boolean":return Microsoft.Crm.Client.Core.Framework.ManifestType.twoOptions;case"customer":return Microsoft.Crm.Client.Core.Framework.ManifestType.lookupCustomer;case"datetime":switch(t){case"date":return Microsoft.Crm.Client.Core.Framework.ManifestType.dateAndTimeDateOnly;case"datetime":return Microsoft.Crm.Client.Core.Framework.ManifestType.dateAndTimeDateAndTime;default:return Microsoft.Crm.Client.Core.Framework.ManifestType.dateAndTimeDateOnly}case"decimal":return Microsoft.Crm.Client.Core.Framework.ManifestType.decimal;case"float":return Microsoft.Crm.Client.Core.Framework.ManifestType.FP;case"integer":switch(t){case"duration":return Microsoft.Crm.Client.Core.Framework.ManifestType.wholeDuration;case"language":return Microsoft.Crm.Client.Core.Framework.ManifestType.wholeLanguage;case"timezone":return Microsoft.Crm.Client.Core.Framework.ManifestType.wholeTimeZone;default:return Microsoft.Crm.Client.Core.Framework.ManifestType.wholeNone}case"lookup":switch(t){case"regarding":return Microsoft.Crm.Client.Core.Framework.ManifestType.lookupRegarding;default:return Microsoft.Crm.Client.Core.Framework.ManifestType.lookupSimple}case"memo":return Microsoft.Crm.Client.Core.Framework.ManifestType.multiple;case"money":return Microsoft.Crm.Client.Core.Framework.ManifestType.currency;case"owner":return Microsoft.Crm.Client.Core.Framework.ManifestType.lookupOwner;case"partylist":return Microsoft.Crm.Client.Core.Framework.ManifestType.lookupPartyList;case"picklist":return Microsoft.Crm.Client.Core.Framework.ManifestType.optionSet;case"text":case"string":switch(t){case"email":return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineEmail;case"phone":return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLinePhone;case"text":return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineText;case"textarea":return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineTextArea;case"tickersymbol":return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineTickerSymbol;case"url":return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineURL;default:return Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineText}}return Microsoft.Crm.Client.Core.Framework._String.empty};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.isLinkedValueOptionMetadata=function(n){var t=n.get_dataType().toLowerCase();return t==="optionset"||t==="twooptions"||t==="picklist"||t==="boolean"};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.getInternalDataValue=function(n,t){if(!_Script.isNullOrUndefined(n)&&!Microsoft.Crm.Client.Core.Framework.IPicklistItem.isInstanceOfType(n)&&Microsoft.Crm.Client.Core.Framework.CustomControlUtils.isLinkedValueOptionMetadata(t)){var i;return i=Boolean.isInstanceOfType(n)?n?"1":"0":n.toString(),t.get_unformattedAttributeData().options.get_options()[i]}return n};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.getPublicDataValue=function(n){var i,t;return Microsoft.Crm.Client.Core.Framework.IOptionMetadata.isInstanceOfType(n)?(t=n,i=_Script.isNullOrUndefined(t)?t:t.get_value()):i=n,i};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.isLinkedEntityColumn=function(n){return n.indexOf(".")!==-1};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.formatProperties=function(n){var r={},u=n,i,t;for(i in u)t={key:i,value:u[i]},r[t.key]=Microsoft.Crm.Client.Core.Framework.IOptionSetMetadata.isInstanceOfType(t.value)?t.value.createSimpleForm():t.value;return r};Microsoft.Crm.Client.Core.Framework.CustomControlUtils.extractUnformattedAttributeData=function(n,t){var u={},f=n,r,i;for(r in f)i={key:r,value:f[r]},n[i.key]!==t[i.key]&&(u[i.key]=i.value);return u};Microsoft.Crm.Client.Core.Framework.DefaultContext=function(n,t){Microsoft.Crm.Client.Core.Framework.DefaultContext.initializeBase(this,[n,t])};Microsoft.Crm.Client.Core.Framework.DefaultContext.tryCreate=function(n,t){return Microsoft.Crm.Client.Core.Framework.CallingContext.get_isEnabled()?new Microsoft.Crm.Client.Core.Framework.DefaultContext(n,t):null};Microsoft.Crm.Client.Core.Framework.DefaultContext.prototype={toString:function(){return"["+this.get_callerName()+"]"}};Microsoft.Crm.Client.Core.Framework.ErrorData=function(n,t){this.set_errorCode(n);this.set_diagnosticMessage(_Script.isNullOrUndefined(t)?Microsoft.Crm.Client.Core.Framework._String.empty:t)};Microsoft.Crm.Client.Core.Framework.ErrorData.prototype={_message$p$0:null,_title$p$0:null,_okButtonText$p$0:null,_cancelButtonText$p$0:null,_$$pf_IsWarning$p$0:!1,get_isWarning:function(){return this._$$pf_IsWarning$p$0},set_isWarning:function(n){return this._$$pf_IsWarning$p$0=n,n},_$$pf_ErrorCode$p$0:0,get_errorCode:function(){return this._$$pf_ErrorCode$p$0},set_errorCode:function(n){return this._$$pf_ErrorCode$p$0=n,n},get_message:function(){return this._message$p$0},set_message:function(n){return this._message$p$0=n,n},get_title:function(){return this._title$p$0},set_title:function(n){return this._title$p$0=n,n},_$$pf_DiagnosticMessage$p$0:null,get_diagnosticMessage:function(){return this._$$pf_DiagnosticMessage$p$0},set_diagnosticMessage:function(n){return this._$$pf_DiagnosticMessage$p$0=n,n},_$$pf_StackTrace$p$0:null,get_stackTrace:function(){return this._$$pf_StackTrace$p$0},set_stackTrace:function(n){return this._$$pf_StackTrace$p$0=n,n},_$$pf_OkButtonText$p$0:null,get_okButtonText:function(){return this._$$pf_OkButtonText$p$0},set_okButtonText:function(n){return this._$$pf_OkButtonText$p$0=n,n},_$$pf_CancelButtonText$p$0:null,get_cancelButtonText:function(){return this._$$pf_CancelButtonText$p$0},set_cancelButtonText:function(n){return this._$$pf_CancelButtonText$p$0=n,n}};Microsoft.Crm.Client.Core.Framework.ErrorStatus=function(n){this.set_message(n);this.set_errorSource(0);this.set_errors(new Array(0))};Microsoft.Crm.Client.Core.Framework.ErrorStatus.fromMessage=function(n){for(var i=[],r,t=1;t<arguments.length;++t)i[t-1]=arguments[t];return r=Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n)?Microsoft.Crm.Client.Core.Framework._String.empty:String.format.apply(null,[n].concat(i)),new Microsoft.Crm.Client.Core.Framework.ErrorStatus(r)};Microsoft.Crm.Client.Core.Framework.ErrorStatus.fromException=function(n,t){for(var u=[],r,i=2;i<arguments.length;++i)u[i-2]=arguments[i];return Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t)?r=new Microsoft.Crm.Client.Core.Framework.ErrorStatus(n.message):(t=String.format.apply(null,[t].concat(u)),r=new Microsoft.Crm.Client.Core.Framework.ErrorStatus(t)),r.set_exception(n),r};Microsoft.Crm.Client.Core.Framework.ErrorStatus.fromErrorCodeOnly=function(n){var t=new Microsoft.Crm.Client.Core.Framework.ErrorStatus(Microsoft.Crm.Client.Core.Framework._String.empty);return t.set_errorCode(n),t};Microsoft.Crm.Client.Core.Framework.ErrorStatus.fromErrorData=function(n){var t=new Microsoft.Crm.Client.Core.Framework.ErrorData(0),u,i;if(Microsoft.Crm.Client.Core.Framework.ErrorData.isInstanceOfType(n)&&!n.get_isWarning())t=n;else if(!_Script.isNullOrUndefined(n))for(var f=n,e=f.length,r=0;r<e;++r)if(u=f[r],!u.get_isWarning()){t=u;break}return i=new Microsoft.Crm.Client.Core.Framework.ErrorStatus(t.get_message()),i.set_title(t.get_title()),i.set_okButtonText(t.get_okButtonText()),i.set_cancelButtonText(t.get_cancelButtonText()),i.set_errorCode(t.get_errorCode()),i.set_errors(Microsoft.Crm.Client.Core.Framework.ErrorData.isInstanceOfType(n)?[t]:n),i};Microsoft.Crm.Client.Core.Framework.ErrorStatus.fromLocalStoreError=function(n,t){for(var u=[],r,i=2;i<arguments.length;++i)u[i-2]=arguments[i];return r=new Microsoft.Crm.Client.Core.Framework.ErrorStatus(String.format.apply(null,[t].concat(u))),r.set_errorSource(Microsoft.Crm.Client.Core.Framework.ErrorSource.localStore),r.set_errorCode(n),r};Microsoft.Crm.Client.Core.Framework.ErrorStatus.prototype={_$$pf_ErrorCode$p$0:0,get_errorCode:function(){return this._$$pf_ErrorCode$p$0},set_errorCode:function(n){return this._$$pf_ErrorCode$p$0=n,n},_$$pf_Message$p$0:null,get_message:function(){return this._$$pf_Message$p$0},set_message:function(n){return this._$$pf_Message$p$0=n,n},_$$pf_Title$p$0:null,get_title:function(){return this._$$pf_Title$p$0},set_title:function(n){return this._$$pf_Title$p$0=n,n},_$$pf_OkButtonText$p$0:null,get_okButtonText:function(){return this._$$pf_OkButtonText$p$0},set_okButtonText:function(n){return this._$$pf_OkButtonText$p$0=n,n},_$$pf_CancelButtonText$p$0:null,get_cancelButtonText:function(){return this._$$pf_CancelButtonText$p$0},set_cancelButtonText:function(n){return this._$$pf_CancelButtonText$p$0=n,n},_$$pf_Exception$p$0:null,get_exception:function(){return this._$$pf_Exception$p$0},set_exception:function(n){return this._$$pf_Exception$p$0=n,n},_$$pf_InnerError$p$0:null,get_innerError:function(){return this._$$pf_InnerError$p$0},set_innerError:function(n){return this._$$pf_InnerError$p$0=n,n},_$$pf_ErrorFault$p$0:null,get_errorFault:function(){return this._$$pf_ErrorFault$p$0},set_errorFault:function(n){return this._$$pf_ErrorFault$p$0=n,n},_$$pf_Errors$p$0:null,get_errors:function(){return this._$$pf_Errors$p$0},set_errors:function(n){return this._$$pf_Errors$p$0=n,n},_$$pf_ErrorSource$p$0:0,get_errorSource:function(){return this._$$pf_ErrorSource$p$0},set_errorSource:function(n){return this._$$pf_ErrorSource$p$0=n,n},chainError:function(n){this.set_message(this.get_message()+"\nInner Error Message:\n"+n.get_message());this.set_innerError(n)},getDiagnostics:function(){var n=Microsoft.Crm.Client.Core.Framework._String.empty,t;if(!_Script.isNullOrUndefined(this.get_errors()))for(var r=this.get_errors(),u=r.length,i=0;i<u;++i)t=r[i],Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t.get_diagnosticMessage())||(n+=t.get_diagnosticMessage(),Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t.get_stackTrace())||(n+="\nStackTrace:\n"+t.get_stackTrace()),n+="\n\n");return Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(n)&&(n="Diagnostic message not found for error "+this.get_errorCode()+" with message: "+this.get_message()),n},getObjectData:function(){var n={};return n.errorcode=this.get_errorCode(),n.message=this.get_message(),_Script.isNullOrUndefined(this.get_innerError())||(n.innererror=this.get_innerError().getObjectData()),n}};_XMLNode.getLocalName=function(n){Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullArgument(n,"node");var t=0;return(Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n.prefix)||(t=n.prefix.length),!t)?n.nodeName:n.nodeName.substr(t+1)};_XMLNode.getInnerText=function(n){var t,i,r;for(Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullArgument(n,"node"),t=new Sys.StringBuilder,Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(n.nodeValue)||t.append(n.nodeValue),i=0;i<n.childNodes.length;i++)r=n.childNodes[i],t.append(_XMLNode.getInnerText(r));return t.toString()};_XMLNode.getAttributeValue=function(n,t){var i=_XMLNode._getAttribute$p(n,t);return null===i?null:i.value};_XMLNode._getAttribute$p=function(n,t){var i,r,u;for(Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullArgument(n,"node"),Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrEmptyArgument(t,"localName"),t=t.toLowerCase(),i=0;i<n.attributes.length;i++)if(r=n.attributes.item(i),u=_XMLNode.getLocalName(r).toLowerCase(),u===t)return r;return null};Microsoft.Crm.Client.Core.Framework._Dictionary=function(){};Microsoft.Crm.Client.Core.Framework._Dictionary.count=function(n){var i=0,r=n,t,u;for(t in r)u={key:t,value:r[t]},i++;return i};Microsoft.Crm.Client.Core.Framework._Enum=function(){};Microsoft.Crm.Client.Core.Framework._Enum.parse=function(n,t){return Microsoft.Crm.Client.Core.Framework._Enum.parseType(n,t)};Microsoft.Crm.Client.Core.Framework._Enum.parseType=function(n,t){var r=t.charCodeAt(0),i;if(r<=57&&r>=0&&(i=parseInt(t),isFinite(i)&&i>=0))return i;try{return n.parse(t,!0)}catch(u){if(i=parseInt(t),isFinite(i)&&i>=0)return i;throw u;}};Microsoft.Crm.Client.Core.Framework._Enum.toString=function(n,t){return n.toString(t)};Microsoft.Crm.Client.Core.Framework.DynamicsTrace=function(){};Microsoft.Crm.Client.Core.Framework.DynamicsTrace.logInfo=function(){};Microsoft.Crm.Client.Core.Framework.PerformanceMarker=function(){this.parameters=new Array(0)};Microsoft.Crm.Client.Core.Framework.PerformanceMarker.prototype={name:null,timestamp:0,id:null,type:0,data:null};Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch=function(){};Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.prototype={name:null,startMarker:null,stopMarker:null,start:function(){},stop:function(){},addParameter:function(){}};Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames=function(){};Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames=function(){};Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames=function(){};Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames=function(){};Microsoft.Crm.Client.Core.Framework.FieldFormat=function(){};Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p=function(n){return Microsoft.Crm.Client.Core.Framework.FieldFormat.delimiter+Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.toString(n)};Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue=function(){};Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.prototype={Raw:0,Numeric:1,Label:2,Value:3,State:4,Id:5,Name:6,LogicalName:7,AllowedStatusTransitions:8,DefaultStatus:9,Color:10};Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.registerEnum("Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue",!1);Microsoft.Crm.Client.Core.Framework.MetadataTypeName=function(){};Microsoft.Crm.Client.Core.Framework.TypedDictionary$1=function(n){this._items$p$0=_Script.isNullOrUndefined(n)?{}:n};Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.$$=function(n){var t="TypedDictionary$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Microsoft.Crm.Client.Core.Framework[t]){r=Microsoft.Crm.Client.Core.Framework[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.Framework.TypedDictionary$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.apply(this,i)};r.registerClass("Microsoft.Crm.Client.Core.Framework."+t);u=Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Microsoft.Crm.Client.Core.Framework[t]};Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.prototype={_items$p$0:null,get_item:function(n){return this._items$p$0[n]},set_item:function(n,t){return this._items$p$0[n]=t,t},remove:function(n){delete this._items$p$0[n]},clear:function(){this._items$p$0={}},contains:function(n){var i=this._items$p$0,t,r;for(t in i)if(r={key:t,value:i[t]},r.value==n)return!0;return!1},containsKey:function(n){return n in this._items$p$0},indexOf:function(n){var r=this._items$p$0,t,i;for(t in r)if(i={key:t,value:r[t]},i.value==n)return i.key;return null},count:function(){return Microsoft.Crm.Client.Core.Framework._Dictionary.count(this._items$p$0)},toArray:function(){var t=new Array(this.count()),i=0,r=this._items$p$0,n,u;for(n in r)u={key:n,value:r[n]},t[i]=u.value,i++;return t},toDictionary:function(){return this._items$p$0},get_keys:function(){var t=new Array(this.count()),i=0,r=this._items$p$0,n,u;for(n in r)u={key:n,value:r[n]},t[i]=u.key,i++;return t}};Microsoft.Crm.Client.Core.Framework.CallingContext=function(n,t,i){this._callerId$p$0=Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n)?Microsoft.Crm.Client.Core.Framework.CallingContext.unknown:n;this._callerName$p$0=Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t)?Microsoft.Crm.Client.Core.Framework.CallingContext.unknown:t;this._callerPriority$p$0=i};Microsoft.Crm.Client.Core.Framework.CallingContext.get_isEnabled=function(){return!0};Microsoft.Crm.Client.Core.Framework.CallingContext.prototype={_callerId$p$0:null,_callerName$p$0:null,_callerPriority$p$0:0,get_callerId:function(){return this._callerId$p$0},get_callerName:function(){return this._callerName$p$0},get_callerPriority:function(){return this._callerPriority$p$0}};Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1=function(n){this._array$p$0=_Script.isNullOrUndefined(n)?new Array(0):$P_CRM.isArray(n)?n:new Array(n)};Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1.$$=function(n){var t="CallbackSafeArray$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Microsoft.Crm.Client.Core.Framework[t]){r=Microsoft.Crm.Client.Core.Framework[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1.apply(this,i)};r.registerClass("Microsoft.Crm.Client.Core.Framework."+t);u=Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Microsoft.Crm.Client.Core.Framework[t]};Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1.prototype={_array$p$0:null,get_length:function(){return this._array$p$0.length},get_item:function(n){return this._array$p$0[n]},set_item:function(n,t){return this._array$p$0[n]=t,t},add:function(n){Array.add(this._array$p$0,n)},addRange:function(n){Array.addRange(this._array$p$0,n)},toArray:function(){return this._array$p$0}};Microsoft.Crm.Client.Core.Framework.CrmErrorCodes=function(){};Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.isOfflineError=function(n){return n===Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.retrieveRecordOfflineErrorCode||n===Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.dataSourceOfflineErrorCode};Microsoft.Crm.Client.Core.Framework.Guid=function(n){if(this._rawGuid$p$0=Microsoft.Crm.Client.Core.Framework.Guid._getParsedString$p(n),Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(this._rawGuid$p$0))throw Error.argumentOutOfRange(String.format(Microsoft.Crm.Client.Core.Framework.Guid._invalidGuidException$p,n));};Microsoft.Crm.Client.Core.Framework.Guid._getParsedString$p=function(n){return Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n)?null:(n=n.toLowerCase(),Microsoft.Crm.Client.Core.Framework.Guid.get__hyphenGuidVerifierPattern$p().test(n)||Microsoft.Crm.Client.Core.Framework.Guid.get__braceAndHyphenGuidVerifierPattern$p().test(n))?n.replace(Microsoft.Crm.Client.Core.Framework.Guid.get__guidStripperPattern$p(),Microsoft.Crm.Client.Core.Framework._String.empty):Microsoft.Crm.Client.Core.Framework.Guid.get__contiguousGuidVerifierPattern$p().test(n)?n:null};Microsoft.Crm.Client.Core.Framework.Guid.get_empty=function(){return Microsoft.Crm.Client.Core.Framework.Guid._empty$p||(Microsoft.Crm.Client.Core.Framework.Guid._empty$p=new Microsoft.Crm.Client.Core.Framework.Guid("00000000-0000-0000-0000-000000000000"))};Microsoft.Crm.Client.Core.Framework.Guid.get__guidStripperPattern$p=function(){return Microsoft.Crm.Client.Core.Framework.Guid._guidStripperPattern$p||(Microsoft.Crm.Client.Core.Framework.Guid._guidStripperPattern$p=new RegExp("{|}|-","g"))};Microsoft.Crm.Client.Core.Framework.Guid.get__hyphenGuidVerifierPattern$p=function(){return Microsoft.Crm.Client.Core.Framework.Guid._hyphenGuidVerifierPattern$p||(Microsoft.Crm.Client.Core.Framework.Guid._hyphenGuidVerifierPattern$p=new RegExp("^(\\d|[a-f]){8}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){12}$"))};Microsoft.Crm.Client.Core.Framework.Guid.get__braceAndHyphenGuidVerifierPattern$p=function(){return Microsoft.Crm.Client.Core.Framework.Guid._braceAndHyphenGuidVerifierPattern$p||(Microsoft.Crm.Client.Core.Framework.Guid._braceAndHyphenGuidVerifierPattern$p=new RegExp("^{(\\d|[a-f]){8}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){4}-(\\d|[a-f]){12}}$"))};Microsoft.Crm.Client.Core.Framework.Guid.get__contiguousGuidVerifierPattern$p=function(){return Microsoft.Crm.Client.Core.Framework.Guid._contiguousGuidVerifierPattern$p||(Microsoft.Crm.Client.Core.Framework.Guid._contiguousGuidVerifierPattern$p=new RegExp("^(\\d|[a-f]){32}$"))};Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData=function(n){var t=n.rawguid;return new Microsoft.Crm.Client.Core.Framework.Guid(t)};Microsoft.Crm.Client.Core.Framework.Guid.tryCreate=function(n){var t=Microsoft.Crm.Client.Core.Framework.Guid._getParsedString$p(n);return Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t)?Microsoft.Crm.Client.Core.Framework.Guid.get_empty():new Microsoft.Crm.Client.Core.Framework.Guid(t)};Microsoft.Crm.Client.Core.Framework.Guid.formatToUpper=function(n){return _Script.isNullOrUndefined(n)?n:(n=n.toLowerCase(),Microsoft.Crm.Client.Core.Framework.Guid.get__braceAndHyphenGuidVerifierPattern$p().test(n)?n.toUpperCase():String.format("{{{0}}}",n.toUpperCase()))};Microsoft.Crm.Client.Core.Framework.Guid.removeBrackets=function(n){return _Script.isNullOrUndefined(n)?n:n.replace("{",Microsoft.Crm.Client.Core.Framework._String.empty).replace("}",Microsoft.Crm.Client.Core.Framework._String.empty).trim()};Microsoft.Crm.Client.Core.Framework.Guid.isNullOrEmpty=function(n){return _Script.isNullOrUndefined(n)||!n.length?!0:new Microsoft.Crm.Client.Core.Framework.Guid(n).equals(Microsoft.Crm.Client.Core.Framework.Guid._empty$p)?!0:!1};Microsoft.Crm.Client.Core.Framework.Guid.newGuid=function(){for(var i="0123456789abcdef",t=new Sys.StringBuilder,r,n=0;n<36;n++){if(n===14){t.append("4");continue}if(n===8||n===13||n===18||n===23){t.append("-");continue}n===19&&(r=Math.floor(Math.random()*16),i.substr(r&3|8,1));t.append(i.substr(Math.floor(Math.random()*16),1))}return new Microsoft.Crm.Client.Core.Framework.Guid(t.toString())};Microsoft.Crm.Client.Core.Framework.Guid.prototype={_rawGuid$p$0:null,_formattedGuid$p$0:null,getObjectData:function(){var n={};return n.rawguid=this._rawGuid$p$0,n},equals:function(n){if(Microsoft.Crm.Client.Core.Framework.Guid.isInstanceOfType(n))return n._rawGuid$p$0===this._rawGuid$p$0;if(String.isInstanceOfType(n))try{var t=new Microsoft.Crm.Client.Core.Framework.Guid(n);return t._rawGuid$p$0===this._rawGuid$p$0}catch(i){return!1}return!1},getHashCode:function(){return Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(this._rawGuid$p$0)?0:Microsoft.Crm.Client.Core.Framework._String.hashCode(this._rawGuid$p$0)},toString:function(){return this._formattedGuid$p$0||(this._formattedGuid$p$0=this._rawGuid$p$0.substring(0,8)+"-"+this._rawGuid$p$0.substring(8,12)+"-"+this._rawGuid$p$0.substring(12,16)+"-"+this._rawGuid$p$0.substring(16,20)+"-"+this._rawGuid$p$0.substring(20,32)),this._formattedGuid$p$0}};Microsoft.Crm.Client.Core.Framework.KeyValuePair$2=function(n,t){this._key$p$0=this.$$gta["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"].TKey===Number||Type.isEnum(this.$$gta["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"].TKey)?0:this.$$gta["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"].TKey===Boolean?!1:null;this._value$p$0=this.$$gta["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"].TValue===Number||Type.isEnum(this.$$gta["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"].TValue)?0:this.$$gta["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"].TValue===Boolean?!1:null;this._key$p$0=n;this._value$p$0=t};Microsoft.Crm.Client.Core.Framework.KeyValuePair$2.$$=function(n,t){var i="KeyValuePair$2$"+n.getName().replace(/\./g,"_")+"$"+t.getName().replace(/\./g,"_"),u,f,e,r;if(!Microsoft.Crm.Client.Core.Framework[i]){u=Microsoft.Crm.Client.Core.Framework[i]=function(){var r,i;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.Framework.KeyValuePair$2"]={TKey:n,TValue:t},r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];Microsoft.Crm.Client.Core.Framework.KeyValuePair$2.apply(this,r)};u.registerClass("Microsoft.Crm.Client.Core.Framework."+i);f=Microsoft.Crm.Client.Core.Framework.KeyValuePair$2.prototype;for(e in f)r={key:e,value:f[e]},"constructor"!==r.key&&(u.prototype[r.key]=r.value)}return Microsoft.Crm.Client.Core.Framework[i]};Microsoft.Crm.Client.Core.Framework.KeyValuePair$2.prototype={get_key:function(){return this._key$p$0},get_value:function(){return this._value$p$0}};Microsoft.Crm.Client.Core.Framework.ManifestType=function(){};Microsoft.Crm.Client.Core.Framework.TimeZoneAdjuster=function(n,t,i,r,u){this._dateEnd$p$0=n;this._dateStart$p$0=t;this._delta$p$0=i;this._daylightStart$p$0=r;this._daylightEnd$p$0=u};Microsoft.Crm.Client.Core.Framework.TimeZoneAdjuster.createFromObjectData=function(n){var t=Date.isInstanceOfType(n.datestart)?n.datestart:new Date(Date.parse(n.datestart)),i=Date.isInstanceOfType(n.dateend)?n.dateend:new Date(Date.parse(n.dateend)),r=n.delta,u=Microsoft.Crm.Client.Core.Framework.TransitionConstraint.createFromObjectData(n.daylightstart),f=Microsoft.Crm.Client.Core.Framework.TransitionConstraint.createFromObjectData(n.daylightend);return new Microsoft.Crm.Client.Core.Framework.TimeZoneAdjuster(i,t,r,u,f)};Microsoft.Crm.Client.Core.Framework.TimeZoneAdjuster.prototype={_dateEnd$p$0:null,_dateStart$p$0:null,_delta$p$0:0,_daylightStart$p$0:null,_daylightEnd$p$0:null,get_dateStart:function(){return this._dateStart$p$0},get_dateEnd:function(){return this._dateEnd$p$0},getObjectData:function(){var n={};return n.dateend=this._dateEnd$p$0,n.datestart=this._dateStart$p$0,n.delta=this._delta$p$0,n.daylightstart=this._daylightStart$p$0.getObjectData(),n.daylightend=this._daylightEnd$p$0.getObjectData(),n}};Microsoft.Crm.Client.Core.Framework.TransitionConstraint=function(n,t,i,r,u,f){this._day$p$0=n;this._dayOfWeek$p$0=t;this._month$p$0=i;this._week$p$0=r;this._timeOfDay$p$0=u;this._isFixedDateRule$p$0=f};Microsoft.Crm.Client.Core.Framework.TransitionConstraint.createFromObjectData=function(n){var t=n.day,i=n.dayofweek,r=n.month,u=n.week,f=Date.isInstanceOfType(n.timeofday)?n.timeofday:new Date(Date.parse(n.timeofday)),e=n.isfixeddaterule;return new Microsoft.Crm.Client.Core.Framework.TransitionConstraint(t,i,r,u,f,e)};Microsoft.Crm.Client.Core.Framework.TransitionConstraint.prototype={_day$p$0:0,_dayOfWeek$p$0:0,_month$p$0:0,_week$p$0:0,_timeOfDay$p$0:null,_isFixedDateRule$p$0:!1,getObjectData:function(){var n={};return n.day=this._day$p$0,n.dayofweek=this._dayOfWeek$p$0,n.month=this._month$p$0,n.week=this._week$p$0,n.timeofday=this._timeOfDay$p$0,n.isfixeddaterule=this._isFixedDateRule$p$0,n}};Microsoft.Crm.Client.Core.Framework.Undefined=function(){};_Math.modulo=function(n,t){return(n%t+t)%t};_Math.randomBetween=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)};_Script.isNull=function(n){return null===n};_Script.isNullOrUndefined=function(n){return null===n||n===undefined};_Script.supportsEquals=function(n){return!_Script.isNullOrUndefined(n)&&!_Script.isNullOrUndefined(n.equals)};_Script.isUndefined=function(n){return n===undefined};_Script.assertWireType=function(n,t){var i,r;t&&(i=t.__type,i&&(r=(new n).__type,Microsoft.Crm.Client.Core.Framework.Debug.assert(!!r,n.getName()+" does not provide wire type information (__type)"),Microsoft.Crm.Client.Core.Framework.Debug.assert(r===i,i+" data type received while expecting "+r)))};Microsoft.Crm.Client.Core.Framework._String=function(){};Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty=function(n){return _Script.isNullOrUndefined(n)||n===Microsoft.Crm.Client.Core.Framework._String.empty};Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace=function(n){return Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n)||n.trim()===Microsoft.Crm.Client.Core.Framework._String.empty};Microsoft.Crm.Client.Core.Framework._String.hashCode=function(n){for(var t=0,r,i=0;i<n.length;++i)r=n.charCodeAt(i),t=(t<<5)-t+r,t=t&t;return t};Microsoft.Crm.Client.Core.Framework._String.format=function(n,t,i,r,u,f,e){return _Script.isUndefined(t)&&_Script.isUndefined(i)&&_Script.isUndefined(r)&&_Script.isUndefined(u)&&_Script.isUndefined(f)&&_Script.isUndefined(e)?n:String.format(n,t,i,r,u,f,e)};Microsoft.Crm.Client.Core.Framework._String.replaceNewlineWithEnding=function(n,t){var r,u,i;if(Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n))return Microsoft.Crm.Client.Core.Framework._String.empty;for(r=new Sys.StringBuilder,u=n.split(Microsoft.Crm.Client.Core.Framework._String._newLineExpression$p),i=0;i<u.length;i++)Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(u[i])||(r.append(u[i]),r.append(t));return r.toString()};Microsoft.Crm.Client.Core.Framework.List$1=function(n){this._items$p$0=n||new Array(0)};Microsoft.Crm.Client.Core.Framework.List$1.$$=function(n){var t="List$1$"+n.getName().replace(/\./g,"_"),r,u,f,i;if(!Microsoft.Crm.Client.Core.Framework[t]){r=Microsoft.Crm.Client.Core.Framework[t]=function(){var i,t;for((this.$$gta=this.$$gta||{})["Microsoft.Crm.Client.Core.Framework.List$1"]={T:n},i=[],t=0;t<arguments.length;++t)i[t]=arguments[t];Microsoft.Crm.Client.Core.Framework.List$1.apply(this,i)};r.registerClass("Microsoft.Crm.Client.Core.Framework."+t,null,Microsoft.Crm.Client.Core.Framework.IList$1.$$(n));u=Microsoft.Crm.Client.Core.Framework.List$1.prototype;for(f in u)i={key:f,value:u[f]},"constructor"!==i.key&&(r.prototype[i.key]=i.value)}return Microsoft.Crm.Client.Core.Framework[t]};Microsoft.Crm.Client.Core.Framework.List$1.prototype={_items$p$0:null,get_Items:function(){return this._items$p$0},get_Count:function(){return this._items$p$0.length},get_item:function(n){return this._items$p$0[n]},set_item:function(n,t){return this._items$p$0[n]=t,t},add:function(n){Array.add(this._items$p$0,n)},addRange:function(n){Array.addRange(this._items$p$0,n)},clear:function(){Array.clear(this._items$p$0)},contains:function(n){return Array.contains(this._items$p$0,n)},indexOf:function(n,t){return t=t||0,Array.indexOf(this._items$p$0,n,t)},insert:function(n,t){Array.insert(this._items$p$0,n,t)},remove:function(n){Array.remove(this._items$p$0,n)},removeAt:function(n){Array.removeAt(this._items$p$0,n)},sort:function(n){_Script.isNullOrUndefined(n)?this._items$p$0.sort():this._items$p$0.sort(n)},toArray:function(){for(var t=new Array(this.get_Count()),n=0;n<this.get_Count();n++)t[n]=this.get_item(n);return t}};HtmlEncoder.encode=function(n){if(Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n))return n;var t=n.replace(HtmlEncoder._ampersand$p,"&amp;");return t=t.replace(HtmlEncoder._lessThan$p,"&lt;"),t=t.replace(HtmlEncoder._greaterThan$p,"&gt;"),t=t.replace(HtmlEncoder._apostrophe$p,"&apos;"),t.replace(HtmlEncoder._quotation$p,"&quot;")};HtmlEncoder.decode=function(n){if(Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n))return n;var t=n.replace(HtmlEncoder._encodedQuotation$p,'"');return t=t.replace(HtmlEncoder._encodedApostrophe$p,"'"),t=t.replace(HtmlEncoder._encodedGreaterThan$p,">"),t=t.replace(HtmlEncoder._encodedLessThan$p,"<"),t.replace(HtmlEncoder._encodedAmpersand$p,"&")};Microsoft.Crm.Client.Core.Framework.Debug=function(){};Microsoft.Crm.Client.Core.Framework.Debug.$$cctor=function(){Sys.Browser.hasDebuggerStatement=!0};Microsoft.Crm.Client.Core.Framework.Debug.assert=function(n,t){n||Sys.Debug.assert(!1,t)};Microsoft.Crm.Client.Core.Framework.Debug.fail=function(n){Microsoft.Crm.Client.Core.Framework.Debug.assert(!1,n)};OptionalParameter.getValue=function(n,t){return OptionalParameter.getValueByType(n,t)};OptionalParameter.getValueByType=function(n,t){return _Script.isNullOrUndefined(t)?n===Number||Type.isEnum(n)?0:n===Boolean?!1:null:t};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework.Utils");Microsoft.Crm.Client.Core.Framework.Utils.XmlParser=function(){};Microsoft.Crm.Client.Core.Framework.Utils.XmlParser.createFromXml=function(n,t){if(Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(t))return n===Number||Type.isEnum(n)?0:n===Boolean?!1:null;var i=Sys.Net.XMLDOM(t);return Microsoft.Crm.Client.Core.Framework.Utils.XmlParser._createFromXmlInternal$p(i.documentElement)};Microsoft.Crm.Client.Core.Framework.Utils.XmlParser._createFromXmlInternal$p=function(n){for(var u={},t,r,e,f=n.childNodes,o=f.length,i=0;i<o;++i)t=f[i],r=_XMLNode.getLocalName(t),r!==Microsoft.Crm.Client.Core.Framework.Utils.XmlParser._textNodeName$p&&(e=t.hasChildNodes()&&(t.childNodes.length!==1||_XMLNode.getLocalName(t.childNodes[0])!==Microsoft.Crm.Client.Core.Framework.Utils.XmlParser._textNodeName$p)?Microsoft.Crm.Client.Core.Framework.Utils.XmlParser._createFromXmlInternal$p(t):_XMLNode.getInnerText(t),u[r]=e);return u};Microsoft.Crm.Client.Core.Framework.Utils.XmlParser.getInnerXml=function(n){for(var i=n.childNodes(),r=Microsoft.Crm.Client.Core.Framework._String.empty,u=null,t=0;t<i.get_count();t++)u=i.get_item(t),r+=u.get_outerXml().toString();return r};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers=function(){};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullArgument=function(n,t){if(_Script.isNull(n))throw Error.argumentNull(t,"Argument can't be null");};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument=function(n,t){if(_Script.isNullOrUndefined(n))throw Error.argumentNull(t,"Argument can't be null or undefined");};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnUndefinedArgument=function(n,t){if(_Script.isUndefined(n))throw Error.argumentNull(t,"Argument can't be undefined");};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrEmptyArgument=function(n,t){if(!n||!n.length)throw Error.argumentNull(t,"Argument can't be null or empty");};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrEmptyArrayArgument=function(n,t){if(!n||!n.length)throw Error.argumentNull(t,"Argument can't be null or empty");};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnEquals=function(n,t,i){if(n===t)throw Error.argument(i,"Argument value should not be equal to "+t.toString());};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNotEquals=function(n,t,i){if(n!==t)throw Error.argument(i,"Argument is "+n+"but should be equal to "+t);};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnOutOfRange=function(n,t,i,r){if(n<t||n>i)throw Error.argumentOutOfRange(r);};Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnAssert=function(n,t){if(!n)throw Error.create("ExceptionHelpers.ThrowOnAssert("+t+")");};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.Common.Xml");Microsoft.Crm.Client.Core.Storage.Common.Xml.IXmlNodeList=function(){};Microsoft.Crm.Client.Core.Storage.Common.Xml.IXmlNodeList.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.Xml.IXmlNodeList");Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType=function(){};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.prototype={undefined:-1,xPath:0,domParser:1};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.registerEnum("Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType",!1);Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper=function(n){Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"Node list obj should not be null");this._list$p$0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper));for(var t=0;t<n.length;t++)this._list$p$0.add(n[t])};Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper.prototype={_list$p$0:null,get_count:function(){return this._list$p$0.get_Count()},get_item:function(n){return this._list$p$0.get_Items()[n]}};Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper=function(n,t){Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper.initializeBase(this);Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"The element should not be null");this._element$p$1=n;this._namespaces$p$1=_Script.isNullOrUndefined(t)?{}:t};Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper.prototype={_element$p$1:null,_namespaces$p$1:null,get_innerText:function(){return this._element$p$1.hasChildNodes()?this._element$p$1.firstChild.nodeValue:null},get_outerXml:function(){return(new XMLSerializer).serializeToString(this._element$p$1)},get_innerHtml:function(){return Microsoft.Crm.Client.Core.Framework._String.empty},get_tagName:function(){return this._element$p$1.nodeName},get_domParserElement:function(){return this._element$p$1},getAttribute:function(n){return this._element$p$1.getAttribute(n)},addNamespace:function(n,t){this._namespaces$p$1[n]=t},selectSingleNode:function(n){var t=this._selectDOMParserElements$p$1(n,!0);return t.get_count()?t.get_item(0):null},selectNodes:function(n){return this._selectDOMParserElements$p$1(n,!1)},getElementsByTagName:function(n){var r,i,f,u,t;for(r=_Script.isNullOrUndefined(this._element$p$1.ownerDocument)?this._element$p$1.getElementsByTagName(n):this._element$p$1.ownerDocument.getElementsByTagName(n),i=[],t=0;t<r.length;t++)Array.add(i,r[t]);for(f=this._getElementsByTagNameWithDefaultNamespace$p$1(n),Array.addRange(i,f),u=[],t=0;t<i.length;t++)Array.add(u,new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper(i[t],this._namespaces$p$1));return new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper(u)},childNodes:function(){for(var t=[],n=0,i=this._element$p$1.childNodes.length;n<i;n++)Array.add(t,new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper(this._element$p$1.childNodes[n],this._namespaces$p$1));return new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper(t)},hasChildNodes:function(){return this._element$p$1.hasChildNodes()},_selectDOMParserElements$p$1:function(n,t){var i=[],l,a,r,e,c,s,f,v,o,p,h,y,u;if(n.startsWith("//")||n.startsWith(".//")){for(l=2,a=!1,n.startsWith(".")&&(l++,a=!0),n=n.substr(l),r=n.indexOf("/"),r<0?(e=n,c=null):(e=n.substr(0,r),c=n.substr(r+1)),r=e.indexOf("["),r<0?(s=e,f=null):(s=e.substr(0,r),f=e.substr(r+1),r=f.indexOf("]"),f=f.substr(0,r)),v=a||_Script.isNullOrUndefined(this._element$p$1.ownerDocument)?this._element$p$1.getElementsByTagName(s):this._element$p$1.ownerDocument.getElementsByTagName(s),o=[],u=0;u<v.length;u++)Array.add(o,v[u]);p=this._getElementsByTagNameWithDefaultNamespace$p$1(s);Array.addRange(o,p);h=o;o.length>0&&null!==f&&(h=this._filterDOMParserElementList$p$1(o,f));i=h.length&&null!==c?this._searchDOMParserElementList$p$1(h,c,t):h}else n.startsWith("/")?(_Script.isNullOrUndefined(this._element$p$1.ownerDocument)?Array.add(i,this._element$p$1):Array.add(i,this._element$p$1.ownerDocument),i=this._searchDOMParserElementList$p$1(i,n.substr(1),t)):(Array.add(i,this._element$p$1),i=this._searchDOMParserElementList$p$1(i,n,t));for(y=[],u=0;u<i.length;u++)Array.add(y,new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper(i[u],this._namespaces$p$1));return new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper(y)},_searchDOMParserElementList$p$1:function(n,t,i){return i?this._searchSingleNodeDOMParserElementList$p$1(n,t):this._searchNodesDOMParserElementList$p$1(n,t)},_searchSingleNodeDOMParserElementList$p$1:function(n,t){var r,i,u;if(_Script.isNullOrUndefined(t)||t.length<1)return n;for(r=[],i=0;i<n.length;i++)if(u=this._searchSingleNodeDOMParserElement$p$1(n[i],t),!_Script.isNullOrUndefined(u)){Array.add(r,u);break}return r},_searchSingleNodeDOMParserElement$p$1:function(n,t){var i,u,s,c,r,f,e,l,h,o;if(_Script.isNullOrUndefined(t)||t.length<1)return n;for(i=t.indexOf("/"),i<0?(u=t,s=null):(u=t.substr(0,i),s=t.substr(i+1)),i=u.indexOf("["),i<0?(c=u,r=null):(c=u.substr(0,i),r=u.substr(i+1),i=r.indexOf("]"),r=r.substr(0,i)),f=null,e=0,l=n.childNodes.length;e<l;e++)if(this._isNodeNameEqual$p$1(n.childNodes[e],c)&&(h=[],Array.add(h,n.childNodes[e]),o=h,null!==r&&(o=this._filterDOMParserElementList$p$1(h,r)),o.length>0))if(null===s){f=o[0];break}else if(f=this._searchSingleNodeDOMParserElement$p$1(o[0],s),f)break;return f},_searchNodesDOMParserElementList$p$1:function(n,t){var r,e,u,i,o,f;if(_Script.isNullOrUndefined(t)||t.length<1)return n;for(r=t.indexOf("/"),r<0?(e=t,u=null):(e=t.substr(0,r),u=t.substr(r+1)),i=[],f=0;f<n.length;f++)o=this._searchDOMParserElement$p$1(n[f],e),o.length>0&&Array.addRange(i,o);return!i.length||null===u?i:this._searchNodesDOMParserElementList$p$1(i,u)},_searchDOMParserElement$p$1:function(n,t){var r=t.indexOf("["),e,i,u,f,s,o;for(r<0?(e=t,i=null):(e=t.substr(0,r),i=t.substr(r+1),r=i.indexOf("]"),i=i.substr(0,r)),u=[],f=0,s=n.childNodes.length;f<s;f++)this._isNodeNameEqual$p$1(n.childNodes[f],e)&&Array.add(u,n.childNodes[f]);return o=u,u.length>0&&null!==i&&(o=this._filterDOMParserElementList$p$1(u,i)),o},_filterDOMParserElementList$p$1:function(n,t){var s=t.startsWith("@"),u,f,i,e,o,r;for(s&&(t=t.substr(1)),u=t.indexOf("="),u<0?(f=t,i=null):(f=t.substr(0,u),i=t.substr(u+1),i=i.substr(1),i=i.substr(0,i.length-1)),e=[],o=0;o<n.length;o++)r=n[o],s&&this._filterDOMParserElementAttribute$p$1(r,f,i)?Array.add(e,r):this._filterDOMParserElementChildElement$p$1(r,f,i)&&Array.add(e,r);return e},_filterDOMParserElementAttribute$p$1:function(n,t,i){return null===i?n.hasAttribute(t):i===n.getAttribute(t)},_filterDOMParserElementChildElement$p$1:function(n,t,i){for(var r=0,u=n.childNodes.length;r<u;r++)if(this._isNodeNameEqual$p$1(n.childNodes[r],t)&&(null===i||n.childNodes[r].firstChild.nodeValue===i))return!0;return!1},_getElementsByTagNameWithDefaultNamespace$p$1:function(n){var r=[],u=this._getNamespaceForFullName$p$1(n),f,i,t;if(_Script.isNullOrUndefined(u)||u.length<1)return r;for(f=this._getLocalNameForFullName$p$1(n),i=_Script.isNullOrUndefined(this._element$p$1.ownerDocument)?this._element$p$1.getElementsByTagName(f):this._element$p$1.ownerDocument.getElementsByTagName(f),t=0;t<i.length;t++)i[t].namespaceURI===u&&Array.add(r,i[t]);return r},_getNamespaceForFullName$p$1:function(n){var t=n.indexOf(":"),i,r;return t<0?Microsoft.Crm.Client.Core.Framework._String.empty:(i=n.substr(0,t),r=this._namespaces$p$1[i],r)},_getLocalNameForFullName$p$1:function(n){var t=n.indexOf(":");return t<0?n:n.substr(t+1)},_isNodeNameEqual$p$1:function(n,t){var i,r;return n.nodeName===t||"*"===t?!0:(i=this._getNamespaceForFullName$p$1(t),_Script.isNullOrUndefined(i)||i.length<1)?!1:(r=this._getLocalNameForFullName$p$1(t),n.namespaceURI===i&&n.localName===r)}};Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper=function(n,t,i){var u,f,r;if(Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"XPathEvaluator should not be null"),Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(t),"Node list obj should not be null"),this._list$p$0=[],u=t,_Script.isNullOrUndefined(u.length))for(f=t,r=0;r<f.snapshotLength;r++)Array.add(this._list$p$0,new Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper(n,f.snapshotItem(r),i));else for(r=0;r<u.length;r++)Array.add(this._list$p$0,new Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper(n,u[r],i))};Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper.prototype={_list$p$0:null,get_count:function(){return this._list$p$0.length},get_item:function(n){return this._list$p$0[n]}};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode=function(){};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute=function(n,t,i){var r=n.createAttribute(t);return r.value=i,r};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory=function(){};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.get__preferredXmlEvaluator$p=function(){return Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._preferredXmlEvaluator$p};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.set__preferredXmlEvaluator$p=function(n){return Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._preferredXmlEvaluator$p=n,n};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create=function(n){return _Script.isNullOrUndefined(n)?null:(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.get__preferredXmlEvaluator$p()===Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.undefined&&Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._determineXmlEvaluatorType$p(n),Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.get__preferredXmlEvaluator$p()?new Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper(n):new Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper(n))};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument=function(n){var t=null,i;return _Script.isNullOrUndefined(t)&&(t=Sys.Net.XMLDOM(n)),_Script.isNullOrUndefined(t)||(i=t.getElementsByTagName("parsererror"),!_Script.isNullOrUndefined(i)&&i.length>0&&(t=null)),t};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._determineXmlEvaluatorType$p=function(n){if(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._browserSupportsXPathEvaluate$p()){var t=new Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper(n);try{t.selectSingleNode("/root");Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.set__preferredXmlEvaluator$p(0)}catch(i){}}Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.get__preferredXmlEvaluator$p()===Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.undefined&&Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._browserSupportsDomParser$p()&&Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.set__preferredXmlEvaluator$p(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.domParser);Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.get__preferredXmlEvaluator$p()===Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.undefined&&Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.get__preferredXmlEvaluator$p(),"PreferredXmlEvaluator")};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._browserSupportsXPathEvaluate$p=function(){var n=document.evaluate;return!_Script.isNullOrUndefined(n)};Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._browserSupportsDomParser$p=function(){var n=window.DOMParser;return!_Script.isNullOrUndefined(n)};Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper=function(n,t,i){this.$$d__resolveNamespaces$p$1=Function.createDelegate(this,this._resolveNamespaces$p$1);Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper.initializeBase(this);Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"The XPathEvaluator should not be null");this._evaluator$p$1=n;this._element$p$1=_Script.isNullOrUndefined(t)?n:t;this._namespaces$p$1=_Script.isNullOrUndefined(i)?{}:i};Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper.prototype={_namespaces$p$1:null,_evaluator$p$1:null,_element$p$1:null,get_innerText:function(){return this._element$p$1.hasChildNodes()?this._element$p$1.firstChild.nodeValue:null},get_innerHtml:function(){return this._element$p$1.hasChildNodes()?HtmlEncoder.decode(this._element$p$1.innerHTML):null},get_outerXml:function(){return(new XMLSerializer).serializeToString(this._element$p$1)},get_tagName:function(){return this._element$p$1.tagName},get_domParserElement:function(){return this._element$p$1},addNamespace:function(n,t){this._namespaces$p$1[n]=t},selectSingleNode:function(n){var t=this._evaluator$p$1.evaluate(n,this._element$p$1,this.$$d__resolveNamespaces$p$1,Microsoft.Crm.Client.Core.Imported.XPathResultType.FIRST_ORDERED_NODE_TYPE,null);return _Script.isNullOrUndefined(t.singleNodeValue)?null:new Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper(this._evaluator$p$1,t.singleNodeValue,this._namespaces$p$1)},selectNodes:function(n){return new Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper(this._evaluator$p$1,this._evaluator$p$1.evaluate(n,this._element$p$1,this.$$d__resolveNamespaces$p$1,Microsoft.Crm.Client.Core.Imported.XPathResultType.ORDERED_NODE_SNAPSHOT_TYPE,null),this._namespaces$p$1)},getAttribute:function(n){return this._element$p$1.getAttribute(n)},getElementsByTagName:function(n){return new Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper(this._evaluator$p$1,this._element$p$1.getElementsByTagName(n),this._namespaces$p$1)},childNodes:function(){return new Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper(this._evaluator$p$1,this._element$p$1.childNodes,this._namespaces$p$1)},hasChildNodes:function(){return this._element$p$1.hasChildNodes()},_resolveNamespaces$p$1:function(n){return n in this._namespaces$p$1?this._namespaces$p$1[n]:null}};Type.registerNamespace("Microsoft.Crm.Client.Core.Imported");Microsoft.Crm.Client.Core.Imported.XPathResultType=function(){};Microsoft.Crm.Client.Core.Imported.XPathResultType.prototype={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};Microsoft.Crm.Client.Core.Imported.XPathResultType.registerEnum("Microsoft.Crm.Client.Core.Imported.XPathResultType",!1);Microsoft.Crm.Client.Core.Imported.MscrmComponents=function(){};Microsoft.Crm.Client.Core.Imported.MscrmComponents.deferredPromiseFactory=function(n,t){return jQueryApi.jQueryDeferredFactory.Deferred(n,t)};Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper=function(){};Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.when=function(){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];return jQueryAjax.$P_CRM.when.apply.apply(null,[null].concat(t))};Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.whenArray=function(n){return $P_CRM.when.apply(null,n)};Type.registerNamespace("Microsoft.Crm.Client.Core.Attributes");Microsoft.Crm.Client.Core.Attributes.ExportToTypescriptAttribute=function(){Microsoft.Crm.Client.Core.Attributes.ExportToTypescriptAttribute.initializeBase(this)};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework.Common");Microsoft.Crm.Client.Core.Framework.Common.ImeMode=function(){};Microsoft.Crm.Client.Core.Framework.Common.ImeMode.prototype={auto:0,inactive:1,active:2,disabled:3};Microsoft.Crm.Client.Core.Framework.Common.ImeMode.registerEnum("Microsoft.Crm.Client.Core.Framework.Common.ImeMode",!1);Microsoft.Crm.Client.Core.SharedScript.registerClass("Microsoft.Crm.Client.Core.SharedScript");Microsoft.Crm.Client.Core.Framework.CustomControlAttributeProperty.registerClass("Microsoft.Crm.Client.Core.Framework.CustomControlAttributeProperty");Microsoft.Crm.Client.Core.Framework.CustomControlConstants.registerClass("Microsoft.Crm.Client.Core.Framework.CustomControlConstants");Microsoft.Crm.Client.Core.Framework.CustomControlUtils.registerClass("Microsoft.Crm.Client.Core.Framework.CustomControlUtils");Microsoft.Crm.Client.Core.Framework.CallingContext.registerClass("Microsoft.Crm.Client.Core.Framework.CallingContext");Microsoft.Crm.Client.Core.Framework.DefaultContext.registerClass("Microsoft.Crm.Client.Core.Framework.DefaultContext",Microsoft.Crm.Client.Core.Framework.CallingContext);Microsoft.Crm.Client.Core.Framework.ErrorData.registerClass("Microsoft.Crm.Client.Core.Framework.ErrorData");Microsoft.Crm.Client.Core.Framework.ErrorStatus.registerClass("Microsoft.Crm.Client.Core.Framework.ErrorStatus",null,Microsoft.Crm.Client.Core.Framework.ISerializable);_XMLNode.registerClass("_XMLNode");Microsoft.Crm.Client.Core.Framework._Dictionary.registerClass("Microsoft.Crm.Client.Core.Framework._Dictionary");Microsoft.Crm.Client.Core.Framework._Enum.registerClass("Microsoft.Crm.Client.Core.Framework._Enum");Microsoft.Crm.Client.Core.Framework.DynamicsTrace.registerClass("Microsoft.Crm.Client.Core.Framework.DynamicsTrace");Microsoft.Crm.Client.Core.Framework.PerformanceMarker.registerClass("Microsoft.Crm.Client.Core.Framework.PerformanceMarker");Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch.registerClass("Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch");Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.registerClass("Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames");Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.registerClass("Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames");Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.registerClass("Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames");Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames.registerClass("Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames");Microsoft.Crm.Client.Core.Framework.FieldFormat.registerClass("Microsoft.Crm.Client.Core.Framework.FieldFormat");Microsoft.Crm.Client.Core.Framework.MetadataTypeName.registerClass("Microsoft.Crm.Client.Core.Framework.MetadataTypeName");Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.registerClass("Microsoft.Crm.Client.Core.Framework.CrmErrorCodes");Microsoft.Crm.Client.Core.Framework.Guid.registerClass("Microsoft.Crm.Client.Core.Framework.Guid",null,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Framework.ManifestType.registerClass("Microsoft.Crm.Client.Core.Framework.ManifestType");Microsoft.Crm.Client.Core.Framework.TimeZoneAdjuster.registerClass("Microsoft.Crm.Client.Core.Framework.TimeZoneAdjuster",null,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Framework.TransitionConstraint.registerClass("Microsoft.Crm.Client.Core.Framework.TransitionConstraint",null,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Framework.Undefined.registerClass("Microsoft.Crm.Client.Core.Framework.Undefined");_Math.registerClass("_Math");_Script.registerClass("_Script");Microsoft.Crm.Client.Core.Framework._String.registerClass("Microsoft.Crm.Client.Core.Framework._String");HtmlEncoder.registerClass("HtmlEncoder");Microsoft.Crm.Client.Core.Framework.Debug.registerClass("Microsoft.Crm.Client.Core.Framework.Debug");OptionalParameter.registerClass("OptionalParameter");Microsoft.Crm.Client.Core.Framework.Utils.XmlParser.registerClass("Microsoft.Crm.Client.Core.Framework.Utils.XmlParser");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.registerClass("Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers");Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper.registerClass("Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeListWrapper",null,Microsoft.Crm.Client.Core.Storage.Common.Xml.IXmlNodeList);Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.registerClass("Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode");Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper.registerClass("Microsoft.Crm.Client.Core.Storage.Common.Xml._domParserNodeWrapper",Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode);Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper.registerClass("Microsoft.Crm.Client.Core.Storage.Common.Xml._nodeSnapshotWrapper",null,Microsoft.Crm.Client.Core.Storage.Common.Xml.IXmlNodeList);Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.registerClass("Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory");Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper.registerClass("Microsoft.Crm.Client.Core.Storage.Common.Xml._xPathEvaluatorWrapper",Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode);Microsoft.Crm.Client.Core.Imported.MscrmComponents.registerClass("Microsoft.Crm.Client.Core.Imported.MscrmComponents");Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper.registerClass("Microsoft.Crm.Client.Core.Imported.DeferredPromiseHelper");Microsoft.Crm.Client.Core.Attributes.ExportToTypescriptAttribute.registerClass("Microsoft.Crm.Client.Core.Attributes.ExportToTypescriptAttribute",Sys.Attribute);Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lastUpdatedField="lastUpdatedField";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lastUpdatedValue="lastUpdatedValue";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupStateField="rollupStateField";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupStateValue="rollupStateValue";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.recalculate="recalculate";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.rollupValid="rollupValid";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.calculatedFieldValid="calculatedFieldValid";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.partyList="lookup.partylist";Microsoft.Crm.Client.Core.Framework.CustomControlConstants.lookupCheck="lookup.";Microsoft.Crm.Client.Core.Framework._Enum._separator$p=",";Microsoft.Crm.Client.Core.Framework.DynamicsTrace.storage=1005;Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.pageStart="BeforeInitializeStart";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.interactionReady="LoadedInteractionReady";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedInitialUI="LoadedInitialUI";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.renderedInitialUI="RenderedInitialUI";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedInitialData="LoadedInitialData";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.renderedInitialData="RenderedInitialData";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedRefreshedData="RenderedRefreshedData";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedReadReady="LoadedReadReady";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.renderedReadReady="RenderedReadReady";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedEditReady="LoadedEditReady";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.renderedEditReady="RenderedEditReady";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedViewportInitialUI="LoadedViewportInitialUI";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.renderedViewportInitialUI="RenderedViewportInitialUI";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.loadedViewportInitialData="LoadedViewportInitialData";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.renderedViewportInitialData="RenderedViewportInitialData";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.fullLoad="LoadedFull";Microsoft.Crm.Client.Core.Framework.PageLoadPerformanceMarkerNames.firstQueueLoad="RenderedFirstQueueWithData";Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.bootStart="PageLoadStart";Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.shimInit="Shim Init";Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.cssInit="Style Init";Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.jsInit="JavaScript Init";Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.requireJsInit="RequireJs JavaScript Init";Microsoft.Crm.Client.Core.Framework.AppBootPerformanceMarkerNames.delayedAssetsInit="Delayed Assets Init";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.crmSoapServiceCall="CrmSoapServiceCall";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.checkRemoteDataSourceUpdates="DataSource_CheckRemoteDataSourceUpdates";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.initializeAfterUpdatesCheck="DataSource_InitializeAfterUpdatesCheck";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.syncAllEntityAndAttributeMetadata="DataSource_SyncAllEntityAndAttributeMetadata";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.syncAllApplicationMetadata="DataSource_SyncAllApplicationMetadata";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.syncEntityAttributeBatch="DataSource_SyncEntityAttributeBatch";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.syncApplicationMetdataBatch="DataSource_SyncApplicationMetadataBatch";Microsoft.Crm.Client.Core.Framework.DataLayerPerformanceMarkerNames.offlineSync="DataSource_OfflineSync";Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames.offlineCreateRecord="OfflineDataStore_CreateRecord";Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames.offlineRetrieveRecord="OfflineDataStore_RetrieveRecord";Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames.offlineUpdateRecord="OfflineDataStore_UpdateRecord";Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames.offlineDeleteRecord="OfflineDataStore_DeleteRecord";Microsoft.Crm.Client.Core.Framework.OfflineDataStoreCRUDPerformanceMarkerNames.offlineRetrieveMultipleRecords="OfflineDataStore_RetrieveMultipleRecords";Microsoft.Crm.Client.Core.Framework.FieldFormat.raw=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(0);Microsoft.Crm.Client.Core.Framework.FieldFormat.numeric=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.Numeric);Microsoft.Crm.Client.Core.Framework.FieldFormat.label=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.Label);Microsoft.Crm.Client.Core.Framework.FieldFormat.value=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.Value);Microsoft.Crm.Client.Core.Framework.FieldFormat.state=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.State);Microsoft.Crm.Client.Core.Framework.FieldFormat.id=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.Id);Microsoft.Crm.Client.Core.Framework.FieldFormat.name=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.Name);Microsoft.Crm.Client.Core.Framework.FieldFormat.logicalName=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.LogicalName);Microsoft.Crm.Client.Core.Framework.FieldFormat.defaultStatus=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.DefaultStatus);Microsoft.Crm.Client.Core.Framework.FieldFormat.allowedStatusTransitions=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.AllowedStatusTransitions);Microsoft.Crm.Client.Core.Framework.FieldFormat.color=Microsoft.Crm.Client.Core.Framework.FieldFormat._addDelimiter$p(Microsoft.Crm.Client.Core.Framework.FieldFormat._fieldFormatValue.Color);Microsoft.Crm.Client.Core.Framework.FieldFormat.delimiter="!";Microsoft.Crm.Client.Core.Framework.MetadataTypeName.workspace="Workspace";Microsoft.Crm.Client.Core.Framework.MetadataTypeName.interactionCentricWorkspace="InteractionCentricWorkspace";Microsoft.Crm.Client.Core.Framework.CallingContext.unknown="unknown";Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.emptyCommandOrEntity=-2146088111;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.commandNotSupported=-2146088110;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.operationFailedTryAgain=-2146088109;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.noUserPrivilege=-2146088112;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.xamlNotFound=-2146088113;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.genericError=0;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.openCameraCaptureFailed=-2147094016;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.mobileClientLanguageNotSupported=-2147094015;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.mobileClientVersionNotSupported=-2147094014;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.roleNotEnabledForTabletApp=-2147094013;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.filePickerErrorFileSizeCannotBeZero=-2147094010;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.filePickerErrorUnableToOpenFile=-2147094009;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.filePickerErrorApplicationInSnapView=-2147094009;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.getPhotoFromGalleryFailed=-2147094008;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.saveDataFileErrorOutOfSpace=-2147094007;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.openDocumentErrorCodeUnableToFindTheDataId=-2147094005;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.openDocumentErrorCodeUnableToFindAnActivity=-2147094004;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.openDocumentErrorCodeGeneric=-2147094004;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.viewHasBeenDeleted=-2147094003;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.dashboardHasBeenDeleted=-2147094011;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.mobileClientNotConfiguredForCurrentUser=-2147094002;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.noMinimumRequiredPrivilegesForTabletApp=-2147094001;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.dataSourceInitializeFailedErrorCode=-2147094e3;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.dataSourceOfflineErrorCode=-2147093999;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.pingFailureErrorCode=-2147093998;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.retrieveRecordOfflineErrorCode=-2147093997;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.cannotSaveRecordInOfflineErrorCode=-2147093996;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.generalAuthorizationErrorCode=-2147093995;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.cannotGoOfflineErrorCode=-2147093994;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.signOutFailed=-2147093993;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.invalidPreviewModeOperation=-2147093991;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.pageNotFound=-2147093990;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.viewNotAvailableForMobileOffline=-2147093989;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.notMobileWriteEnabled=-2147093988;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.dataStoreKeyNotFoundErrorCode=-2147093987;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.cantUpdateOnlineRecord=-2147093980;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.cannotDeleteOnlineRecord=-2147093944;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.entityMetadataSyncFailed=-2147093960;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.entityMetadataSyncFailedWithContinue=-2147093959;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.applicationMetadataSyncFailed=-2147093952;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.applicationMetadataSyncFailedWithContinue=-2147093951;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.applicationMetadataSyncTimeout=-2147093950;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.applicationMetadataSyncTimeoutWithContinue=-2147093949;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.applicationMetadataSyncAppLock=-2147093948;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.applicationMetadataSyncAppLockWithContinue=-2147093947;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.genericMetadataSyncFailed=-2147093946;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.genericMetadataSyncFailedWithContinue=-2147093945;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.concurrencyVersionMismatch=-2147088254;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.concurrencyVersionNotProvided=-2147088253;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.filePickerErrorFileSizeBreached=-2147205624;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.filePickerErrorAttachmentTypeBlocked=-2147205623;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.duplicateRecordDetected=-2147220685;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.objectDoesNotExist=-2147220969;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.privilegeDenied=-2147220960;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.userDisabled=-2147220955;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.duplicateRecord=-2147220937;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.isvAborted=-2147220891;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.businessUnitDisabled=-2147220692;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.metadataNoMapping=-2147217919;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.userWithoutRoles=-2147209463;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.userWithoutPrivileges=-2147209460;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.genericSqlError=-2147204784;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.notMobileEnabled=-2147093995;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.fieldIsReadOnly=-2147088625;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.quickCreateInvalidEntityName=-2147088112;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.quickCreateDisabledOnEntity=-2147088111;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.refreshCanceled=-2147088110;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.crmSqlGovernorDatabaseRequestDenied=-2147180543;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.trackingIsNotSupported=-2147881479;Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.emailAddressMismatch=-2147085807;Microsoft.Crm.Client.Core.Framework.Guid._invalidGuidException$p="'{0}' is not a valid Guid value.";Microsoft.Crm.Client.Core.Framework.Guid._empty$p=null;Microsoft.Crm.Client.Core.Framework.Guid._guidStripperPattern$p=null;Microsoft.Crm.Client.Core.Framework.Guid._hyphenGuidVerifierPattern$p=null;Microsoft.Crm.Client.Core.Framework.Guid._braceAndHyphenGuidVerifierPattern$p=null;Microsoft.Crm.Client.Core.Framework.Guid._contiguousGuidVerifierPattern$p=null;Microsoft.Crm.Client.Core.Framework.ManifestType.twoOptions="TwoOptions";Microsoft.Crm.Client.Core.Framework.ManifestType.dateAndTimeDateOnly="DateAndTime.DateOnly";Microsoft.Crm.Client.Core.Framework.ManifestType.dateAndTimeDateAndTime="DateAndTime.DateAndTime";Microsoft.Crm.Client.Core.Framework.ManifestType.decimal="Decimal";Microsoft.Crm.Client.Core.Framework.ManifestType.FP="FP";Microsoft.Crm.Client.Core.Framework.ManifestType.wholeNone="Whole.None";Microsoft.Crm.Client.Core.Framework.ManifestType.wholeDuration="Whole.Duration";Microsoft.Crm.Client.Core.Framework.ManifestType.wholeTimeZone="Whole.TimeZone";Microsoft.Crm.Client.Core.Framework.ManifestType.wholeLanguage="Whole.Language";Microsoft.Crm.Client.Core.Framework.ManifestType.lookupSimple="Lookup.Simple";Microsoft.Crm.Client.Core.Framework.ManifestType.lookupCustomer="Lookup.Customer";Microsoft.Crm.Client.Core.Framework.ManifestType.lookupOwner="Lookup.Owner";Microsoft.Crm.Client.Core.Framework.ManifestType.lookupPartyList="Lookup.PartyList";Microsoft.Crm.Client.Core.Framework.ManifestType.lookupRegarding="Lookup.Regarding";Microsoft.Crm.Client.Core.Framework.ManifestType.multiple="Multiple";Microsoft.Crm.Client.Core.Framework.ManifestType.currency="Currency";Microsoft.Crm.Client.Core.Framework.ManifestType.optionSet="OptionSet";Microsoft.Crm.Client.Core.Framework.ManifestType.enumType="Enum";Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineEmail="SingleLine.Email";Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineText="SingleLine.Text";Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineTextArea="SingleLine.TextArea";Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineURL="SingleLine.URL";Microsoft.Crm.Client.Core.Framework.ManifestType.singleLineTickerSymbol="SingleLine.Ticker";Microsoft.Crm.Client.Core.Framework.ManifestType.singleLinePhone="SingleLine.Phone";Microsoft.Crm.Client.Core.Framework.ManifestType.grid="Grid";Microsoft.Crm.Client.Core.Framework.Undefined.undefinedKeyword="undefined";Microsoft.Crm.Client.Core.Framework.Undefined.booleanValue=undefined;Microsoft.Crm.Client.Core.Framework.Undefined.int32Value=undefined;Microsoft.Crm.Client.Core.Framework.Undefined.doubleValue=undefined;Microsoft.Crm.Client.Core.Framework.Undefined.stringValue=undefined;Microsoft.Crm.Client.Core.Framework.Undefined.objectValue=undefined;_Math.maxSignedInt32=2147483647;_Math.minSignedInt32=-2147483648;Microsoft.Crm.Client.Core.Framework._String.empty="";Microsoft.Crm.Client.Core.Framework._String._newLineExpression$p=new RegExp("[\n\r]+");HtmlEncoder._ampersand$p=new RegExp("&","g");HtmlEncoder._lessThan$p=new RegExp("<","g");HtmlEncoder._greaterThan$p=new RegExp(">","g");HtmlEncoder._apostrophe$p=new RegExp("'","g");HtmlEncoder._quotation$p=new RegExp('"',"g");HtmlEncoder._encodedAmpersand$p=new RegExp("&amp;","g");HtmlEncoder._encodedLessThan$p=new RegExp("&lt;","g");HtmlEncoder._encodedGreaterThan$p=new RegExp("&gt;","g");HtmlEncoder._encodedApostrophe$p=new RegExp("&apos;","g");HtmlEncoder._encodedQuotation$p=new RegExp("&quot;","g");Microsoft.Crm.Client.Core.Framework.Debug.$$cctor();Microsoft.Crm.Client.Core.Framework.Utils.XmlParser._textNodeName$p="#text";Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory._preferredXmlEvaluator$p=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlEvaluatorType.undefined;Type.registerNamespace("Mscrm");Mscrm.IBrowserStorage=function(){};Mscrm.IBrowserStorage.registerInterface("Mscrm.IBrowserStorage");Mscrm.CrmCrossBrowser=function(){};Mscrm.CrmCrossBrowser.get_hash=function(){return Mscrm.CrmCrossBrowser.getHash(window.self.location)};Mscrm.CrmCrossBrowser.getHash=function(n){if(!n)throw Error.argumentNull("location");var t=n.href.split("#");return t.length>1?t[1]:""};Mscrm.CrmCrossBrowser.getLocalStorage=function(n){if(!n)throw Error.argumentNull("window");return n.localStorage};Mscrm.CrmCrossBrowser.getSessionStorage=function(n){if(!n)throw Error.argumentNull("window");return n.sessionStorage};Mscrm.CrmDisposeHelper=function(){this.$3_0=[]};Mscrm.CrmDisposeHelper.prototype={schedule:function(n){if(!this.$3_0)throw Error.invalidOperation("Object is already disposed");if(!n)throw Error.argumentNull("disposeAction");Array.add(this.$3_0,n)},dispose:function(){var n,t;if(this.$3_0){for(n=this.$3_0.length-1;n>=0;n--)t=this.$3_0[n],t();this.$3_0=null}}};Type.registerNamespace("Mscrm.Imported");Type.registerNamespace("jQueryApi");jQueryApi.IActiveDeferred$2=function(){};jQueryApi.IActiveDeferred$2.$$=function(n,t){var i="IActiveDeferred$2$"+n.getName().replace(/\./g,"_")+"$"+t.getName().replace(/\./g,"_"),r;return jQueryApi[i]||(r=jQueryApi[i]=function(){},r.registerInterface("jQueryApi."+i)),jQueryApi[i]};jQueryApi.IActiveDeferred$2.registerInterface("jQueryApi.IActiveDeferred$2");jQueryApi.jQueryDeferredFactory=function(){};jQueryApi.jQueryDeferredFactory.Deferred=function(n,t,i){return i!==undefined&&i?$P_CRM.Deferred(i):$P_CRM.Deferred()};jQueryApi.jQueryDeferredFactory.fromResult=function(n,t,i){var r=jQueryApi.jQueryDeferredFactory.Deferred(n,t);return r.resolve(i),r.promise()};jQueryApi.JSTreeOptions=function(){this.$2_0=[]};jQueryApi.JSTreeOptions.prototype={$2_0:null,get_plugins:function(){return this.$2_0},set_plugins:function(n){return this.$2_0=n,n},getJSTreeConfig:function(){for(var n='{ "plugins" : [ ',r,i,u,f,e,o,t=0;t<this.$2_0.length;t++)r=this.$2_0[t],n+=t!==this.$2_0.length-1?r.$1_0+",":r.$1_0+"],";for(i=0;i<this.$2_0.length;i++){u=this.$2_0[i];n+=u.$1_0+" : { ";f=u.$0_0;for(e in f)o={key:e,value:f[e]},n+=o.key+" : "+o.value+",";n=n.substring(0,n.length-1)+"},"}return n=n.substring(0,n.length-1),n+="}",$P_CRM.parseJSON(n)}};jQueryApi.JSTreePlugin=function(){this.$0_0={}};jQueryApi.JSTreePlugin.prototype={$1_0:null,get_name:function(){return this.$1_0},set_name:function(n){return this.$1_0=n,n},get_configuration:function(){return this.$0_0},set_configuration:function(n){return this.$0_0=n,n}};jQueryApi.JSTreeCorePlugin=function(){jQueryApi.JSTreeCorePlugin.initializeBase(this);this.$1_0='"core"'};jQueryApi.JSTreeCorePlugin.prototype={get_animation:function(){return this.$0_0['"animation"'].toString()},set_animation:function(n){return this.$0_0['"animation"']=n,n},get_rightToLeft:function(){return this.$0_0['"rtl"'].toString()},set_rightToLeft:function(n){return this.$0_0['"rtl"']=n,n},get_loadOpen:function(){return this.$0_0['"load_open"'].toString()},set_loadOpen:function(n){return this.$0_0['"load_open"']=n,n},get_loadingString:function(){return this.$0_0['"strings"'].toString()},set_loadingString:function(n){return this.$0_0['"strings"']='{ "loading" :"'+this.$4_1(n)+'"}',n},$4_1:function(n){var t=new RegExp("\\\\","g"),i=new RegExp('"',"g");return n.replace(t,"\\\\").replace(i,'\\"')}};jQueryApi.JSTreeUIPlugin=function(){jQueryApi.JSTreeUIPlugin.initializeBase(this);this.$1_0='"ui"'};jQueryApi.JSTreeUIPlugin.prototype={get_selectLimit:function(){return this.$0_0['"select_limit"'].toString()},set_selectLimit:function(n){return this.$0_0['"select_limit"']=n,n},get_selectMultipleModifier:function(){return this.$0_0['"select_multiple_modifier"'].toString()},set_selectMultipleModifier:function(n){return this.$0_0['"select_multiple_modifier"']='"'+n+'"',n},get_selectRangeModifier:function(){return this.$0_0['"select_range_modifier"'].toString()},set_selectRangeModifier:function(n){return this.$0_0['"select_range_modifier"']='"'+n+'"',n},get_selectedParentClose:function(){return this.$0_0['"selected_parent_close"'].toString()},set_selectedParentClose:function(n){return this.$0_0['"selected_parent_close"']=n==="false"?n:'"'+n+'"',n},get_selectedParentOpen:function(){return this.$0_0['"selected_parent_open"'].toString()},set_selectedParentOpen:function(n){return this.$0_0['"selected_parent_open"']=n,n},get_selectPreviousOnDelete:function(){return this.$0_0['"select_prev_on_delete"'].toString()},set_selectPreviousOnDelete:function(n){return this.$0_0['"select_prev_on_delete"']=n,n},get_disableSelectingChildren:function(){return this.$0_0['"disable_selecting_children"'].toString()},set_disableSelectingChildren:function(n){return this.$0_0['"disable_selecting_children"']=n,n},get_initiallySelectedList:function(){return this.$0_0['"initially_select"'].toString()},set_initiallySelectedList:function(n){return this.$0_0['"initially_select"']="["+n+"]",n}};jQueryApi.JSTreeJsonDataPlugin=function(){jQueryApi.JSTreeJsonDataPlugin.initializeBase(this);this.$1_0='"json_data"';this.$0_0['"data"']="true"};jQueryApi.JSTreeJsonDataPlugin.prototype={get_progressiveRender:function(){return this.$0_0['"progressive_render"'].toString()},set_progressiveRender:function(n){return this.$0_0['"progressive_render"']=n,n},get_progressiveUnload:function(){return this.$0_0['"progressive_unload"'].toString()},set_progressiveUnload:function(n){return this.$0_0['"progressive_unload"']=n,n}};jQueryApi.JSTreeThemesPlugin=function(){jQueryApi.JSTreeThemesPlugin.initializeBase(this);this.$1_0='"themes"'};jQueryApi.JSTreeThemesPlugin.prototype={get_theme:function(){return this.$0_0['"theme"'].toString()},set_theme:function(n){return this.$0_0['"theme"']='"'+n+'"',n},get_icons:function(){return this.$0_0['"icons"'].toString()},set_icons:function(n){return this.$0_0['"icons"']=n,n},get_dots:function(){return this.$0_0['"dots"'].toString()},set_dots:function(n){return this.$0_0['"dots"']=n,n},get_url:function(){return this.$0_0['"url"'].toString()},set_url:function(n){return this.$0_0['"url"']='"'+n+'"',n}};jQueryApi.JSTreeHotKeysPlugin=function(){jQueryApi.JSTreeHotKeysPlugin.initializeBase(this);this.$1_0='"hotkeys"';this.$0_0['"return"']="true"};Type.registerNamespace("jQueryUIApi");jQueryUIApi.WidgetOptions=function(){};jQueryUIApi.WidgetOptions.prototype={disabled:!1,hide:!1,show:!1,create:null,isRTL:!1};jQueryUIApi.WidgetFactory=function(){};jQueryUIApi.WidgetFactory.register=function(n){var r=n.getName().split("."),u=r[0],t=r[1],f=u+"-"+t,i=n.prototype;i.widgetName=t;i.widgetEventPrefix=t;i.widgetBaseClass=f;$P_CRM.widget.bridge(t,n)};jQueryUIApi.WidgetFactory.createInstance=function(n,t,i){var u=n.getName().split("."),r=u[1],f=$P_CRM(t)[r](i);return f.data(r)};Type.registerNamespace("Navigatorgeolocation");Mscrm.CrmCrossBrowser.registerClass("Mscrm.CrmCrossBrowser");Mscrm.CrmDisposeHelper.registerClass("Mscrm.CrmDisposeHelper",null,Sys.IDisposable);jQueryApi.jQueryDeferredFactory.registerClass("jQueryApi.jQueryDeferredFactory");jQueryApi.JSTreeOptions.registerClass("jQueryApi.JSTreeOptions");jQueryApi.JSTreePlugin.registerClass("jQueryApi.JSTreePlugin");jQueryApi.JSTreeCorePlugin.registerClass("jQueryApi.JSTreeCorePlugin",jQueryApi.JSTreePlugin);jQueryApi.JSTreeUIPlugin.registerClass("jQueryApi.JSTreeUIPlugin",jQueryApi.JSTreePlugin);jQueryApi.JSTreeJsonDataPlugin.registerClass("jQueryApi.JSTreeJsonDataPlugin",jQueryApi.JSTreePlugin);jQueryApi.JSTreeThemesPlugin.registerClass("jQueryApi.JSTreeThemesPlugin",jQueryApi.JSTreePlugin);jQueryApi.JSTreeHotKeysPlugin.registerClass("jQueryApi.JSTreeHotKeysPlugin",jQueryApi.JSTreePlugin);jQueryUIApi.WidgetOptions.registerClass("jQueryUIApi.WidgetOptions");jQueryUIApi.WidgetFactory.registerClass("jQueryUIApi.WidgetFactory");Type.registerNamespace("Microsoft.Crm.Client");Microsoft.Crm.Client.DataSourceFactory=function(){};Microsoft.Crm.Client.DataSourceFactory.get_instance=function(){return Microsoft.Crm.Client.DataSourceFactory._instance$p||(Microsoft.Crm.Client.DataSourceFactory._instance$p=new Microsoft.Crm.Client.DataSourceFactory),Microsoft.Crm.Client.DataSourceFactory._instance$p};Microsoft.Crm.Client.DataSourceFactory.prototype={getChartingDataSource:function(){return new Microsoft.Crm.Client.Core.Storage.DataApi.RetrieveEntityMetadataDataSource}};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework");Microsoft.Crm.Client.Core.Framework.ChartDisplayMode=function(){};Microsoft.Crm.Client.Core.Framework.ChartDisplayMode.prototype={normal:0,error:1};Microsoft.Crm.Client.Core.Framework.ChartDisplayMode.registerEnum("Microsoft.Crm.Client.Core.Framework.ChartDisplayMode",!1);Microsoft.Crm.Client.Core.Framework.IRootModel=function(){};Microsoft.Crm.Client.Core.Framework.IRootModel.registerInterface("Microsoft.Crm.Client.Core.Framework.IRootModel");Microsoft.Crm.Client.Core.Framework.INotifyPropertyChanged=function(){};Microsoft.Crm.Client.Core.Framework.INotifyPropertyChanged.registerInterface("Microsoft.Crm.Client.Core.Framework.INotifyPropertyChanged");Microsoft.Crm.Client.Core.Framework.ITrace=function(){};Microsoft.Crm.Client.Core.Framework.ITrace.registerInterface("Microsoft.Crm.Client.Core.Framework.ITrace");Microsoft.Crm.Client.Core.Framework.IUserDateTimeUtils=function(){};Microsoft.Crm.Client.Core.Framework.IUserDateTimeUtils.registerInterface("Microsoft.Crm.Client.Core.Framework.IUserDateTimeUtils");Microsoft.Crm.Client.Core.Framework.ChartError=function(n,t){Microsoft.Crm.Client.Core.Framework.ChartError.initializeBase(this,[Microsoft.Crm.Client.Core.Framework.ChartError.typeName,t]);this.set_title(n);this.set_description(t)};Microsoft.Crm.Client.Core.Framework.ChartError.isInstanceOfType=function(n){return Microsoft.Crm.Client.Core.Framework.ErrorInfo.isInstanceOfType(n,Microsoft.Crm.Client.Core.Framework.ChartError.typeName)};Microsoft.Crm.Client.Core.Framework.ChartError.fromException=function(n){return Microsoft.Crm.Client.Core.Framework.ErrorInfo.fromException(Microsoft.Crm.Client.Core.Framework.ChartError,n,Microsoft.Crm.Client.Core.Framework.ChartError.typeName)};Microsoft.Crm.Client.Core.Framework.ChartError.prototype={get_title:function(){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ChartError._errorTitleKey$p]},set_title:function(n){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ChartError._errorTitleKey$p]=n,n},get_description:function(){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ChartError._errorDescriptionKey$p]},set_description:function(n){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ChartError._errorDescriptionKey$p]=n,n}};Microsoft.Crm.Client.Core.Framework.ChartErrorInformation=function(){};Microsoft.Crm.Client.Core.Framework.ChartErrorInformation.prototype={_errorType$p$0:null,_errorDescription$p$0:null,get_ErrorType:function(){return this._errorType$p$0},set_ErrorType:function(n){return this._errorType$p$0=n,n},get_ErrorDescription:function(){return this._errorDescription$p$0},set_ErrorDescription:function(n){return this._errorDescription$p$0=n,n}};Microsoft.Crm.Client.Core.Framework.ErrorInfo=function(n,t){Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrEmptyArgument(n,"name");this._dictionary$p$0={};this.set_errorName(n);this.set_message(n+": "+t)};Microsoft.Crm.Client.Core.Framework.ErrorInfo.isInstanceOfType=function(n,t){return!_Script.isNullOrUndefined(n)&&t===n[Microsoft.Crm.Client.Core.Framework.ErrorInfo._nameKey$p]};Microsoft.Crm.Client.Core.Framework.ErrorInfo.fromException=function(n,t,i){if(Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullArgument(t,"ex"),Microsoft.Crm.Client.Core.Framework.ErrorInfo.isInstanceOfType(t,i)){var r=new n;return r._dictionary$p$0=t,r}throw Error.argument("ex",String.format("Exception must be of type '{0}' to successfully convert.",i));};Microsoft.Crm.Client.Core.Framework.ErrorInfo.prototype={_dictionary$p$0:null,get_errorName:function(){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ErrorInfo._nameKey$p]},set_errorName:function(n){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ErrorInfo._nameKey$p]=n,n},get_message:function(){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ErrorInfo._messageKey$p]},set_message:function(n){return this.get_dictionary()[Microsoft.Crm.Client.Core.Framework.ErrorInfo._messageKey$p]=n,n},get_dictionary:function(){return this._dictionary$p$0},toException:function(){return Error.create(this.get_message(),this.get_dictionary())}};Microsoft.Crm.Client.Core.Framework.FeatureName=function(){};Microsoft.Crm.Client.Core.Framework.DictionaryWrapper=function(n){this._dictionary$p$0=n};Microsoft.Crm.Client.Core.Framework.DictionaryWrapper.prototype={_dictionary$p$0:null,get_dictionary:function(){return this._dictionary$p$0}};Microsoft.Crm.Client.Core.Framework.DisposableBase=function(){};Microsoft.Crm.Client.Core.Framework.DisposableBase.prototype={_isDisposed$p$0:!1,get_isDisposed:function(){return this._isDisposed$p$0},dispose:function(){this._isDisposed$p$0||(this.internalDispose(),this._isDisposed$p$0=!0)}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.Common");Microsoft.Crm.Client.Core.Storage.Common.IAttributeMetadata=function(){};Microsoft.Crm.Client.Core.Storage.Common.IAttributeMetadata.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.IAttributeMetadata");Microsoft.Crm.Client.Core.Storage.Common.IColumnSet=function(){};Microsoft.Crm.Client.Core.Storage.Common.IColumnSet.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.IColumnSet");Microsoft.Crm.Client.Core.Storage.Common.IEntityMetadata=function(){};Microsoft.Crm.Client.Core.Storage.Common.IEntityMetadata.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.IEntityMetadata");Microsoft.Crm.Client.Core.Storage.Common.StorageConstants=function(){};Microsoft.Crm.Client.Core.Storage.Common.EntityAttributeMetadataPair=function(n,t){this._entityMetadata$p$0=n;this._attributeMetadataCollection$p$0=t};Microsoft.Crm.Client.Core.Storage.Common.EntityAttributeMetadataPair.prototype={_entityMetadata$p$0:null,_attributeMetadataCollection$p$0:null,get_entityMetadata:function(){return this._entityMetadata$p$0},get_attributeMetadataCollection:function(){return this._attributeMetadataCollection$p$0}};Microsoft.Crm.Client.Core.Storage.Common.AllColumns=function(){};Microsoft.Crm.Client.Core.Storage.Common.AllColumns.get_instance=function(){return Microsoft.Crm.Client.Core.Storage.Common.AllColumns._instance$p||(Microsoft.Crm.Client.Core.Storage.Common.AllColumns._instance$p=new Microsoft.Crm.Client.Core.Storage.Common.AllColumns)};Microsoft.Crm.Client.Core.Storage.Common.AllColumns.prototype={get_isEmpty:function(){return!1},getDifference:function(){return new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(new Array(0))},toString:function(){return Microsoft.Crm.Client.Core.Framework._String.empty}};Microsoft.Crm.Client.Core.Storage.Common.ColumnSet=function(n){this._columns$p$0=n};Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.createFromObjectData=function(n){return new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(n.columns)};Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.prototype={_columns$p$0:null,get_columns:function(){return this._columns$p$0},get_isEmpty:function(){return!(this._columns$p$0.length>0)},getObjectData:function(){var n={};return n.columns=this._columns$p$0,n},getDifference:function(n){var u,t,r;if(Microsoft.Crm.Client.Core.Storage.Common.AllColumns.isInstanceOfType(n))return n;u=n;t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));for(var f=u.get_columns(),e=f.length,i=0;i<e;++i)r=f[i],Array.contains(this.get_columns(),r)||t.add(r);return new Microsoft.Crm.Client.Core.Storage.Common.ColumnSet(t.toArray())},toString:function(){var t="[",n;if(this._columns$p$0.length>0)for(t+=this._columns$p$0[0],n=1;n<this._columns$p$0.length-1;n++)t+=","+this._columns$p$0[n];return t+"]"}};Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter=function(n,t){this._adjusters$p$0=[];this._userDateTimeUtils$p$0=null;this._timeZoneOffsetMinutes$p$0=n;_Script.isNullOrUndefined(t)||(this._adjusters$p$0=t)};Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.get_instance=function(){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter._instance$p};Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.set_instance=function(n){return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter._instance$p=n,n};Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime=function(n){return Date.isInstanceOfType(n)||Object.prototype.toString.call(n)==="[object Date]"};Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.prototype={_timeZoneOffsetMinutes$p$0:0,_userDateTimeUtils$p$0:null,parseCurrencyValue:function(n,t,i){var r=new RegExp("\\"+t);return n=n.replace(r,Microsoft.Crm.Client.Core.Framework._String.empty),this.parseDecimalValue(n,i)},parseIntegerValue:function(n){var t=this.parseDecimalValue(n);return _Script.isNullOrUndefined(t)?Microsoft.Crm.Client.Core.Framework.Undefined.int32Value:Math.floor(t)},parseDecimalValue:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Undefined.doubleValue,u,r;return _Script.isNullOrUndefined(n)||(u=new RegExp("(\\s|"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.leftToRightMark+"|"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.rightToLeftMark+")","g"),n=n.replace(u,Microsoft.Crm.Client.Core.Framework._String.empty),r=!!(/^\(.*\)$/.test(n)^!!(/^\-/.test(n)^/\-$/.test(n))),r&&(n=n.replace(/[\(\)\-]/g,Microsoft.Crm.Client.Core.Framework._String.empty)),i=Number.parseLocale(n),isNaN(i)?i=Microsoft.Crm.Client.Core.Framework.Undefined.doubleValue:(r&&(i=-i),_Script.isNullOrUndefined(t)||(i=parseFloat(i.toFixed(t))))),i},formatIntegerValue:function(n){var i=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,t;return _Script.isNullOrUndefined(n)||(t=parseInt(n.toString()),isNaN(t)||(i=t<0?this._formatNegativeDecimal$p$0(t,0):this._formatPositiveDecimal$p$0(t,0))),i},formatDecimalValue:function(n,t){var r=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,i;return _Script.isNullOrUndefined(n)||(i=parseFloat(n.toString()),isNaN(i)||(r=i<0?this._formatNegativeDecimal$p$0(i,t):this._formatPositiveDecimal$p$0(i,t))),r},formatCurrencyValue:function(n,t,i){var u=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,r;return _Script.isNullOrUndefined(n)||(r=parseFloat(n.toString()),isNaN(r)||(u=this._formatCurrency$p$0(r,t,i))),u},formatShortDateValue:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,r;return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime(n)&&(r=this._userDateTimeUtils$p$0.formatTimeToBehaviorDisplay(n,this._timeZoneOffsetMinutes$p$0,t,this._adjusters$p$0),i=r.localeFormat("d")),i},formatLongDateValue:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,r;return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime(n)&&(r=this._userDateTimeUtils$p$0.formatTimeToBehaviorDisplay(n,this._timeZoneOffsetMinutes$p$0,t,this._adjusters$p$0),i=r.localeFormat("D")),i},formatSortableDateValue:function(n,t){var i=this.formatSortableDateTimeValue(n,t);return i.split("T")[0]},formatSortableDateTimeValue:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,r;return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime(n)&&(r=this._userDateTimeUtils$p$0.formatTimeToBehaviorDisplay(n,this._timeZoneOffsetMinutes$p$0,t,this._adjusters$p$0),i=r.localeFormat("s")),i},formatShortDateTimeValue:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue;if(Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime(n)){var r=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern,u=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortTimePattern,f=this._userDateTimeUtils$p$0.formatTimeToBehaviorDisplay(n,this._timeZoneOffsetMinutes$p$0,t,this._adjusters$p$0);i=String.localeFormat("{0:"+r+" "+u+"}",f)}return i},formatDateLongAbbreviated:function(n,t){var r=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,u,i;return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime(n)&&(u=this._userDateTimeUtils$p$0.formatTimeToBehaviorDisplay(n,this._timeZoneOffsetMinutes$p$0,t,this._adjusters$p$0),i=Sys.CultureInfo.CurrentCulture.dateTimeFormat.LongDatePattern,i=i.replace("MMMM","MMM"),i=i.replace("dddd","ddd"),r=String.localeFormat("{0:"+i+"}",u)),r},formatDateYearMonthValue:function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Undefined.stringValue,r;return Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.isDateTime(n)&&(r=this._userDateTimeUtils$p$0.formatTimeToBehaviorDisplay(n,this._timeZoneOffsetMinutes$p$0,t,this._adjusters$p$0),i=r.localeFormat("Y")),i},_formatPositiveDecimal$p$0:function(n,t){return Math.abs(n).localeFormat("N"+t.toString())},_formatNegativeDecimal$p$0:function(n,t){var i=Sys.CultureInfo.CurrentCulture.numberFormat.NumberNegativePattern;return Microsoft.Crm.Client.Core.Framework._String.format(this._getNegativeNumberFormatString$p$0(i),this._formatPositiveDecimal$p$0(n,t))},_formatCurrency$p$0:function(n,t,i){var r,u;return n<0?(r=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyNegativePattern,Microsoft.Crm.Client.Core.Framework._String.format(this._getNegativeCurrencyFormatString$p$0(r),t,this._formatPositiveDecimal$p$0(n,i))):(u=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyPositivePattern,Microsoft.Crm.Client.Core.Framework._String.format(this._getPositiveCurrencyFormatString$p$0(u),t,this._formatPositiveDecimal$p$0(n,i)))},_getNegativeNumberFormatString$p$0:function(n){switch(n){case 0:return"("+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+")";case 1:return"-"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0}";case 2:return"-"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{0}";case 3:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"-";case 4:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"-";default:return"("+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+")"}},_getPositiveCurrencyFormatString$p$0:function(n){switch(n){case 0:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{1}";case 1:return"{1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0}";case 2:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{1}";case 3:return"{1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{0}";default:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{1}"}},_getNegativeCurrencyFormatString$p$0:function(n){switch(n){case 0:return"({0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{1})";case 1:return"-{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{1}";case 2:return"{0}-{1}";case 3:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{1}-";case 4:return"({1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0})";case 5:return"-{1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0}";case 6:return"{1}-{0}";case 7:return"{1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{0}-";case 8:return"-{1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{0}";case 9:return"-{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{1}";case 10:return"{1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{0}-";case 11:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{1}-";case 12:return"{0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"-{1}";case 13:return"{1}-"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{0}";case 14:return"({0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{1})";case 15:return"({1}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace+"{0})";default:return"({0}"+Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace+"{1})"}}};Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml=function(){};Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getFetchNodeAttributeNames=function(){return["version","count","page","paging-cookie","utc-offset","aggregate","distinct","top","mapping","min-active-row-version","output-format","returntotalrecordcount"]};Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getEntityNodeAttributeNames=function(){return["name"]};Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getLinkedEntityAttributeNames=function(){return["name","from","to","visible","link-type"]};Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.mergeFetchXmlFilterExpressionXml=function(n,t){var p,i,r,e;if(!n)return null;if(Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t))return n;for(var u=Microsoft.Crm.Client.Core.Framework._String.empty,c=Microsoft.Crm.Client.Core.Framework._String.empty,l=Microsoft.Crm.Client.Core.Framework._String.empty,o=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(n),b=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(o).selectSingleNode("fetch"),a=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(o).selectSingleNode("fetch/entity"),k=!!Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(o).selectSingleNode("fetch/entity/filter"),v=a.childNodes(),f=null,d=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getFetchNodeAttributeNames(),y=d,g=y.length,s=0;s<g;++s)i=y[s],r=b.getAttribute(i),_Script.isNullOrUndefined(r)||(c+=String.format(' {0}="{1}"',i,r));p=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getEntityNodeAttributeNames();for(var w=p,nt=w.length,h=0;h<nt;++h)i=w[h],r=a.getAttribute(i),_Script.isNullOrUndefined(r)||(l+=String.format(' {0}="{1}"',i,r));for(u+="<fetch"+c+">",u+="<entity"+l+">",e=0;e<v.get_count();e++)f=v.get_item(e),u+=f.get_tagName()==="filter"?'<filter type ="and">'+f.get_outerXml()+t+"<\/filter>":f.get_outerXml();return k||(u+=t),u+"<\/entity><\/fetch>"};Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.mergeFetchXmlWithFilterExpressionXmlByEntity=function(n,t,i){var v,k,d,y,c,r,u,o,nt,tt,h,s,it,rt,ut;if(!n)return null;if(_Script.isNullOrUndefined(t))return n;for(var f=Microsoft.Crm.Client.Core.Framework._String.empty,l='<filter type ="and">',a="<\/filter>",ft=Microsoft.Crm.Client.Core.Framework._String.empty,et=Microsoft.Crm.Client.Core.Framework._String.empty,p=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(n),at=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(p).selectSingleNode("fetch"),ot=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(p).selectSingleNode("fetch/entity"),vt=!!Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(p).selectSingleNode("fetch/entity/filter"),st=ot.childNodes(),e=null,yt=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getFetchNodeAttributeNames(),ht=yt,pt=ht.length,w=0;w<pt;++w)r=ht[w],u=at.getAttribute(r),_Script.isNullOrUndefined(u)||(ft+=String.format(' {0}="{1}"',r,u));for(var wt=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getEntityNodeAttributeNames(),bt=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getLinkedEntityAttributeNames(),kt=Microsoft.Crm.Client.Core.Framework._String.empty,ct=wt,dt=ct.length,b=0;b<dt;++b)r=ct[b],u=ot.getAttribute(r),_Script.isNullOrUndefined(u)||(et+=String.format(' {0}="{1}"',r,u),r==="name"&&(kt=u));for(f+="<fetch"+ft+">",f+="<entity"+et+">",v=0;v<st.get_count();v++)if(e=st.get_item(v),e.get_tagName()!=="filter"||_Script.isNullOrUndefined(t))if(e.get_tagName()==="link-entity"){y=Microsoft.Crm.Client.Core.Framework._String.empty;c=Microsoft.Crm.Client.Core.Framework._String.empty;for(var lt=bt,gt=lt.length,g=0;g<gt;++g)r=lt[g],u=e.getAttribute(r),_Script.isNullOrUndefined(u)||(y+=String.format(' {0}="{1}"',r,u),r==="name"&&(c=u));c in t&&!Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(t[c])&&(y+=String.format(' {0}="{1}__alias"',"alias",c));f+="<link-entity"+y+">";f+=e.get_innerHtml()+"<\/link-entity>"}else f+=e.get_outerXml();else{o=Microsoft.Crm.Client.Core.Framework._String.empty;k=t;for(d in k)h={key:d,value:k[d]},s=h.value,Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(s)||(o+=l+s+a);f+=l+e.get_outerXml()+o+a}if(!vt&&!_Script.isNullOrUndefined(t)){o=Microsoft.Crm.Client.Core.Framework._String.empty;nt=t;for(tt in nt)h={key:tt,value:nt[tt]},s=h.value,Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(s)||(o+=l+s+a);f+=l+o+a}it=i;for(rt in it)ut={key:rt,value:it[rt]},ut.key in t&&(f+=ut.value);return f+"<\/entity><\/fetch>"};Type.registerNamespace("Microsoft.Crm.Client.Core.Framework.Common");Microsoft.Crm.Client.Core.Framework.Common.IFeatureEnabledContainer=function(){};Microsoft.Crm.Client.Core.Framework.Common.IFeatureEnabledContainer.registerInterface("Microsoft.Crm.Client.Core.Framework.Common.IFeatureEnabledContainer");Microsoft.Crm.Client.Core.Framework.Common.ResourceManager=function(){};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.updateResources=function(n){_Script.isNullOrUndefined(n)||(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p=n)};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.hasLocalizedString=function(n){return Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getDisplayModeDependentResourceId$p(n)in Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString=function(n){var t=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getDisplayModeDependentResourceId$p(n);return t in Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p?Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p[t]:t};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.hasErrorTitle=function(n){return Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.errorTitleIdPrefix+Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getHexErrorCode(n)in Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.hasErrorMessage=function(n){return Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.errorMessageIdPrefix+Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getHexErrorCode(n)in Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getErrorTitle=function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getErrorTitleResourceId$p(n);return String.format.apply(null,[Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString(i)].concat(t))};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getErrorMessage=function(n,t){var i=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getErrorMessageResourceId$p(n);return i in Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p?_Script.isNullOrUndefined(t)?Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString(i):String.format.apply(null,[Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString(i)].concat(t)):String.format.apply(null,[Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.defaultErrorMessageId),"0x"+n.toString(16)].concat(t))};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getErrorMessageFromErrorStatus=function(n){return n.get_errorCode()!==Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.isvAborted||_Script.isNullOrUndefined(n.get_message())?Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getErrorMessage(n.get_errorCode()):n.get_message()};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getErrorTitleResourceId$p=function(n){if(_Script.isNullOrUndefined(n))return Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.defaultErrorTitleId;var t=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.errorTitleIdPrefix+Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getHexErrorCode(n);return t in Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p||(t=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.defaultErrorTitleId),t};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getErrorMessageResourceId$p=function(n){return Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.errorMessageIdPrefix+Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getHexErrorCode(n)};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getHexErrorCode=function(n){var t=n;return t<0&&(t=t+4294967295+1),t.toString(16)};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._getDisplayModeDependentResourceId$p=function(n){return n};Type.registerNamespace("Microsoft.Crm.Client.Core.Models");Microsoft.Crm.Client.Core.Models.ChartTitle=function(){this.Text=Microsoft.Crm.Client.Core.Framework._String.empty;this.HorizontalAlignment="center";this.VerticalAlignment=null};Microsoft.Crm.Client.Core.Models.DataLabels=function(){this.Enabled=!1;this.X=0;this.Y=0;this.Align="left";this.VerticalAlign="middle";this.LabelFormatter=null};Microsoft.Crm.Client.Core.Models.DataPoint=function(){this.Value=0;this.FormattedValue=null;this.Aggregators=null};Microsoft.Crm.Client.Core.Models.Legend=function(){this.Enabled=!1;this.Floating=!1};Microsoft.Crm.Client.Core.Models.Series=function(){this.DataPoints=null;this.dataLabels=null;this.ChartType="line";this.YAxisNumber=0;this.XAxisNumber=0;this.Title=Microsoft.Crm.Client.Core.Framework._String.empty;this.Color=Microsoft.Crm.Client.Core.Framework._String.empty;this.BorderColor=Microsoft.Crm.Client.Core.Framework._String.empty;this.BorderWidth=0;this.CustomProperties=null};Microsoft.Crm.Client.Core.Models.XAxis=function(){this.Values=null;this.Title=Microsoft.Crm.Client.Core.Framework._String.empty};Microsoft.Crm.Client.Core.Models.YAxis=function(){this.Title=Microsoft.Crm.Client.Core.Framework._String.empty};Microsoft.Crm.Client.Core.Models.IModel=function(){};Microsoft.Crm.Client.Core.Models.IModel.registerInterface("Microsoft.Crm.Client.Core.Models.IModel");Microsoft.Crm.Client.Core.Models.IEntityRecordContainer=function(){};Microsoft.Crm.Client.Core.Models.IEntityRecordContainer.registerInterface("Microsoft.Crm.Client.Core.Models.IEntityRecordContainer");Microsoft.Crm.Client.Core.Models.IRecordCollectionModel=function(){};Microsoft.Crm.Client.Core.Models.IRecordCollectionModel.registerInterface("Microsoft.Crm.Client.Core.Models.IRecordCollectionModel");Microsoft.Crm.Client.Core.Models.DataPointAggregator=function(){Microsoft.Crm.Client.Core.Models.DataPointAggregator.initializeBase(this)};Microsoft.Crm.Client.Core.Models.DataPointAggregator.prototype={Value:null};Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase=function(){};Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase.prototype={FieldName:null};Microsoft.Crm.Client.Core.Models.DataPointDateTimeRangeAggregator=function(){Microsoft.Crm.Client.Core.Models.DataPointDateTimeRangeAggregator.initializeBase(this)};Microsoft.Crm.Client.Core.Models.DataPointDateTimeRangeAggregator.prototype={MinDate:null,MaxDate:null};Microsoft.Crm.Client.Core.Models.DataPointFiscalPeriodAggregator=function(){Microsoft.Crm.Client.Core.Models.DataPointFiscalPeriodAggregator.initializeBase(this)};Microsoft.Crm.Client.Core.Models.DataPointFiscalPeriodAggregator.prototype={FiscalType:null,Year:0,Period:0};Microsoft.Crm.Client.Core.Models.DataPointFiscalYearAggregator=function(){Microsoft.Crm.Client.Core.Models.DataPointFiscalYearAggregator.initializeBase(this)};Microsoft.Crm.Client.Core.Models.DataPointFiscalYearAggregator.prototype={FiscalType:null,Year:0};Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer=function(){this._dateRangeAggregatorPrecision$p$0=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year;this._dataPointAggregators$p$0=new Array(0)};Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer._daysInMonth$p=function(n,t){return new Date(n,t,0).getDate()};Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer.prototype={_dateTimeAggregatorDay$p$0:0,_dateTimeAggregatorWeek$p$0:0,_dateTimeAggregatorMonth$p$0:0,_dateTimeAggregatorYear$p$0:0,_dateTimeAggregatorFieldName$p$0:null,_dataPointFiscalPeriodAggregator$p$0:null,_dataPointFiscalYearAggregator$p$0:null,addAggregator:function(n,t,i){if(i>=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day&&i<Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod)this._addDateTimeRangeAggregatorPart$p$0(n,t,i);else if(i===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod)this._addDataPointFiscalPeriodAggregator$p$0(n,t);else if(i===Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear)this._addDataPointFiscalYearAggregator$p$0(n,t);else{var r=new Microsoft.Crm.Client.Core.Models.DataPointAggregator;r.FieldName=n;r.Value=t?Object.getType(t)===Xrm.Objects.EntityReference?t.Id.toString():Object.getType(t).implementsInterface(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata)?t.get_value().toString():t.toString():null;this._dataPointAggregators$p$0[this._dataPointAggregators$p$0.length]=r}},_addDataPointFiscalPeriodAggregator$p$0:function(n,t){if(this._dataPointFiscalPeriodAggregator$p$0)throw Error.create("only one Fiscal period aggregator is supported");else{if(!t)return;this._dataPointFiscalPeriodAggregator$p$0=new Microsoft.Crm.Client.Core.Models.DataPointFiscalPeriodAggregator;this._dataPointFiscalPeriodAggregator$p$0.FiscalType="in-fiscal-period-and-year";this._dataPointFiscalPeriodAggregator$p$0.FieldName=n;Microsoft.Crm.Client.Core.Framework.Debug.assert(Object.getType(t)===String,"value should be string");Microsoft.Crm.Client.Core.Framework.Debug.assert(t.indexOf("-")>0,"value should have 2013-2 format");var i=t.split("-");this._dataPointFiscalPeriodAggregator$p$0.Year=Number.parseInvariant(i[0]);this._dataPointFiscalPeriodAggregator$p$0.Period=Number.parseInvariant(i[1])}},_addDataPointFiscalYearAggregator$p$0:function(n,t){if(this._dataPointFiscalYearAggregator$p$0)throw Error.create("only one Fiscal year aggregator is supported");else this._dataPointFiscalYearAggregator$p$0=new Microsoft.Crm.Client.Core.Models.DataPointFiscalYearAggregator,this._dataPointFiscalYearAggregator$p$0.FiscalType="in-fiscal-year",this._dataPointFiscalYearAggregator$p$0.FieldName=n,Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(t),"value should not be null"),Microsoft.Crm.Client.Core.Framework.Debug.assert(Object.getType(t)===Number,"value should be int"),this._dataPointFiscalYearAggregator$p$0.Year=t},_addDateTimeRangeAggregatorPart$p$0:function(n,t,i){if(this._dateTimeAggregatorFieldName$p$0){if(this._dateTimeAggregatorFieldName$p$0!==n)throw Error.create("only one DateTime aggregator is supported");}else this._dateTimeAggregatorFieldName$p$0=n;switch(i){case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day:this._dateTimeAggregatorDay$p$0=t;break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week:this._dateTimeAggregatorWeek$p$0=t;break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month:this._dateTimeAggregatorMonth$p$0=t;break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter:this._dateTimeAggregatorMonth$p$0=3*t;break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year:this._dateTimeAggregatorYear$p$0=t;break;default:throw Error.create("not supported");}this._dateRangeAggregatorPrecision$p$0=Math.min(i,this._dateRangeAggregatorPrecision$p$0)},_getDateOfWeekSunday$p$0:function(n,t){var i=new Date(t,0,1+(n-1)*7),r=i;return r.setDate(i.getDate()-i.getDay()),r},_getDataPointDateTimeRangeAggregator$p$0:function(){var n,t;if(!this._dateTimeAggregatorFieldName$p$0||!this._dateTimeAggregatorYear$p$0)return null;n=new Microsoft.Crm.Client.Core.Models.DataPointDateTimeRangeAggregator;n.FieldName=this._dateTimeAggregatorFieldName$p$0;this._dateTimeAggregatorDay$p$0=this._dateTimeAggregatorDay$p$0?this._dateTimeAggregatorDay$p$0:Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer._daysInMonth$p(this._dateTimeAggregatorYear$p$0,this._dateTimeAggregatorMonth$p$0);this._dateTimeAggregatorMonth$p$0=this._dateTimeAggregatorMonth$p$0?this._dateTimeAggregatorMonth$p$0:12;n.MaxDate=new Date(this._dateTimeAggregatorYear$p$0,this._dateTimeAggregatorMonth$p$0-1,this._dateTimeAggregatorDay$p$0);switch(this._dateRangeAggregatorPrecision$p$0){case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day:n.MaxDate.setDate(n.MaxDate.getDate()+(n.MaxDate.getTimezoneOffset()<0?1:0));n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth(),n.MaxDate.getDate());break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week:t=this._getDateOfWeekSunday$p$0(this._dateTimeAggregatorWeek$p$0+1,this._dateTimeAggregatorYear$p$0);t.setDate(t.getDate()-1);n.MaxDate=t;n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth(),n.MaxDate.getDate()-6);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month:n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth()-1,Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer._daysInMonth$p(this._dateTimeAggregatorYear$p$0,n.MaxDate.getMonth())+1);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter:n.MinDate=new Date(n.MaxDate.getFullYear(),n.MaxDate.getMonth()-3,Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer._daysInMonth$p(this._dateTimeAggregatorYear$p$0,n.MaxDate.getMonth()-2)+1);n.MaxDate.getTimezoneOffset()<0&&(n.MaxDate.setDate(n.MaxDate.getDate()+1),n.MinDate.setDate(n.MinDate.getDate()+1));break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year:n.MaxDate.setDate(n.MaxDate.getDate()+(n.MaxDate.getTimezoneOffset()<0?1:0));n.MinDate=new Date(n.MaxDate.getFullYear()-1,n.MaxDate.getMonth(),n.MaxDate.getDate()+1);break;default:throw Error.create("not supported");}return n},getAggregators:function(){var n=this._dataPointAggregators$p$0,t=this._getDataPointDateTimeRangeAggregator$p$0();return t&&(n=n.concat(t)),this._dataPointFiscalPeriodAggregator$p$0&&(n=n.concat(this._dataPointFiscalPeriodAggregator$p$0)),this._dataPointFiscalYearAggregator$p$0&&(n=n.concat(this._dataPointFiscalYearAggregator$p$0)),n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Models.Chart");Microsoft.Crm.Client.Core.Models.Chart.ChartCategory=function(n,t){var r,i;for(this._chartDataDefinition$p$0=t,this._measureCollections$p$0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureCollectionInfo)),this._primaryGroupByAlias$p$0=n.getAttribute("alias"),this._primaryGroupBy$p$0=null,r=n.selectNodes("measurecollection"),i=0;i<r.get_count();i++)this._measureCollections$p$0.add(new Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureCollectionInfo(r.get_item(i),this._chartDataDefinition$p$0,this))};Microsoft.Crm.Client.Core.Models.Chart.ChartCategory.prototype={_primaryGroupByAlias$p$0:null,_primaryGroupBy$p$0:null,_measureCollections$p$0:null,_chartDataDefinition$p$0:null,get_primaryGroupByAlias:function(){return this._primaryGroupByAlias$p$0},get_measureCollections:function(){return this._measureCollections$p$0},get_primaryGroupBy:function(){return this._primaryGroupBy$p$0},set_primaryGroupBy:function(n){return this._primaryGroupBy$p$0=n,n}};Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription=function(){this._metadataPairCollection$p$0={};this._eventHandlers$p$0=new Sys.EventHandlerList;this._allAttributeNamesByEntity$p$0={};this._groupByList$p$0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression));this._allMeasureInfo$p$0={};this._allAttributes$p$0={};this._chartingDataSource$p$0=Microsoft.Crm.Client.DataSourceFactory.get_instance().getChartingDataSource()};Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription.prototype={_dataXmlDoc$p$0:null,_category$p$0:null,_isComparisonChart$p$0:!1,_entityExpression$p$0:null,_groupByList$p$0:null,_allMeasureInfo$p$0:null,_hasOrderBy$p$0:!1,_parserData$p$0:null,_eventHandlers$p$0:null,_allAttributeNamesByEntity$p$0:null,_allAttributes$p$0:null,_chartingDataSource$p$0:null,get_entityExpression:function(){return this._entityExpression$p$0},get_category:function(){return this._category$p$0},get_allMeasureInfo:function(){return this._allMeasureInfo$p$0},get_groupByList:function(){return this._groupByList$p$0},get_allAttributeNamesByEntity:function(){return this._allAttributeNamesByEntity$p$0},add_onDataDefinitionReady:function(n){this._eventHandlers$p$0.addHandler(Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription.onDataDefinitionReadyEventName,n)},remove_onDataDefinitionReady:function(n){this._eventHandlers$p$0.removeHandler(Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription.onDataDefinitionReadyEventName,n)},get_isOrderPresent:function(){var t,n;if(this._entityExpression$p$0.get_orderByAttributes().length>0)return!0;for(t=this._entityExpression$p$0.get_linkedEntities(),n=0;n<t.length;n++)if(t[n].get_orderByAttributes().length>0)return!0;return!1},get_categoryColumns:function(){var i=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression)),t,r,n;if(this._category$p$0.get_primaryGroupBy())for(this._category$p$0.get_primaryGroupBy().get_groupAttribute().get_name()!==this._category$p$0.get_primaryGroupBy().get_groupAttribute().get_entity().get_metadataPair().get_entityMetadata().get_primaryIdAttribute()&&i.add(this._category$p$0.get_primaryGroupBy().get_groupAttribute()),n=0;n<this._category$p$0.get_primaryGroupBy().get_extendedGroupBys().get_Count();n++)i.add(this._category$p$0.get_primaryGroupBy().get_extendedGroupBys().get_item(n));else for(n=0;n<this._entityExpression$p$0.get_attributes().length;n++)t=this._entityExpression$p$0.get_attributes()[n],r=t.get_aliasName()?t.get_aliasName():t.get_name(),r in this.get_allMeasureInfo()||i.add(t);return i},get_allAttributes:function(){return this._allAttributes$p$0},get_isComparisonChart:function(){return this._isComparisonChart$p$0},get_metadataPairCollection:function(){return this._metadataPairCollection$p$0},get__callingContext$p$0:function(){return Microsoft.Crm.Client.Core.Framework.DefaultContext.tryCreate(Microsoft.Crm.Client.Core.Framework._String.empty,"ChartDataDefinitionDescription")},get_chartingDataSource:function(){return this._chartingDataSource$p$0},parserDataDefinition:function(n){this._parserData$p$0=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ChartDataDefinitionDescription:ParserDataDescription");this._parserData$p$0.start();this._dataXmlDoc$p$0=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(n);this._validateDataDescription$p$0(this._dataXmlDoc$p$0);this._entityExpression$p$0=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression(null);var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(this._dataXmlDoc$p$0).selectSingleNode("datadefinition/fetchcollection/fetch");this._entityExpression$p$0.initialize(t);this._buildMeasureInformationFromFetch$p$0(this._entityExpression$p$0)},_validateDataDescription$p$0:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(n).selectSingleNode("Error");if(t)throw new Microsoft.Crm.Client.Core.Framework.ChartError(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_UnreadableDefinition_Title"),Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_UnreadableDefinition_Message")).toException();},buildCategory:function(){this._buildChartMeasures$p$0();this._isComparisonChart$p$0=this._category$p$0.get_measureCollections().get_item(0).get_secondaryGroupBys().get_Count()>0},retrieveEntityMetadataDeferred:function(){var i=[],r=this._allAttributeNamesByEntity$p$0,n,t;for(n in r)t={key:n,value:r[n]},t.key in this._metadataPairCollection$p$0||Array.add(i,this._retrieveEntityMetadata$p$0(t.key));return i},setMetadata:function(n){var t,i;if(n)for(t=0;t<n.length;t++)i=n[t],this._metadataPairCollection$p$0[i.get_logicalName()]=new Microsoft.Crm.Client.Core.Storage.Common.EntityAttributeMetadataPair(i,new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadataCollection(i.get_logicalName()));this._setMetadataForEntityExpression$p$0(this._entityExpression$p$0,this._metadataPairCollection$p$0)},_setMetadataForEntityExpression$p$0:function(n,t){var r,i;if(n.get_entityName()in t)n.set_metadataPair(t[n.get_entityName()]);else throw Error.format("Entity metadata missed!");for(r=n.get_linkedEntities(),i=0;i<r.length;i++)this._setMetadataForEntityExpression$p$0(r[i],t)},retrieveAttributeMetadataDeferred:function(){var r=[],u=this._allAttributeNamesByEntity$p$0,t,i,o;for(t in u){var f={key:t,value:u[t]},n=new Array(0),s=f.value,e=s;for(i in e)o={key:i,value:e[i]},n[n.length]=o.value.get_name();n.length>0&&Array.add(r,this._retrieveAttributeMetadata$p$0(f.key,n))}return r},_retrieveEntityMetadata$p$0:function(n){var t=Microsoft.Crm.Client.Core.Imported.MscrmComponents.deferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.IEntityMetadata,Microsoft.Crm.Client.Core.Framework.ErrorStatus),i=this,r=this;return this._chartingDataSource$p$0.retrieveEntityMetadata(n,this.get__callingContext$p$0()).then(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise()},_retrieveAttributeMetadata$p$0:function(n,t){var i=Microsoft.Crm.Client.Core.Imported.MscrmComponents.deferredPromiseFactory(Microsoft.Crm.Client.Core.Framework.CallbackSafeArray$1.$$(Microsoft.Crm.Client.Core.Storage.Common.IAttributeMetadata),Microsoft.Crm.Client.Core.Framework.ErrorStatus),r=this,u=this;return this._chartingDataSource$p$0.retrieveMultipleAttributeMetadata(new Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery(n,t),this.get__callingContext$p$0()).then(function(n){i.resolve(n)},function(n){i.reject(n)}),i.promise()},_buildMeasureInformationFromFetch$p$0:function(n){var u=n.get_entityName(),r,f,t,e,i;for((u in this._allAttributeNamesByEntity$p$0)?r=this._allAttributeNamesByEntity$p$0[u]:(r={},this._allAttributeNamesByEntity$p$0[u]=r),f=n.get_attributes(),i=0;i<f.length;i++)t=f[i],r[t.get_name()]=t,e=t.get_aliasName()?t.get_aliasName():t.get_name(),this._allAttributes$p$0[e]=t,t.get_hasGroupBy()?this._groupByList$p$0.add(t):this._allMeasureInfo$p$0[this._getAliasName$p$0(t)]=new Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureInfo(t,this._groupByList$p$0);for(i=0;i<n.get_linkedEntities().length;i++)this._buildMeasureInformationFromFetch$p$0(n.get_linkedEntities()[i]);this._hasOrderBy$p$0=this._hasOrderBy$p$0||n.get_orderByAttributes().length>0},_getAliasName$p$0:function(n){return n.get_aliasName()?n.get_aliasName():n.get_name()},_buildChartMeasures$p$0:function(){var n=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(this._dataXmlDoc$p$0).selectSingleNode("datadefinition/categorycollection/category");Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNull(n),"data xml missing category node!");this._category$p$0=new Microsoft.Crm.Client.Core.Models.Chart.ChartCategory(n,this)}};Microsoft.Crm.Client.Core.Models.Chart.ChartDataQueryDecorator=function(n,t){if(this._dataDefinition$p$0=new Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription,this._dataDefinition$p$0.parserDataDefinition(n),!_Script.isNullOrUndefined(t)){this._viewDefinition$p$0=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression(null);var i=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(t),r=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(i).selectSingleNode("fetch");this._viewDefinition$p$0.initialize(r)}};Microsoft.Crm.Client.Core.Models.Chart.ChartDataQueryDecorator.prototype={_dataDefinition$p$0:null,_viewDefinition$p$0:null,get_dataDefinition:function(){return this._dataDefinition$p$0},get_fetchXml:function(){return this._dataDefinition$p$0.get_entityExpression().get_fetchXml()},get_viewXml:function(){return _Script.isNullOrUndefined(this._viewDefinition$p$0)?null:this._viewDefinition$p$0.get_fetchXml()},setupAggregationQueries:function(){var i,t,n,r,u;if(this.get_dataDefinition().buildCategory(),i=this._viewDefinition$p$0,!this._dataDefinition$p$0.get_isOrderPresent()&&i.get_orderByAttributes().length>0)if(t=i.get_orderByAttributes()[0],n=this._dataDefinition$p$0.get_entityExpression(),n.get_hasAggregate()){for(r=0;r<n.get_groupByAttributes().length;r++)if(u=n.get_groupByAttributes()[r],u.get_name()===t.get_name()){n.insertOrderBy(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(u.get_name(),u.get_aliasName(),n),!0,t.get_descending(),-1);break}}else n.insertOrderBy(new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(t.get_name(),t.get_aliasName(),n),!1,t.get_descending(),-1);i.removeAllAttributesAndOrders()},getEntityFetchXmlWithAliasSet:function(n){for(var ut=this._dataDefinition$p$0.get_entityExpression().get_fetchXml(),r=Microsoft.Crm.Client.Core.Framework._String.empty,p=Microsoft.Crm.Client.Core.Framework._String.empty,w=Microsoft.Crm.Client.Core.Framework._String.empty,b=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(ut),ft=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(b).selectSingleNode("fetch"),k=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(b).selectSingleNode("fetch/entity"),d=k.childNodes(),u=null,et=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getFetchNodeAttributeNames(),nt,tt,c,f,e,o,t,i,a,v,y,g=et,ot=g.length,s=0;s<ot;++s)t=g[s],i=ft.getAttribute(t),_Script.isNullOrUndefined(i)||(p+=String.format(' {0}="{1}"',t,i));nt=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getEntityNodeAttributeNames();tt=Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.getLinkedEntityAttributeNames();for(var it=nt,st=it.length,h=0;h<st;++h)t=it[h],i=k.getAttribute(t),_Script.isNullOrUndefined(i)||(w+=String.format(' {0}="{1}"',t,i));for(r+="<fetch"+p+">",r+="<entity"+w+">",c=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=0;f<d.get_count();f++)if(u=d.get_item(f),u.get_tagName()==="link-entity"){e=Microsoft.Crm.Client.Core.Framework._String.empty;o=Microsoft.Crm.Client.Core.Framework._String.empty;for(var rt=tt,ht=rt.length,l=0;l<ht;++l)t=rt[l],i=u.getAttribute(t),_Script.isNullOrUndefined(i)||(e+=String.format(' {0}="{1}"',t,i),t==="name"&&(o=i,c.add(o)));e+=String.format(' {0}="{1}__alias"',"alias",o);r+="<link-entity"+e+">";r+=Microsoft.Crm.Client.Core.Framework.Utils.XmlParser.getInnerXml(u)+"<\/link-entity>"}else r+=u.get_outerXml();a=n;for(v in a)y={key:v,value:a[v]},c.contains(y.key)||(r+=y.value);return r+"<\/entity><\/fetch>"}};Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy=function(n,t){this._attribute$p$0=n;this._extendedGroupBys$p$0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression));this._chartDefinition$p$0=t;this._addExtendedGroupBys$p$0();this._initializeOrderType$p$0()};Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy.createGroupByFromEntity=function(n,t){var i;return n.get_hasAggregate()?null:(i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(n.get_metadataPair().get_entityMetadata().get_primaryIdAttribute(),null,n),n.insertAttributeNode(i.get_name(),null),n.get_attributes()[n.get_attributes().length]=i,n.get_attributesByName()[i.get_name()]=i,n.get_entityName()in t.get_allAttributeNamesByEntity()&&(t.get_allAttributeNamesByEntity()[n.get_entityName()][i.get_name()]=i),new Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy(i,t))};Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy.prototype={_attribute$p$0:null,_chartDefinition$p$0:null,_hasOrder$p$0:!1,_descending$p$0:!1,_extendedGroupBys$p$0:null,get_groupAttribute:function(){return this._attribute$p$0},get_extendedGroupBys:function(){return this._extendedGroupBys$p$0},_initializeOrderType$p$0:function(){for(var i=this._attribute$p$0.get_entity().get_orderByAttributes(),t,n=0;n<i.length;++n)if(t=i[n],t.get_aliasName()===this._attribute$p$0.get_aliasName()){this._hasOrder$p$0=!0;this._descending$p$0=t.get_descending();return}},_addExtendedGroupBys$p$0:function(){this._addPrimaryFieldGroupByForPrimaryKey$p$0();this._addDateGroupBys$p$0()},_addDateGroupBys$p$0:function(){var n,t,i,r;if(null!==this._attribute$p$0.get_dateTimeGrouping()){for(n=-1,t=this._attribute$p$0.get_entity().get_orderByAttributes(),i=0;i<t.length;++i)if(r=t[i],r.get_aliasName()===this._attribute$p$0.get_aliasName()){n=i;this._hasOrder$p$0=!0;this._descending$p$0=r.get_descending();break}n===-1&&(this._attribute$p$0.get_entity().insertOrderBy(this._attribute$p$0,!0,!1,t.length),n=t.length-1,this._hasOrder$p$0=!0,this._descending$p$0=!1);switch(this._attribute$p$0.get_dateTimeGrouping().get_groupingType()){case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear:case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod:case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year:return;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week:case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month:case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter:this._addGroupingAndOrder$p$0(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year,this._descending$p$0,n);break;case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day:this._addGroupingAndOrder$p$0(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month,this._descending$p$0,n);this._addGroupingAndOrder$p$0(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year,this._descending$p$0,n)}}},_addPrimaryFieldGroupByForPrimaryKey$p$0:function(){var n=this._attribute$p$0.get_entity(),t,i,r;if(this._attribute$p$0.get_name()===n.get_metadataPair().get_entityMetadata().get_primaryIdAttribute()&&n.get_metadataPair().get_entityMetadata().get_primaryNameAttribute()){if(t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(n.get_metadataPair().get_entityMetadata().get_primaryNameAttribute(),Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression.generateUniqueAliasName(n.get_entityName(),n.get_metadataPair().get_entityMetadata().get_primaryNameAttribute()),n),this._attribute$p$0.get_hasGroupBy()){for(i=0;i<n.get_groupByAttributes().length;i++)if(r=n.get_groupByAttributes()[i],r.get_name()===n.get_metadataPair().get_entityMetadata().get_primaryNameAttribute()){this._extendedGroupBys$p$0.add(r);return}t.set_hasGroupBy(!0);n.insertAttributeNode(t.get_name(),t.get_aliasName(),"true",null,null,null);n.get_groupByAttributes()[n.get_groupByAttributes().length]=t}else n.insertAttributeNode(t.get_name(),t.get_aliasName(),null,null,null,null);n.get_attributes()[n.get_attributes().length]=t;n.get_attributesByName()[t.get_aliasName()]=t;n.get_entityName()in this._chartDefinition$p$0.get_allAttributeNamesByEntity()&&(this._chartDefinition$p$0.get_allAttributeNamesByEntity()[n.get_entityName()][t.get_name()]=t);this._extendedGroupBys$p$0.add(t)}},_addGroupingAndOrder$p$0:function(n,t,i){var r=this._attribute$p$0.get_entity(),u=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(this._attribute$p$0.get_name(),Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression.generateUniqueAliasName(r.get_entityName(),this._attribute$p$0.get_name()),r,new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo(n));u.set_hasGroupBy(!0);r.get_groupByAttributes()[r.get_groupByAttributes().length]=u;r.get_attributes()[r.get_attributes().length]=u;r.get_attributesByName()[u.get_aliasName()]=u;r.insertOrderBy(u,!0,t,i);r.insertAttributeNode(u.get_name(),u.get_aliasName(),"true",null,Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fromGroupingTypeToName(n),"true");this._extendedGroupBys$p$0.add(u)},get_hasOrder:function(){return this._hasOrder$p$0},get_descending:function(){return this._descending$p$0}};Microsoft.Crm.Client.Core.Models.Chart.ChartMeasure=function(n,t,i,r){var f=n.getAttribute("alias"),u=t.get_allMeasureInfo()[f];this._measureAttribute$p$0=u.get_attributeExpression();this._parentMeasureCollection$p$0=i;this._parentCategory$p$0=r;this._initializeGroupBys$p$0(u,t)};Microsoft.Crm.Client.Core.Models.Chart.ChartMeasure.prototype={_measureAttribute$p$0:null,_resultAliasName$p$0:null,_parentMeasureCollection$p$0:null,_parentCategory$p$0:null,get_measureAttribute:function(){return this._measureAttribute$p$0},get_resultAliasName:function(){return this._resultAliasName$p$0},get_parentCategory:function(){return this._parentCategory$p$0},get_parentMeasureCollection:function(){return this._parentMeasureCollection$p$0},_initializeGroupBys$p$0:function(n,t){var r,i,u;if(null===this._parentCategory$p$0.get_primaryGroupBy())if(null===n.get_groupByList()||n.get_groupByList().get_Count()<=0)this._parentCategory$p$0.set_primaryGroupBy(Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy.createGroupByFromEntity(n.get_attributeExpression().get_entity(),t));else if(this._parentCategory$p$0.get_primaryGroupByAlias()){for(i=0;i<n.get_groupByList().get_Count();i++)if(r=n.get_groupByList().get_item(i),r.get_aliasName()===this._parentCategory$p$0.get_primaryGroupByAlias()){this._parentCategory$p$0.set_primaryGroupBy(new Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy(r,t));break}}else this._parentCategory$p$0.set_primaryGroupBy(new Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy(n.get_groupByList().get_item(0),t));if(null===this._parentMeasureCollection$p$0.get_secondaryGroupBys()&&(this._parentMeasureCollection$p$0.set_secondaryGroupBys(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy))),null!==n.get_groupByList()&&n.get_groupByList().get_Count()>1))for(i=0;i<n.get_groupByList().get_Count();++i)u=n.get_groupByList().get_item(i),u!==this._parentCategory$p$0.get_primaryGroupBy().get_groupAttribute()&&this._parentMeasureCollection$p$0.get_secondaryGroupBys().add(new Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy(u,t))}};Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureCollectionInfo=function(n,t,i){this._measures$p$0=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.Chart.ChartMeasure));this._chartDataDefinition$p$0=t;this._measures$p$0.add(new Microsoft.Crm.Client.Core.Models.Chart.ChartMeasure(n.selectSingleNode("measure"),this._chartDataDefinition$p$0,this,i))};Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureCollectionInfo.prototype={_measures$p$0:null,_chartDataDefinition$p$0:null,_secondaryGroupBys$p$0:null,get_measures:function(){return this._measures$p$0},get_secondaryGroupBys:function(){return this._secondaryGroupBys$p$0},set_secondaryGroupBys:function(n){return this._secondaryGroupBys$p$0=n,n}};Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureInfo=function(n,t){this._attributeExpression$p$0=n;this._groupByList$p$0=t};Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureInfo.prototype={_groupByList$p$0:null,_attributeExpression$p$0:null,get_attributeExpression:function(){return this._attributeExpression$p$0},get_groupByList:function(){return this._groupByList$p$0}};Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel=function(){this._displayMode$p$0=0};Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel.prototype={_title$p$0:null,_legend$p$0:null,_xAxes$p$0:null,_yAxes$p$0:null,_seriesList$p$0:null,_subTitle$p$0:null,_colors$p$0:null,_errorInformation$p$0:null,_enableDrilldown$p$0:!0,get_SubTitle:function(){return this._subTitle$p$0},set_SubTitle:function(n){return this._subTitle$p$0=n,n},get_Title:function(){return this._title$p$0},set_Title:function(n){return this._title$p$0=n,n},get_Legend:function(){return this._legend$p$0},set_Legend:function(n){return this._legend$p$0=n,n},get_XAxes:function(){return this._xAxes$p$0},set_XAxes:function(n){return this._xAxes$p$0=n,n},get_YAxes:function(){return this._yAxes$p$0},set_YAxes:function(n){return this._yAxes$p$0=n,n},get_SeriesList:function(){return this._seriesList$p$0},set_SeriesList:function(n){return this._seriesList$p$0=n,n},get_Colors:function(){return this._colors$p$0},set_Colors:function(n){return this._colors$p$0=n,n},get_displayMode:function(){return this._displayMode$p$0},set_displayMode:function(n){return this._displayMode$p$0=n,n},get_errorInformation:function(){return this._errorInformation$p$0},set_errorInformation:function(n){return this._errorInformation$p$0=n,n},get_enableDrilldown:function(){return this._enableDrilldown$p$0},set_enableDrilldown:function(n){return this._enableDrilldown$p$0=n,n}};Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel._chartQueryType=function(){};Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel._chartQueryType.prototype={queryFromDirectFetch:0,queryFromIds:1};Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel._chartQueryType.registerEnum("Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel._chartQueryType",!1);Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights.prototype={none:0,canCreate:1,canRead:2,canUpdate:4};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights.registerEnum("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights",!0);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeSourceType=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeSourceType.prototype={unknown:-1,persistent:0,calculated:1,rollup:2};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeSourceType.registerEnum("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeSourceType",!1);Type.registerNamespace("Xrm.Objects");Xrm.Objects.AttributeType=function(){};Xrm.Objects.AttributeType.prototype={unknown:-1,boolean:0,customer:1,dateTime:2,decimal:3,double:4,integer:5,lookup:6,memo:7,money:8,owner:9,partyList:10,picklist:11,state:12,status:13,string:14,uniqueIdentifier:15,calendarRules:16,virtual:17,bigInt:18,managedProperty:19,entityName:20,aliasedValue:21,arrayOfString:22};Xrm.Objects.AttributeType.registerEnum("Xrm.Objects.AttributeType",!1);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.MoneyPrecisionSource=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.MoneyPrecisionSource.prototype={attribute:0,organization:1,currency:2};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.MoneyPrecisionSource.registerEnum("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.MoneyPrecisionSource",!1);Type.registerNamespace("Xrm.Gen");Xrm.Gen.PrivilegeType=function(){};Xrm.Gen.PrivilegeType.prototype={none:0,create:1,read:2,write:3,Delete:4,assign:5,share:6,append:7,appendTo:8};Xrm.Gen.PrivilegeType.registerEnum("Xrm.Gen.PrivilegeType",!1);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RequiredLevel=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RequiredLevel.prototype={unknown:-1,none:0,systemRequired:1,applicationRequired:2,recommended:3};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RequiredLevel.registerEnum("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.RequiredLevel",!1);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IApplicationMetadata=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IApplicationMetadata.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IApplicationMetadata");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingAttributeMetaData=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingAttributeMetaData.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingAttributeMetaData");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaData=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaData.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaData");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaDataAggregator=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaDataAggregator.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaDataAggregator");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IEntityRecord=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IEntityRecord.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IEntityRecord");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata=function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(n,"logicalName");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(t,"id");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(r,"type");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(h,"requiredLevel");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(f,"isSecured");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(e,"isValidForCreate");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(o,"isValidForRead");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(s,"isValidForUpdate");this._logicalName$p$0=n;this._id$p$0=t;this._entityLogicalName$p$0=i;this._type$p$0=r;this._sourceType$p$0=et;this._displayName$p$0=u;this._isSecured$p$0=f;this._isValidForCreate$p$0=e;this._isValidForRead$p$0=o;this._isValidForUpdate$p$0=s;this._requiredLevel$p$0=h;this._maxLength$p$0=c;this._minValue$p$0=l;this._maxValue$p$0=a;this._precision$p$0=v;this._precisionSource$p$0=y;this._format$p$0=p;this._behavior$p$0=w;this._defaultFormValue$p$0=b;this._defaultValue$p$0=k;this._optionSet$p$0=d;this._targets$p$0=nt;this._isBaseCurrency$p$0=g;this._attributeOf$p$0=tt;this._hasChanged$p$0=it;this._isSortableEnabled$p$0=ut;this._imeMode$p$0=rt;this._inheritsFrom$p$0=ft;this._isLocalizable$p$0=ot};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.extractKey=function(n){return Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.idPath]).toString()};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.createFromObjectData=function(n){var u=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.logicalNamePath],f=Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.idPath]),e=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.entityLogicalNamePath],o=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.typePath],s=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.sourceTypePath],h=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.displayNamePath],c=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.requiredLevelPath],l=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isSecuredPath],a=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForCreatePath],v=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForUpdatePath],y=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForReadPath],p=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.maxLengthPath],w=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.minValuePath],b=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.maxValuePath],k=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.precisionPath],d=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.precisionSourcePath],g=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.formatPath],nt=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.behaviorPath],tt=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.defaultFormValuePath],it=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.defaultValuePath],rt=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isBaseCurrencyPath],ut=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.attributeOfPath],ft=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.hasChangedPath],et=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isSortableEnabledPath],ot=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.imeModePath],st=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.inheritsFromPath],ht=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isLocalizablePath],t=null,i=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.optionSetPath],r;return _Script.isNullOrUndefined(i)||(t=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata.createFromObjectData(i)),r=n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.targetsPath],new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata(u,f,e,o,h,l,a,y,v,c,p,w,b,k,d,g,nt,tt,it,t,rt,r,ut,ft,ot,et,st,s,ht)};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.prototype={_id$p$0:null,_logicalName$p$0:null,_type$p$0:0,_sourceType$p$0:0,_entityLogicalName$p$0:null,_displayName$p$0:null,_isSecured$p$0:!1,_isValidForCreate$p$0:!1,_isValidForRead$p$0:!1,_isValidForUpdate$p$0:!1,_requiredLevel$p$0:0,_maxLength$p$0:0,_minValue$p$0:0,_maxValue$p$0:0,_precision$p$0:0,_precisionSource$p$0:0,_format$p$0:null,_behavior$p$0:0,_defaultFormValue$p$0:0,_defaultValue$p$0:!1,_isBaseCurrency$p$0:!1,_optionSet$p$0:null,_targets$p$0:null,_attributeOf$p$0:null,_hasChanged$p$0:!1,_isSortableEnabled$p$0:!1,_imeMode$p$0:0,_inheritsFrom$p$0:null,_isLocalizable$p$0:!1,get_id:function(){return this._id$p$0},get_logicalName:function(){return this._logicalName$p$0},get_entityLogicalName:function(){return this._entityLogicalName$p$0},get_type:function(){return this._type$p$0},get_sourceType:function(){return this._sourceType$p$0},get_displayName:function(){return this._displayName$p$0},get_isValidForCreate:function(){return this._isValidForCreate$p$0},get_isSecured:function(){return this._isSecured$p$0},get_isValidForUpdate:function(){return this._isValidForUpdate$p$0},get_isValidForRead:function(){return this._isValidForRead$p$0},get_requiredLevel:function(){return this._requiredLevel$p$0},get_maxLength:function(){return this._maxLength$p$0},get_minValue:function(){return this._minValue$p$0},get_maxValue:function(){return this._maxValue$p$0},get_precision:function(){return this._precision$p$0},get_precisionSource:function(){return this._precisionSource$p$0},get_format:function(){return this._format$p$0},get_behavior:function(){return this._behavior$p$0},get_isBaseCurrency:function(){return this._isBaseCurrency$p$0},get_defaultFormValue:function(){return this._defaultFormValue$p$0},get_defaultValue:function(){return this._defaultValue$p$0},get_optionSet:function(){return this._optionSet$p$0},get_targets:function(){return this._targets$p$0},get_attributeOf:function(){return this._attributeOf$p$0},get_hasChanged:function(){return this._hasChanged$p$0},get_isSortableEnabled:function(){return this._isSortableEnabled$p$0},get_imeMode:function(){return this._imeMode$p$0},get_inheritsFrom:function(){return this._inheritsFrom$p$0},get_isLocalizable:function(){return this._isLocalizable$p$0},getObjectData:function(){var n={};return n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.logicalNamePath]=this._logicalName$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.idPath]=this._id$p$0.getObjectData(),n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.entityLogicalNamePath]=this._entityLogicalName$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.entityAttributeLogicalNamesPath]=this._entityLogicalName$p$0+Microsoft.Crm.Client.Core.Storage.Common.StorageConstants.compositeIndexDelimiter+this._logicalName$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.typePath]=this._type$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.sourceTypePath]=this._sourceType$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.displayNamePath]=this._displayName$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isSecuredPath]=this._isSecured$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isSortableEnabledPath]=this._isSortableEnabled$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForCreatePath]=this._isValidForCreate$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForUpdatePath]=this._isValidForUpdate$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForReadPath]=this._isValidForRead$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.requiredLevelPath]=this._requiredLevel$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.maxLengthPath]=this._maxLength$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.minValuePath]=this._minValue$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.maxValuePath]=this._maxValue$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.precisionPath]=this._precision$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.precisionSourcePath]=this._precisionSource$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.defaultFormValuePath]=this._defaultFormValue$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.defaultValuePath]=this._defaultValue$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.formatPath]=this._format$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.behaviorPath]=this._behavior$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isBaseCurrencyPath]=this._isBaseCurrency$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.attributeOfPath]=this._attributeOf$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.hasChangedPath]=this._hasChanged$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.imeModePath]=this._imeMode$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.inheritsFromPath]=this._inheritsFrom$p$0,n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isLocalizablePath]=this._isLocalizable$p$0,_Script.isNullOrUndefined(this._optionSet$p$0)||(n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.optionSetPath]=this._optionSet$p$0.getObjectData()),_Script.isNullOrUndefined(this._targets$p$0)||(n[Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.targetsPath]=this._targets$p$0),n},populateFromCache:function(n){this._entityLogicalName$p$0=n.get_entityLogicalName();this._isSecured$p$0=n.get_isSecured();this._isValidForCreate$p$0=n.get_isValidForCreate();this._isValidForRead$p$0=n.get_isValidForRead();this._isValidForUpdate$p$0=n.get_isValidForUpdate();this._requiredLevel$p$0=n.get_requiredLevel();this._maxLength$p$0=n.get_maxLength();this._minValue$p$0=n.get_minValue();this._maxValue$p$0=n.get_maxValue();this._precision$p$0=n.get_precision();this._precisionSource$p$0=n.get_precisionSource();this._format$p$0=n.get_format();this._behavior$p$0=n.get_behavior();this._defaultFormValue$p$0=n.get_defaultFormValue();this._defaultValue$p$0=n.get_defaultValue();this._targets$p$0=n.get_targets();this._isBaseCurrency$p$0=n.get_isBaseCurrency();this._attributeOf$p$0=n.get_attributeOf();this._hasChanged$p$0=n.get_hasChanged();this._isSortableEnabled$p$0=n.get_isSortableEnabled();this._imeMode$p$0=n.get_imeMode();this._inheritsFrom$p$0=n.get_inheritsFrom();this._sourceType$p$0=n.get_sourceType();this._isLocalizable$p$0=n.get_isLocalizable();_Script.isNullOrUndefined(this._optionSet$p$0)&&(this._optionSet$p$0=n.get_optionSet());_Script.isNullOrUndefined(this._displayName$p$0)&&(this._displayName$p$0=n.get_displayName())}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadataCollection=function(n){this._associatedEntityLogicalName$p$0=n;this._attributes$p$0=new Array(0);this._attributesByName$p$0=new(Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata))};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadataCollection.prototype={_associatedEntityLogicalName$p$0:null,_attributes$p$0:null,_attributesByName$p$0:null,_allAttributes$p$0:!1,get_associatedEntityLogicalName:function(){return this._associatedEntityLogicalName$p$0},get_attributes:function(){return this._attributes$p$0},get_attributesByName:function(){return this._attributesByName$p$0},get_count:function(){return this._attributes$p$0.length},get_allAttributes:function(){return this._allAttributes$p$0},mergeAttributeMetadata:function(n,t){var f,u,i,r;if(this._allAttributes$p$0=this._allAttributes$p$0||t,!_Script.isNullOrUndefined(n))for(f=!0,(!this._attributes$p$0.length||t)&&(this._attributes$p$0=n,this._attributesByName$p$0=new(Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata)),f=!1),u=0;u<n.length;u++){if(i=n[u],f)if(this._attributesByName$p$0.containsKey(i.get_logicalName()))for(r=0;r<this._attributes$p$0.length;r++)this._attributes$p$0[r].get_logicalName()===i.get_logicalName()&&(this._attributes$p$0[r]=i);else this._attributes$p$0[this._attributes$p$0.length]=i;this._attributesByName$p$0.set_item(i.get_logicalName(),i)}},purgeAttributeMetadata:function(){this._allAttributes$p$0=!1;this._attributes$p$0=new Array(0);_Script.isNullOrUndefined(this._attributesByName$p$0)?this._attributesByName$p$0=new(Microsoft.Crm.Client.Core.Framework.TypedDictionary$1.$$(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata)):this._attributesByName$p$0.clear()}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributePrivilege=function(n,t,i,r){this._attributeId$p$0=n;this._canCreate$p$0=t;this._canRead$p$0=i;this._canUpdate$p$0=r;this._accessRightsMask$p$0=0;this._accessRightsMask$p$0=this._canCreate$p$0?this.get_accessRightsMask()|Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights.canCreate:this._accessRightsMask$p$0;this._accessRightsMask$p$0=this._canRead$p$0?this.get_accessRightsMask()|Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights.canRead:this._accessRightsMask$p$0;this._accessRightsMask$p$0=this._canUpdate$p$0?this.get_accessRightsMask()|Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeAccessRights.canUpdate:this._accessRightsMask$p$0};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributePrivilege.createFromObjectData=function(n){var t=Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(n.attributeid),i=n.cancreate,r=n.canread,u=n.canupdate;return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributePrivilege(t,i,r,u)};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributePrivilege.prototype={_attributeId$p$0:null,_canCreate$p$0:!1,_canRead$p$0:!1,_canUpdate$p$0:!1,_accessRightsMask$p$0:0,get_attributeId:function(){return this._attributeId$p$0},get_canCreate:function(){return this._canCreate$p$0},get_canRead:function(){return this._canRead$p$0},get_canUpdate:function(){return this._canUpdate$p$0},get_accessRightsMask:function(){return this._accessRightsMask$p$0},getObjectData:function(){var n={};return n.attributeid=this._attributeId$p$0.getObjectData(),n.cancreate=this._canCreate$p$0,n.canread=this._canRead$p$0,n.canupdate=this._canUpdate$p$0,n}};Xrm.Objects.EntityReference=function(n,t,i,r){Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(n,"logicalName");Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(t,"id");this.LogicalName=n;this.Id=t;this.Name=OptionalParameter.getValue(String,i);this.set_rowVersion(r);this.TypeName=n;this.TypeDisplayName=n};Xrm.Objects.EntityReference.get_empty=function(){return Xrm.Objects.EntityReference._empty$p||(Xrm.Objects.EntityReference._empty$p=new Xrm.Objects.EntityReference(Microsoft.Crm.Client.Core.Framework._String.empty,Microsoft.Crm.Client.Core.Framework.Guid.get_empty(),Microsoft.Crm.Client.Core.Framework._String.empty))};Xrm.Objects.EntityReference.createFromObjectData=function(n){var t=n.logicalname,i=Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(n.id),r=n.name,u;return"rowversion"in n&&n.rowversion?(u=n.rowversion,new Xrm.Objects.EntityReference(t,i,r,u)):new Xrm.Objects.EntityReference(t,i,r)};Xrm.Objects.EntityReference._uppercaseFirstCharacter$p=function(n){return n.substr(0,1).toUpperCase()+n.substr(1)};Xrm.Objects.EntityReference.prototype={Id:null,LogicalName:null,Name:null,TypeCode:0,TypeDisplayName:null,TypeName:null,_rowVersion$p$0:null,get_key:function(){return this.Id.toString()},get_identifier:function(){return this.Id.toString()},get_modelType:function(){return this.LogicalName},get_displayName:function(){return this.Name},_$$pf_RowVersion$p$0:null,get_rowVersion:function(){return this._$$pf_RowVersion$p$0},set_rowVersion:function(n){return this._$$pf_RowVersion$p$0=n,n},getObjectData:function(){var n={};return n.logicalname=this.LogicalName,n.id=this.Id.getObjectData(),n.name=this.Name,_Script.isNullOrUndefined(this.get_rowVersion())||(n.rowversion=this.get_rowVersion()),n},equals:function(n){if(Xrm.Objects.EntityReference.isInstanceOfType(n)){var t=n;return t.LogicalName===this.LogicalName&&this.Id.equals(t.Id)&&this.Name===t.Name}return!1},getHashCode:function(){return Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(this.LogicalName)?0:Microsoft.Crm.Client.Core.Framework._String.hashCode(this.LogicalName)^this.Id.getHashCode()},toString:function(){return String.format("{0}:{1}",this.LogicalName,this.Id.toString())},getValue:function(n){return this[Xrm.Objects.EntityReference._uppercaseFirstCharacter$p(n)]},setValue:function(n,t){this[Xrm.Objects.EntityReference._uppercaseFirstCharacter$p(n)]=t}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata=function(n,t,i,r,u,f,e){this.get_ValueString=this.get_valueString;this.set_ValueString=this.set_valueString;this.get_Label=this.get_label;this.set_Label=this.set_label;this._label$p$0=n;this._val$p$0=t;this._state$p$0=i;this._defaultStatus$p$0=r;this._allowedStatusTransitions$p$0=u;this._color$p$0=f;this._invariantName$p$0=e};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.createFromPicklistItem=function(n){if(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.isInstanceOfType(n))return n;var t=n.get_Label(),i=Number.parseInvariant(n.get_ValueString());return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata(t,i,-1,-1,null,null,null)};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.createFromObjectData=function(n){var t=n.label,i=n.value,r="state"in n?n.state:-1,u="defaultstatus"in n?n.defaultstatus:-1,f="allowedstatustransitions"in n?n.allowedstatustransitions:null,e="color"in n?n.color:null,o=n.invariantname;return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata(t,i,r,u,f,e,o)};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.prototype={_label$p$0:null,_val$p$0:0,_state$p$0:0,_defaultStatus$p$0:0,_allowedStatusTransitions$p$0:null,_color$p$0:null,_invariantName$p$0:null,get_label:function(){return this._label$p$0},set_label:function(n){return this._label$p$0=n,n},get_valueString:function(){return this._val$p$0.toString()},set_valueString:function(n){return this._val$p$0=Number.parseInvariant(n),n},get_allowedStatusTransitions:function(){return this._allowedStatusTransitions$p$0},set_allowedStatusTransitions:function(n){return this._allowedStatusTransitions$p$0=n,n},get_color:function(){return this._color$p$0},set_color:function(n){return this._color$p$0=n,n},get_value:function(){return this._val$p$0},set_value:function(n){return this._val$p$0=n,n},get_state:function(){return this._state$p$0},set_state:function(n){return this._state$p$0=n,n},get_defaultStatus:function(){return this._defaultStatus$p$0},set_defaultStatus:function(n){return this._defaultStatus$p$0=n,n},get_invariantName:function(){return this._invariantName$p$0},set_invariantName:function(n){return this._invariantName$p$0=n,n},getObjectData:function(){var n={};return n.label=this._label$p$0,n.value=this._val$p$0,n.state=this._state$p$0,n.defaultstatus=this._defaultStatus$p$0,n.allowedstatustransitions=this._allowedStatusTransitions$p$0,n.color=this._color$p$0,n.invariantname=this._invariantName$p$0,n},getValue:function(n){if(n===Microsoft.Crm.Client.Core.Framework.FieldFormat.label||n==="label")return this.get_label();if(n===Microsoft.Crm.Client.Core.Framework.FieldFormat.value||n==="value")return this.get_value();if(n===Microsoft.Crm.Client.Core.Framework.FieldFormat.state||n==="state")return this.get_state();if(n===Microsoft.Crm.Client.Core.Framework.FieldFormat.defaultStatus||n==="defaultstatus")return this._defaultStatus$p$0;if(n===Microsoft.Crm.Client.Core.Framework.FieldFormat.allowedStatusTransitions||n==="allowedstatustransitions")return this.get_allowedStatusTransitions();if(n===Microsoft.Crm.Client.Core.Framework.FieldFormat.color||n==="color")return this.get_color();throw Error.argumentOutOfRange("fieldName",n);},toString:function(){return this.get_state().toString()}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata=function(n){Microsoft.Crm.Client.Core.Framework.Utils.ExceptionHelpers.throwOnNullOrUndefinedArgument(n,"options");this._optionsInDisplayOrder$p$0=n;this._options$p$0=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata._createDictionaryFromOptionsInDisplayOrder$p(n)};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata.createFromObjectData=function(n){var r={},u=n.optionsindisplayorder,t,i,f;for(t in u)i={key:t,value:u[t]},f=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.createFromObjectData(i.value),r[i.key]=f;return new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata(r)};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata._createDictionaryFromOptionsInDisplayOrder$p=function(n){var r={},u=n,t,f,i;for(t in u)f={key:t,value:u[t]},i=f.value,r[i.get_valueString()]=i;return r};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata.prototype={_options$p$0:null,_optionsInDisplayOrder$p$0:null,get_options:function(){return this._options$p$0},get_optionsInDisplayOrder:function(){return this._optionsInDisplayOrder$p$0},createSimpleForm:function(){var r=new Array(0),u=this.get_optionsInDisplayOrder(),i,t,n;for(i in u)t={key:i,value:u[i]},n={},n.Label=t.value.get_label(),n.Value=t.value.get_value(),n.Color=t.value.get_color(),r.push(n);return r},getObjectData:function(){var u={},n,t,i,r,f;if(!_Script.isNullOrUndefined(this._optionsInDisplayOrder$p$0)){n={};t=this._optionsInDisplayOrder$p$0;for(i in t)r={key:i,value:t[i]},f=r.value,n[r.key]=f.getObjectData();u.optionsindisplayorder=n}return u}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue=function(n,t,i){this._entityLogicalName$p$0=n;this._attributeLogicalName$p$0=t;this._attributeType$p$0=i;this._innerValue$p$0=null};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue.createFromObjectData=function(n){var r=n.attributeLogicalName,u=n.entityLogicalName,t=n.attributeType,i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue(u,r,t);return i.set_value(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue._createFieldFromObjectData$p(n.value,t)),i};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue._createFieldFromObjectData$p=function(n,t){if(_Script.isNullOrUndefined(n))return null;switch(t){case Xrm.Objects.AttributeType.aliasedValue:return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue.createFromObjectData(n);case Xrm.Objects.AttributeType.customer:case Xrm.Objects.AttributeType.lookup:case Xrm.Objects.AttributeType.owner:return Xrm.Objects.EntityReference.createFromObjectData(n);case Xrm.Objects.AttributeType.uniqueIdentifier:return Microsoft.Crm.Client.Core.Framework.Guid.createFromObjectData(n);case Xrm.Objects.AttributeType.dateTime:return new Date(Date.parse(n));case Xrm.Objects.AttributeType.status:case Xrm.Objects.AttributeType.state:case 0:case Xrm.Objects.AttributeType.picklist:return Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.createFromObjectData(n);default:return n}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue.prototype={_entityLogicalName$p$0:null,_attributeLogicalName$p$0:null,_attributeType$p$0:0,_innerValue$p$0:null,get_entityLogicalName:function(){return this._entityLogicalName$p$0},get_attributeLogicalName:function(){return this._attributeLogicalName$p$0},get_attributeType:function(){return this._attributeType$p$0},get_value:function(){return this._innerValue$p$0},set_value:function(n){return this._innerValue$p$0=n,n},getObjectData:function(){var n={};return n.entityLogicalName=this._entityLogicalName$p$0,n.attributeLogicalName=this._attributeLogicalName$p$0,n.attributeType=this._attributeType$p$0,n.value=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue._createFieldFromObjectData$p(this._innerValue$p$0,this._attributeType$p$0),n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.DataApi");Microsoft.Crm.Client.Core.Storage.DataApi.IChartableUserContext=function(){};Microsoft.Crm.Client.Core.Storage.DataApi.IChartableUserContext.registerInterface("Microsoft.Crm.Client.Core.Storage.DataApi.IChartableUserContext");Microsoft.Crm.Client.Core.Storage.DataApi.IRetrieveEntityMetadataDataSource=function(){};Microsoft.Crm.Client.Core.Storage.DataApi.IRetrieveEntityMetadataDataSource.registerInterface("Microsoft.Crm.Client.Core.Storage.DataApi.IRetrieveEntityMetadataDataSource");Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery=function(n,t){this._validateNames$p$0(n,t)};Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery.prototype={_entityLogicalName$p$0:null,_attributeNames$p$0:null,get_entityLogicalName:function(){return this._entityLogicalName$p$0},get_validAttributeRegExp:function(){return Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery._validAttributeRegExp$p||(Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery._validAttributeRegExp$p=new RegExp("^[A-Za-z]+[A-Za-z0-9_]*$")),Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery._validAttributeRegExp$p},get_attributeNames:function(){return this._attributeNames$p$0},toString:function(){var n=new Sys.StringBuilder;return n.append(this._entityLogicalName$p$0),_Script.isNullOrUndefined(this._attributeNames$p$0)||(n.append(" : "),n.append(this._attributeNames$p$0.join(", "))),n.toString()},_validateNames$p$0:function(n,t){var i,r;if(this._entityLogicalName$p$0=n,this._attributeNames$p$0=Microsoft.Crm.Client.Core.Storage.Common.AllColumns.isInstanceOfType(t)?null:Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.isInstanceOfType(t)?t.get_columns():t,!_Script.isNullOrUndefined(this._attributeNames$p$0))for(i=0;i<this._attributeNames$p$0.length;i++)if(r=this.get_validAttributeRegExp().test(this._attributeNames$p$0[i]),!r)throw Error.argument(this._attributeNames$p$0[i],"Invalid attribute name");}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.IChartConfigurableViewModel=function(){};Microsoft.Crm.Client.Core.ViewModels.IChartConfigurableViewModel.registerInterface("Microsoft.Crm.Client.Core.ViewModels.IChartConfigurableViewModel");Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels.Controls");Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.prototype={none:0,normalChart:1,comparisonChart:2,dateTimeChart:3};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.registerEnum("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType",!1);Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder.createChartBuilder=function(n,t,i,r,u){var f=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder;return f._chartData$p$1=r,f._viewRecord$p$1=n,f._chartDataDescription$p$1=i,f._visualizationRecord$p$1=t,f._visualizationRecordPresentationXML$p$1=u,f};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder.prototype={_viewRecord$p$1:null,_visualizationRecord$p$1:null,_visualizationRecordPresentationXML$p$1:null,_chartData$p$1:null,_chartQueryModel$p$1:null,_chartType$p$1:0,_chartPresentationSeries$p$1:null,_colors$p$1:null,_chartDataDescription$p$1:null,get_viewRecord:function(){return this._viewRecord$p$1},get_visualizationRecord:function(){return this._visualizationRecord$p$1},get_chartData:function(){return this._chartData$p$1},set_chartData:function(n){return this._chartData$p$1=n,n},internalDispose:function(){_Script.isNullOrUndefined(this._chartData$p$1)||(this._chartData$p$1.dispose(),this._chartData$p$1=null);this._viewRecord$p$1=null;this._chartDataDescription$p$1=null;this._visualizationRecord$p$1=null;this._chartQueryModel$p$1=null},buildChartModel:function(){if(this._chartQueryModel$p$1=new Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel,this._chartData$p$1.get_count()>0){this._buildChartHeading$p$1();try{this._buildChartPresentation$p$1();this._buildChart$p$1()}catch(n){if(Microsoft.Crm.Client.Core.Framework.ChartError.isInstanceOfType(n)){var t=Microsoft.Crm.Client.Core.Framework.ErrorInfo.fromException(Microsoft.Crm.Client.Core.Framework.ChartError,n,Microsoft.Crm.Client.Core.Framework.ChartError.typeName);this._buildErrorMessage$p$1(this._chartQueryModel$p$1,t)}else throw n;}}else this._buildDataEmptyMessage$p$1(this._chartQueryModel$p$1);return this._chartQueryModel$p$1},updateChartModel:function(n){return this._chartData$p$1=n,this._chartData$p$1.get_count()>0?(this._buildChartHeading$p$1(),this._chartPresentationSeries$p$1||this._buildChartPresentation$p$1(),this._buildChart$p$1()):(this._chartQueryModel$p$1=new Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel,this._buildDataEmptyMessage$p$1(this._chartQueryModel$p$1)),this._chartQueryModel$p$1},get_primaryModelName:function(){return this._viewRecord$p$1.get_associatedEntityLogicalName()},_buildDataEmptyMessage$p$1:function(n){var i=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_NoData_Message"),t=new Microsoft.Crm.Client.Core.Models.ChartTitle;t.Text=i;t.HorizontalAlignment="center";t.VerticalAlignment="middle";n.set_Title(t);n.set_SubTitle(this._viewRecord$p$1.get_displayName());n.set_displayMode(Microsoft.Crm.Client.Core.Framework.ChartDisplayMode.error);n.set_errorInformation(new Microsoft.Crm.Client.Core.Framework.ChartErrorInformation);n.get_errorInformation().set_ErrorType(null);n.get_errorInformation().set_ErrorDescription(i)},_buildErrorMessage$p$1:function(n,t){n.set_Title(new Microsoft.Crm.Client.Core.Models.ChartTitle);n.set_SubTitle(this._viewRecord$p$1.get_displayName());n.set_displayMode(Microsoft.Crm.Client.Core.Framework.ChartDisplayMode.error);n.set_errorInformation(new Microsoft.Crm.Client.Core.Framework.ChartErrorInformation);n.get_errorInformation().set_ErrorType(t.get_title());n.get_errorInformation().set_ErrorDescription(t.get_description())},_buildChartHeading$p$1:function(){var n=this._visualizationRecord$p$1.get_displayName();this._chartQueryModel$p$1.set_Title(new Microsoft.Crm.Client.Core.Models.ChartTitle);this._chartQueryModel$p$1.get_Title().Text=n;this._chartQueryModel$p$1.set_SubTitle(this._viewRecord$p$1.get_displayName())},_buildChartPresentation$p$1:function(){var n=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser(this._visualizationRecordPresentationXML$p$1);this._chartPresentationSeries$p$1=n.get_chartPresentationSeries();this._chartQueryModel$p$1.set_Legend(new Microsoft.Crm.Client.Core.Models.Legend);n.get_chartPresentationLegendList().get_Count()>0?(this._chartQueryModel$p$1.get_Legend().Floating=!1,this._chartQueryModel$p$1.get_Legend().Enabled=n.get_chartPresentationLegendList().get_item(0).get_enabled(),this._chartQueryModel$p$1.get_Legend().HorizontalAlignment=n.get_chartPresentationLegendList().get_item(0).get_alignment().toLowerCase(),this._chartQueryModel$p$1.get_Legend().VerticalAlignment=n.get_chartPresentationLegendList().get_item(0).get_docking().toLowerCase()):this._chartQueryModel$p$1.get_Legend().Enabled=!1;this._colors$p$1=n.get_colorsList()},_buildChart$p$1:function(){this._chartType$p$1=this._getChartType$p$1();var n=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParserFactory.obtainParser(this._chartType$p$1);n.initialize(this._chartData$p$1,this._chartDataDescription$p$1,this._chartPresentationSeries$p$1,this._chartQueryModel$p$1);this._chartQueryModel$p$1.set_Colors(this._colors$p$1);n.parse()},_getChartType$p$1:function(){return this._chartDataDescription$p$1.get_isComparisonChart()?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.comparisonChart:this._chartDataDescription$p$1.get_category().get_primaryGroupBy().get_groupAttribute().get_dateTimeGrouping()?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.dateTimeChart:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.normalChart}};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator=function(n,t,i){(this.$$d_seriesPointLegendItemClicked=Function.createDelegate(this,this.seriesPointLegendItemClicked),_Script.isNullOrUndefined(n))||(this._chartConfigurationObject$p$0=new ChartConfigObject,n.get_isInteractionCentricDashboard()&&(this._isFilterGraphContext$p$0=!0,this._secondaryChartGroupByAttributeName$p$0=n.get_secondaryGroupByAttributeName(),Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(this._secondaryChartGroupByAttributeName$p$0)||(this._dataPointColorSettings$p$0=!1),this._primaryModelName$p$0=n.get_primaryModelName()),this._metaDataAggregator$p$0=t,this._trace$p$0=i,this._setChartTitleOptions$p$0(n.get_title()),this._setChartOptions$p$0(),this._chartConfigurationObject$p$0.colors=n.get_colors(),this._setChartXAxisOptions$p$0(n.get_xAxes()),this._setChartYAxisOptions$p$0(n.get_yAxes()),this._setChartSeriesOptions$p$0(n.get_seriesList(),n.get_xAxes(),n.get_allowPointSelect()),this._setChartLegendOptions$p$0(n.get_legend()),this._disableCredits$p$0(),this._setTooltipState$p$0(),this._isFilterGraphContext$p$0&&this._setPointerFollow$p$0(),this._postProcess$p$0())};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator.generateConfigurationObject=function(n,t,i){var r=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator(n,t,i);return r._chartConfigurationObject$p$0};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._getChartType$p=function(n,t){t.val=Microsoft.Crm.Client.Core.Framework._String.empty;switch(n.toUpperCase()){case"BAR":return"bar";case"COLUMN":return"column";case"PIE":return"pie";case"STACKEDCOLUMN":return t.val="normal","column";case"STACKEDCOLUMN100":return t.val="percent","column";case"STACKEDBAR":return t.val="normal","bar";case"STACKEDBAR100":return t.val="percent","bar";case"LINE":return"line";case"FUNNEL":return"funnel";case"AREA":return"area";case"STACKEDAREA":return t.val="normal","area";case"STACKEDAREA100":return t.val="percent","area";default:throw new Microsoft.Crm.Client.Core.Framework.ChartError(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_Unsupported_Title"),Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_Unsupported_Message")).toException();}};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._setPropertyValueIfValid$p=function(n,t,i){return _Script.isNullOrUndefined(i)?!1:(n[t]=i,!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator.prototype={_chartConfigurationObject$p$0:null,_yAxesCount$p$0:0,_xAxesCount$p$0:0,_isFilterGraphContext$p$0:!1,_dataPointColorSettings$p$0:!0,_secondaryChartGroupByAttributeName$p$0:null,_primaryModelName$p$0:null,_metaDataAggregator$p$0:null,_trace$p$0:null,_setChartTitleOptions$p$0:function(n){var t=this._chartConfigurationObject$p$0.title,i;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._textPropertyName$p]=n?n.Text.toUpperCase():Microsoft.Crm.Client.Core.Framework._String.empty;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._alignPropertyName$p]="left";t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._verticalAlignPropertyName$p]="top";t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._floatingPropertyName$p]=!0;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._useHTMLPropertyName$p]=!0;i={};i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titleColor$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titleSize$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiSemiBoldFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiSemiBoldFontFamily$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._widthPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titleWidth$p;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=i},_setChartOptions$p$0:function(){this._chartConfigurationObject$p$0.plotOptions=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartPlotOptions();this._chartConfigurationObject$p$0.plotOptions.series=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeries();this._chartConfigurationObject$p$0.plotOptions.series.animation=!1;this._isFilterGraphContext$p$0&&(this._chartConfigurationObject$p$0.plotOptions.series.point={},this._chartConfigurationObject$p$0.plotOptions.series.point[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._eventsPropertyName$p]={},this._chartConfigurationObject$p$0.plotOptions.series.point[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._eventsPropertyName$p][Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._legendClickPropertyName$p]=this.$$d_seriesPointLegendItemClicked,this._chartConfigurationObject$p$0.plotOptions.series.events={},this._chartConfigurationObject$p$0.plotOptions.series.events[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._legendClickPropertyName$p]=this.$$d_seriesPointLegendItemClicked)},seriesPointLegendItemClicked:function(){return!1},_setChartXAxisOptions$p$0:function(n){var e,t,r,f,c,i,u;if(n&&n.length>0)for(var s=n,h=s.length,o=0;o<h;++o)e=s[o],t={},t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineDashStylePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineDashStyle$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineColorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineColor$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineColorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineColor$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._endOnTickPropertyName$p]=!0,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._startOnTickPropertyName$p]=!0,r={},r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icAxisLabelColor$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._axisLabelColor$p,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphFontSize$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p,this._isFilterGraphContext$p$0&&(r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineHeightPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphLineHeight$p),r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p,f={},f[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=r,f[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._overflowPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._overflowJustify$p,this._isFilterGraphContext$p$0&&(c=this,f[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=function(){var t=this.value,n=t.toString(),i;return _Script.isNullOrUndefined(n)?Microsoft.Crm.Client.Core.Framework._String.empty:n.length>10?(i=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("ActivityContainerControl.SubjectEllipsesText"),n.substr(0,7)+i):t.toString()}),t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p]=f,i={},Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(e.Title)||this._isFilterGraphContext$p$0?i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._textPropertyName$p]=null:(i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._textPropertyName$p]=e.Title,u={},u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icAxisLabelColor$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._axisLabelColor$p,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiSemiBoldFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiSemiBoldFontFamily$p,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontWeightPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontWeightNormal$p,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=u,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._marginPropertyName$p]=15,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._alignPropertyName$p]="low",i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._xPropertyName$p]=-4),t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titlePropertyName$p]=i,Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._setPropertyValueIfValid$p(t,Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p,e.Values),this._xAxesCount$p$0%2&&(t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._oppositePropertyName$p]=!0),this._xAxesCount$p$0++,Array.add(this._chartConfigurationObject$p$0.xAxis,t)},_setChartYAxisOptions$p$0:function(n){var o,t,f,r,c,i,u;if(n&&n.length>0)for(var s=n,h=s.length,e=0;e<h;++e)o=s[e],t={},t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineDashStylePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineDashStyle$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineColorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineColor$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineWidthPropertyName$p]="1",t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineColorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineColor$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._endOnTickPropertyName$p]=!0,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._startOnTickPropertyName$p]=!0,f={},f[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icAxisLabelColor$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._axisLabelColor$p,f[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p,f[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p,r={},r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=f,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._overflowPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._overflowJustify$p,c=this,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=function(){return Microsoft.Crm.Client.Core.Framework._String.empty+String.localeFormat("{0:N}",this.value)},this._isFilterGraphContext$p$0&&(t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineWidthPropertyName$p]=0,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!1),t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p]=r,i={},Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(o.Title)||this._isFilterGraphContext$p$0?i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._textPropertyName$p]=null:(i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._textPropertyName$p]=o.Title,u={},u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._axisLabelColor$p,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiSemiBoldFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiSemiBoldFontFamily$p,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontWeightPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontWeightNormal$p,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=u,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._marginPropertyName$p]=15,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._alignPropertyName$p]="low",i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._xPropertyName$p]=-4),t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titlePropertyName$p]=i,this._yAxesCount$p$0%2&&(t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._oppositePropertyName$p]=!0),this._yAxesCount$p$0++,Array.add(this._chartConfigurationObject$p$0.yAxis,t)},_setChartSeriesColorOptions$p$0:function(n){n.color=this._fetchColorForLabel$p$0(this._secondaryChartGroupByAttributeName$p$0,n.name)},_setChartSeriesOptions$p$0:function(n,t,i){var u,r,f,c,l,e,o,a;if(n&&n.length>0)for(var h=n,v=h.length,s=0;s<v;++s)u=h[s],r=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeries(),r.color=u.Color,r.borderWidth=u.BorderWidth,r.borderColor=u.BorderColor,_Script.isNullOrUndefined(u.Title)||(r.name=u.Title),this._isFilterGraphContext$p$0&&!this._dataPointColorSettings$p$0&&this._setChartSeriesColorOptions$p$0(r),!_Script.isNullOrUndefined(u.YAxisNumber)&&u.YAxisNumber<this._yAxesCount$p$0&&u.YAxisNumber>0&&(r.yAxis=u.YAxisNumber),!_Script.isNullOrUndefined(u.XAxisNumber)&&u.XAxisNumber<this._xAxesCount$p$0&&u.XAxisNumber>0&&(r.xAxis=u.XAxisNumber),e=(l=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._getChartType$p(u.ChartType,c={val:f}),f=c.val,l),r.type=e,!_Script.isNullOrUndefined(f)&&f.length&&(r.stacking=f),o=!1,this._setSeriesOptionsDataLabel$p$0(r,u.dataLabels),r.allowPointSelect=i,r.states={},r.states.select=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesSelectState(),e==="pie"?(this._setSeriesPieOptions$p$0(r),o=!0):e==="funnel"&&(this._setSeriesFunnelOptions$p$0(r),o=!0),this._isFilterGraphContext$p$0&&(r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._cursorPropertyName$p]="pointer"),a=this._getSeriesData$p$0(u,t,o),r.data=a,this._chartConfigurationObject$p$0.series[this._chartConfigurationObject$p$0.series.length]=r},_setDataPointColorsOptions$p$0:function(n,t){try{var i=t.Aggregators[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._firstAggregatorIndex$p];n.color=this._fetchColorForValue$p$0(i.FieldName,Number.parseInvariant(i.Value))}catch(r){this._trace$p$0.executeLogWarning(Microsoft.Crm.Client.Core.Framework.TraceComponent.localDataSource,r.message);n.color=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p}},_getSeriesData$p$0:function(n,t,i){var f,u,e,o,s,r;if(Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"Series should not be null or undefined"),Microsoft.Crm.Client.Core.Framework.Debug.assert(!i||!_Script.isNullOrUndefined(t)&&!_Script.isNullOrUndefined(t[0].Values),"XAxes[0] should have Values array for pie chart"),f=new Array(0),n.DataPoints)for(Microsoft.Crm.Client.Core.Framework.Debug.assert(n.DataPoints.length<=t[0].Values.length,"The number of data points cannot be more than the XAxes Values"),u=0;u<n.DataPoints.length;u++)_Script.isNullOrUndefined(n.DataPoints[u].Value)?(r=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesData(),r.y=null,f[f.length]=r):(r=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesData(),i&&(r.name=t[0].Values[u]),r.y=n.DataPoints[u].Value,r.Aggregators=n.DataPoints[u].Aggregators,r.FormattedValue=n.DataPoints[u].FormattedValue,r.events=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartEvents(),e=this,r.events.click=function(){if(!_Script.isNullOrUndefined(e._chartConfigurationObject$p$0.HighchartSeriesPointClicked)){var n=this;e._chartConfigurationObject$p$0.HighchartSeriesPointClicked(n)}},o=this,r.events.select=function(){if(!_Script.isNullOrUndefined(o._chartConfigurationObject$p$0.HighchartSeriesPointSelected)){var n=this;o._chartConfigurationObject$p$0.HighchartSeriesPointSelected(n)}},s=this,r.events.unselect=function(){if(!_Script.isNullOrUndefined(s._chartConfigurationObject$p$0.HighchartSeriesPointUnselected)){var n=this;s._chartConfigurationObject$p$0.HighchartSeriesPointUnselected(n)}},this._isFilterGraphContext$p$0&&this._dataPointColorSettings$p$0&&this._setDataPointColorsOptions$p$0(r,n.DataPoints[u]),f[f.length]=r);return f},_setSeriesPieOptions$p$0:function(n){var t,r,i;Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"Series config should not be null or undefined");n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._cursorPropertyName$p]="pointer";n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderWidthPropertyName$p]=1;n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderColorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultBorderColor$p;n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._showInLegendPropertyName$p]=!0;t={};t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!0;t.softConnector=!0;t.distance=18;r=this;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=function(){return Microsoft.Crm.Client.Core.Framework._String.empty+this.point.FormattedValue};i={};i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icDefaultLegendColor$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._specialLegendColor$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=i;n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._dataLabelsPropertyName$p]=t},_setSeriesOptionsDataLabel$p$0:function(n,t){var i,r,u;t&&t.Enabled&&(i={},i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=t.Enabled,t.LabelFormatter&&(i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=t.LabelFormatter),r={},r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._specialLegendColor$p,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphFontSize$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=r,n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._dataLabelsPropertyName$p]=i);this._isFilterGraphContext$p$0&&(i={},i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!0,r={},r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icDefaultLegendColor$p,r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphFontSize$p,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=r,_Script.isNullOrUndefined(t)||_Script.isNullOrUndefined(!!t.LabelFormatter)?(u=this,i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=function(){return this.point.FormattedValue!=null?this.point.FormattedValue:"0"}):i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=t.LabelFormatter,n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._dataLabelsPropertyName$p]=i)},_setSeriesFunnelOptions$p$0:function(n){var t,r,i;Microsoft.Crm.Client.Core.Framework.Debug.assert(!_Script.isNullOrUndefined(n),"Series config should not be null or undefined");n.neckHeight="20%";n.neckWidth="40%";n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderWidthPropertyName$p]=1;n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderColorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultBorderColor$p;n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._showInLegendPropertyName$p]=!0;t={};t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!0;t.softConnector=!1;t.distance=1;r=this;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p]=function(){return Microsoft.Crm.Client.Core.Framework._String.empty+this.point.FormattedValue};i={};i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icDefaultLegendColor$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._specialLegendColor$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p;i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p;t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p]=i;n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._dataLabelsPropertyName$p]=t;this._chartConfigurationObject$p$0.chart.marginBottom=62;this._chartConfigurationObject$p$0.chart.marginRight=70;this._chartConfigurationObject$p$0.chart.marginLeft=35},_setChartLegendOptions$p$0:function(n){var t,u,r,i;n&&(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._setPropertyValueIfValid$p(this._chartConfigurationObject$p$0.legend,Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p,n.Enabled),this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._alignPropertyName$p]="left",this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._verticalAlignPropertyName$p]="bottom",this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._floatingPropertyName$p]=!0,this._chartConfigurationObject$p$0.legend.layout=this._isFilterGraphContext$p$0?"horizontal":"vertical",t={},t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icDefaultLegendColor$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultLegendColor$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphFontSize$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p,t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p]=this._isFilterGraphContext$p$0?Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p:Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p,this._isFilterGraphContext$p$0&&(t.fontWeight="normal"),this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderWidthPropertyName$p]=0,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._itemStylePropertyName$p]=t,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._paddingPropertyName$p]=13,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._symbolWidthPropertyName$p]=this._isFilterGraphContext$p$0?12:15,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._symbolPaddingPropertyName$p]=5,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._xPropertyName$p]=this._isFilterGraphContext$p$0?0:-13,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._itemMarginTopPropertyName$p]=this._isFilterGraphContext$p$0?10:12,this._isFilterGraphContext$p$0&&(this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!0,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._verticalAlignPropertyName$p]="top",this._chartConfigurationObject$p$0.legend.maxHeight=60,u=this,this._chartConfigurationObject$p$0.legend.labelFormatter=function(){var t=this.name,n=Microsoft.Crm.Client.Core.Framework._String.empty,i=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("ActivityContainerControl.SubjectEllipsesText");return _Script.isNullOrUndefined(t)||(n=t.toString(),n.length>Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._maxLengthLegend$p&&(n=n.substr(0,Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._maxLengthLegend$p-i.length)+i)),n},r={},r[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p]=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icDefaultLegendColor$p,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._hoverStylePropertyName$p]=r,i={},i.activeColor="#FFFFFF",i.inactiveColor="#444444",i.style={},i.style.color="#999999",this._chartConfigurationObject$p$0.legend.navigation=i,this._chartConfigurationObject$p$0.legend[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._itemStylePropertyName$p][Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._cursorPropertyName$p]="default"))},_disableCredits$p$0:function(){this._chartConfigurationObject$p$0.credits[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!1},_setTooltipState$p$0:function(){var n,t;this._chartConfigurationObject$p$0.tooltip[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=this._isFilterGraphContext$p$0?!0:!1;this._isFilterGraphContext$p$0&&(n=this._chartConfigurationObject$p$0.series.length&&(this._chartConfigurationObject$p$0.series[0].type==="pie"||this._chartConfigurationObject$p$0.series[0].type==="funnel")?'Series:"{series.name}"  Point:"{point.name}"<br/> Value: "{point.y}"':'Series:"{series.name}"  Point:"{point.category}"<br/> Value: "{point.y}"',this._chartConfigurationObject$p$0.tooltip[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._toolTipPointFormatPropertyName$p]=n,t=Microsoft.Crm.Client.Core.Framework._String.empty,this._chartConfigurationObject$p$0.tooltip[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._toolTipHeaderFormatPropertyName$p]=t)},_setPointerFollow$p$0:function(){(this._chartConfigurationObject$p$0.series[0].type==="bar"||this._chartConfigurationObject$p$0.series[0].type==="column"||this._chartConfigurationObject$p$0.series[0].type==="pie"||this._chartConfigurationObject$p$0.series[0].type==="funnel")&&(this._chartConfigurationObject$p$0.tooltip.followPointer=!0)},_postProcess$p$0:function(){var f=0,n,i,t,r,u;if(this._chartConfigurationObject$p$0.series&&this._chartConfigurationObject$p$0.series.length>0)for(n=0;n<this._chartConfigurationObject$p$0.series.length;n++)i=this._chartConfigurationObject$p$0.series[n],t=this._chartConfigurationObject$p$0.xAxis[n],i.type==="bar"&&(i.data.reverse(),_Script.isNullOrUndefined(t)||Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p in t&&t[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p].reverse()),r=null,u=null,i.type==="bar"?(r=this._chartConfigurationObject$p$0.yAxis[n],u=t):(r=t,u=this._chartConfigurationObject$p$0.yAxis[n]),f=this._processHorizontalAxis$p$0(r,f),this._processVerticalAxis$p$0(u);this._chartConfigurationObject$p$0.CrmConfiguration.maxLengthCategoryName=f},_processHorizontalAxis$p$0:function(n,t){var f,e,i,o,s,r,u,h;if(!_Script.isNullOrUndefined(n)){if(f=!1,e=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p in n,e){if(i=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p],i.length<2)return t;if(i.length>15)return u=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p],u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!1,t;for(o=3,i.length>9&&(o=1),s=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("ActivityContainerControl.SubjectEllipsesText"),r=0;r<i.length;r++)i[r].length>o&&(this._isFilterGraphContext$p$0||i[r].length>20&&(i[r]=i[r].substr(0,17)+s),f=!0,t=t<i[r].length?i[r].length:t)}(f||!e)&&(u=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p],h=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titlePropertyName$p],u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._rotationPropertyName$p]=this._isFilterGraphContext$p$0?-45:270,u[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._alignPropertyName$p]="right",h[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._marginPropertyName$p]=15)}return t},_processVerticalAxis$p$0:function(n){var u,t,f,r,i;if(!_Script.isNullOrUndefined(n)&&Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p in n){if(u=20,t=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p],t.length>31){i=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p];i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p]=!1;return}for(t.length>9&&(u=11),f=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("ActivityContainerControl.SubjectEllipsesText"),r=0;r<t.length;r++)t[r].length>u&&(t[r]=t[r].substr(0,u-f.length)+f);this._isFilterGraphContext$p$0&&this._chartConfigurationObject$p$0.series[0].type==="bar"&&(i=n[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p],i&&(i[Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._rotationPropertyName$p]=this._isFilterGraphContext$p$0?0:270))}},_fetchColorForValue$p$0:function(n,t){var f,r,u,e,i;if(_Script.isNullOrUndefined(t))return Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p;try{f=this._getOptionSetMetadata$p$0(n);r=f.getChartingMetaDataInDisplayOrder();for(u in r)if(e={key:u,value:r[u]},i=e.value,i.get_value()===t)return i.get_color()?i.get_color():Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p}catch(o){this._trace$p$0.executeLogWarning(Microsoft.Crm.Client.Core.Framework.TraceComponent.localDataSource,o.message)}return Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p},_fetchColorForLabel$p$0:function(n,t){var f,r,u,e,i;if(_Script.isNullOrUndefined(t))return Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p;try{f=this._getOptionSetMetadata$p$0(n);r=f.getChartingMetaDataInDisplayOrder();for(u in r)if(e={key:u,value:r[u]},i=e.value,i.get_label()===t)return i.get_color()?i.get_color():Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p}catch(o){this._trace$p$0.executeLogWarning(Microsoft.Crm.Client.Core.Framework.TraceComponent.localDataSource,o.message)}return Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p},_getOptionSetMetadata$p$0:function(n){var t=this._metaDataAggregator$p$0.getChartingAttributeMetadata(this._primaryModelName$p$0,n);return _Script.isNullOrUndefined(t)?null:t}};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField=function(n,t){this._attribute$p$0=n;this._primaryGroupBy$p$0=t;this._aliasName$p$0=this._attribute$p$0.get_aliasName()?this._attribute$p$0.get_aliasName():this._attribute$p$0.get_name();this._primaryGroupBy$p$0&&this._primaryGroupBy$p$0.get_groupAttribute()&&this._primaryGroupBy$p$0.get_groupAttribute().get_dateTimeGrouping()&&(this._isDateTimeChart$p$0=!0)};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField.prototype={_rawValue$p$0:null,_attribute$p$0:null,_primaryGroupBy$p$0:null,_isDateTimeChart$p$0:!1,_aliasName$p$0:null,getValue:function(n){var t=this._isDateTimeChart$p$0?this.getDateTimeValue(n):null;return t&&Object.getType(t)===String||(t=n.getIEntityRecord().getFormattedValue(this._aliasName$p$0),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue&&(t=t.get_value()),t&&Object.getType(t)===Xrm.Objects.EntityReference&&(t=t.get_displayName()),t=t||Microsoft.Crm.Client.Core.Framework._String.empty,Object.getType(t)!==String&&(t=t.toString())),t.length?t:Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.EmptyAxisLabel")},getComparisonCode:function(n){var i,t;if(!this._attribute$p$0||!this._attribute$p$0.get_entity().get_metadataPair()||_Script.isNullOrUndefined(this._attribute$p$0.get_entity().get_metadataPair().get_attributeMetadataCollection().get_attributesByName().get_item(this._attribute$p$0.get_name())))return this.getValue(n);i=this._attribute$p$0.get_entity().get_metadataPair().get_attributeMetadataCollection().get_attributesByName().get_item(this._attribute$p$0.get_name()).get_type();switch(i){case Xrm.Objects.AttributeType.picklist:case Xrm.Objects.AttributeType.status:case Xrm.Objects.AttributeType.state:case 0:return t=n.getIEntityRecord().getValue(this._aliasName$p$0),t&&Object.getType(t)===Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue&&(t=t.get_value()),t&&Object.getType(t).implementsInterface(Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata)&&(t=t.get_value()),t=t||0,t.toString(2);default:return this.getValue(n)}},get_rawValue:function(){return this._rawValue$p$0},getDateTimeValue:function(n){var t=n.GetValue(this._aliasName$p$0);if(_Script.isNullOrUndefined(t)||t===Microsoft.Crm.Client.Core.Framework._String.empty)return Microsoft.Crm.Client.Core.Framework._String.empty;switch(this._attribute$p$0.get_dateTimeGrouping().get_groupingType()){case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day:return this.getXDayValue(n);case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week:return this.getXWeekValue(n);case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month:return this.getXMonthValue(n);case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter:return this.getXQuarterValue(n);case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod:return this.getXFiscalPeriodValue(n);case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year:return this.getXYearValue(n);case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear:return this.getXFiscalYearValue(n)}return n.GetValue(this._aliasName$p$0)},get_dateTimeFieldBehavior:function(){var n=this._attribute$p$0.get_entity().get_metadataPair().get_attributeMetadataCollection().get_attributesByName().get_item(this._attribute$p$0.get_name());return n.get_behavior()},get_xAxisTitle:function(){return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatAxisTitle(this._attribute$p$0)},getXYearValue:function(n){var t=n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw);return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatDate(t,-1,-1,-1)},getXMonthValue:function(n){var t=n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw),i=n.GetValue(this._primaryGroupBy$p$0.get_extendedGroupBys().get_item(0).get_aliasName()+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw);return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatDate(i,t,-1,-1)},getXDayValue:function(n){var t=n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw),i=n.GetValue(this._primaryGroupBy$p$0.get_extendedGroupBys().get_item(0).get_aliasName()+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw),r=n.GetValue(this._primaryGroupBy$p$0.get_extendedGroupBys().get_item(1).get_aliasName()+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw);return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatDate(r,i,-1,t)},getXWeekValue:function(n){var t=n.GetValue(this._primaryGroupBy$p$0.get_extendedGroupBys().get_item(0).get_aliasName()+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw),i=n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw);return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatDate(t,-1,i,-1)},getXFiscalYearValue:function(n){var t=n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw);return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatFiscal(t,-1)},getXFiscalPeriodValue:function(n){return n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw)},getXQuarterValue:function(n){var t=n.GetValue(this._primaryGroupBy$p$0.get_extendedGroupBys().get_item(0).get_aliasName()+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw),i=n.GetValue(this._aliasName$p$0+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw);return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatFiscal(t,i)}};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser.isInteractionCentricMultiEntityChartsFeatureSupported=function(n){return n?n.isFeatureEnabled(Microsoft.Crm.Client.Core.Framework.FeatureName.interactionCentricMultiEntityChartsFeature):!1};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser._getRawFieldName$p=function(n){return(Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(n.get_aliasName())?n.get_name():n.get_aliasName())+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser.prototype={_queryModel$p$0:null,_chartData$p$0:null,_categoryColumns$p$0:null,_chartPresentationSeries$p$0:null,_chartDataDescription$p$0:null,_isInitialized$p$0:!1,_featureControlManager$p$0:null,get_isInitialized:function(){return this._isInitialized$p$0},set_isInitialized:function(n){return this._isInitialized$p$0=n,n},get_chartData:function(){return this._chartData$p$0},set_chartData:function(n){return this._chartData$p$0=n,n},get_featureControlManager:function(){return this._featureControlManager$p$0},set_featureControlManager:function(n){return this._featureControlManager$p$0=n,n},get_categoryColumn:function(){return this._categoryColumns$p$0},set_categoryColumn:function(n){return this._categoryColumns$p$0=n,n},get_chartPresentationSeries:function(){return this._chartPresentationSeries$p$0},set_chartPresentationSeries:function(n){return this._chartPresentationSeries$p$0=n,n},get_primaryGroupBy:function(){return this._chartDataDescription$p$0.get_category().get_primaryGroupBy()},get_chartDataDescription:function(){return this._chartDataDescription$p$0},get_queryModel:function(){return this._queryModel$p$0},initialize:function(n,t,i,r){this._chartData$p$0=n;this._chartDataDescription$p$0=t;this._categoryColumns$p$0=this._chartDataDescription$p$0.get_categoryColumns();this._chartPresentationSeries$p$0=i;this._queryModel$p$0=r;this._isInitialized$p$0=!0},retrieveChartYAxis:function(){var n=new Array(1);return n[0]=new Microsoft.Crm.Client.Core.Models.YAxis,n[0].Title=this._queryModel$p$0.get_SeriesList()&&this._queryModel$p$0.get_SeriesList().length===1?this._queryModel$p$0.get_SeriesList()[0].Title:Microsoft.Crm.Client.Core.Framework._String.empty,n},retrieveChartCategory:function(){var r=new Array(1),i=null,t,n,u;for(this._categoryColumns$p$0.get_Count()>0&&(i=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField(this._categoryColumns$p$0.get_item(0),this._chartDataDescription$p$0.get_category().get_primaryGroupBy())),r[0]=new Microsoft.Crm.Client.Core.Models.XAxis,t=new Array(this._chartData$p$0.get_count()),n=0;n<this._chartData$p$0.get_count();n++)u=this._chartData$p$0.get_itemsAsList().get_item(n),i?(t[n]=i.getValue(u),t[n]==="-1"&&(t[n]=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("ChartAttributeValueMissing"))):t[n]=Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.getAllDataLocalizedString();return i&&(r[0].Title=i.get_xAxisTitle()),r[0].Values=t,r},retrieveChartSeries:function(n){for(var u=new Array(this._chartPresentationSeries$p$0.get_Count()),e,r,s,c,h,w,t=0;t<this._chartPresentationSeries$p$0.get_Count();t++){var i=this._chartDataDescription$p$0.get_category().get_measureCollections().get_item(t).get_measures().get_item(0).get_measureAttribute(),l=i.get_aliasName()?i.get_aliasName():i.get_name(),a=this._chartPresentationSeries$p$0.get_item(t).get_isValueShownAsLabel(),f=null,v=Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatAxisTitle(i);if(this._queryModel$p$0.set_enableDrilldown(!0),u[t]=this.cloneBlueprintSeriesStyle(this._chartPresentationSeries$p$0.get_item(t)),i.get_hasAggregate()&&i.get_entity()&&i.get_entity().get_groupByAttributes()&&i.get_entity().get_groupByAttributes().length>0)for(f=new Array(i.get_entity().get_groupByAttributes().length),e=0;e<i.get_entity().get_groupByAttributes().length;e++)f[e]=i.get_entity().get_groupByAttributes()[e];else this.get_primaryGroupBy()&&this.get_primaryGroupBy().get_groupAttribute()&&(f=new Array(0),Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(this.get_primaryGroupBy().get_groupAttribute().get_name())&&Microsoft.Crm.Client.Core.Framework._String.isNullOrWhiteSpace(this.get_primaryGroupBy().get_groupAttribute().get_aliasName())||(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser.isInteractionCentricMultiEntityChartsFeatureSupported(this._featureControlManager$p$0)?f[0]=this.get_primaryGroupBy().get_groupAttribute():this.get_primaryGroupBy().get_groupAttribute().get_entity().get_parentEntity()?this._queryModel$p$0.set_enableDrilldown(!1):f[0]=this.get_primaryGroupBy().get_groupAttribute()));var o=new Array(this._chartData$p$0.get_count()),y=l+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw,p=l;for(r=0;r<this._chartData$p$0.get_count();r++)s=this._chartData$p$0.get_itemsAsList().get_item(r),o[r]=new Microsoft.Crm.Client.Core.Models.DataPoint,c=s.GetValue(y),o[r].Value=c?c:0,o[r].FormattedValue=s.getIEntityRecord().getFormattedValue(p)||0,this.attachAggregators(o[r],s,f);a&&(h=new Microsoft.Crm.Client.Core.Models.DataLabels,h.Enabled=!0,w=this,h.LabelFormatter=function(){return Microsoft.Crm.Client.Core.Framework._String.empty+this.point.FormattedValue},u[t].dataLabels=h);u[t].DataPoints=o;u[t].Title=this._chartPresentationSeries$p$0.get_item(t).get_name()||v;u[t].XAxisNumber=n}return u},cloneBlueprintSeriesStyle:function(n){var t=new Microsoft.Crm.Client.Core.Models.Series;return t.ChartType=n.get_chartType(),t.Color=n.get_color(),t.BorderColor=n.get_borderColor(),t.BorderWidth=n.get_borderWidth(),t.CustomProperties=n.get_customProperties(),t},attachAggregators:function(n,t,i){var f,u,r;if(i){for(f=new Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer,u=0;u<i.length;u++)r=i[u],f.addAggregator(r.get_name(),t.GetValue(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser._getRawFieldName$p(r)),r.get_dateTimeGrouping()?r.get_dateTimeGrouping().get_groupingType():-1);n.Aggregators=f.getAggregators()}}};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParserFactory=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParserFactory.obtainParser=function(n){var t=null;switch(n){case Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.comparisonChart:t=new Microsoft.Crm.Client.Core.ViewModels.Controls.ComparisonChartDataParser;break;case Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.dateTimeChart:t=new Microsoft.Crm.Client.Core.ViewModels.Controls.DateTimeChartDataParser;break;case Microsoft.Crm.Client.Core.ViewModels.Controls.ChartType.normalChart:default:t=new Microsoft.Crm.Client.Core.ViewModels.Controls.NormalChartDataParser}return t.set_featureControlManager(null),t};Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.get_monthNames=function(){return Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter._monthNames$p||(Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter._monthNames$p=Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Calendar_Short_Months").split(","),Microsoft.Crm.Client.Core.Framework.Debug.assert(Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter._monthNames$p.length===12,"Expected 12 months! Actual:"+Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter._monthNames$p.length)),Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter._monthNames$p};Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatDate=function(n,t,i,r){var f=r>=1&&i<1&&t>=1,e=r<1&&i>=1&&t<1,o=r<1&&i<1&&t>=1,s=i<1&&t<1,u;return f?(u=new Date(n,t-1,r),Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.get_instance().formatShortDateValue(u,0)):e?String.format(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.Year.Week"),i,n):o?String.format("{0} {1}",Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.get_monthNames()[t-1],n):s?n.toString():Microsoft.Crm.Client.Core.Framework._String.empty};Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatFiscal=function(n,t){return t>0?String.format(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.Year.Quarter"),t,n):String.format(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("FiscalYear_Format_String_NoSpace"),n)};Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatAxisTitle=function(n){var i=n.get_entity().get_metadataPair().get_attributeMetadataCollection().get_attributesByName().get_item(n.get_name()),r=_Script.isNullOrUndefined(i)?null:i.get_displayName(),t,f,e,u;return r||(r=n.get_name()),t=r,n.get_dateTimeGrouping()?(f=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fromGroupingTypeToName(n.get_dateTimeGrouping().get_groupingType()).replace("-",Microsoft.Crm.Client.Core.Framework._String.empty).toUpperCase(),t=String.format(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.AxisTitle.DateGrouping"),Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.AxisTitle.DateGrouping."+f.toUpperCase()),r)):n.get_hasAggregate()&&!Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n.get_aggregateType())&&(t=String.format(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.AxisTitle"),Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.AxisTitle."+n.get_aggregateType().toUpperCase()),r)),i&&i.get_type()===Xrm.Objects.AttributeType.money&&(e=Microsoft.Crm.Client.DataSourceFactory.get_instance().getChartingDataSource(),u=e.getAttributeTransactionCurrencySymbol(i,n.get_hasAggregate()),Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(u)||(t=String.format(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.AxisTitle.CurrencySymbol"),t,u))),t};Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.getAllDataLocalizedString=function(){return Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Web.Visualization.EmptyAxisLabel")};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser=function(n){this._presentationXMLDoc$p$0=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(n);this._validateDataPresentation$p$0(this._presentationXMLDoc$p$0);this._chartPresentationSeries$p$0=this._retriveChartPresentationSeries$p$0();this._chartPresentationLegendList$p$0=this._retrieveLegendList$p$0();this._colorsList$p$0=this._retrievePaletteCustomColors$p$0()};Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.prototype={_presentationXMLDoc$p$0:null,_chartPresentationSeries$p$0:null,_chartPresentationLegendList$p$0:null,_colorsList$p$0:null,get_chartPresentationSeries:function(){return this._chartPresentationSeries$p$0},get_chartPresentationLegendList:function(){return this._chartPresentationLegendList$p$0},get_colorsList:function(){return this._colorsList$p$0},_retriveChartPresentationSeries$p$0:function(){for(var r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationSeries)),u=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(this._presentationXMLDoc$p$0).selectNodes("Chart/Series/Series"),t,n,i=0;i<u.get_count();i++)t=u.get_item(i),n=new Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationSeries,n.set_chartType(t.getAttribute("ChartType")),n.set_color(t.getAttribute("Color")),n.set_name(t.getAttribute("Name")),n.set_customProperties(t.getAttribute("CustomProperties")),n.set_borderColor(t.getAttribute("BorderColor")),n.set_borderWidth(t.getAttribute("BorderWidth")),n.set_isValueShownAsLabel(t.getAttribute("IsValueShownAsLabel")==="True"),r.add(n);return r},_retrieveLegendList$p$0:function(){for(var u=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationLegend)),f=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(this._presentationXMLDoc$p$0).selectNodes("Chart/Legends/Legend"),t,n,r,i=0;i<f.get_count();i++)t=f.get_item(i),n=new Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationLegend,n.set_alignment(t.getAttribute("Alignment")),n.set_docking(t.getAttribute("Docking")),n.set_foreColor(t.getAttribute("ForeColor")),r=t.getAttribute("Enabled"),n.set_enabled(!r||r),u.add(n);return u},_retrievePaletteCustomColors$p$0:function(){var t=[],f=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(this._presentationXMLDoc$p$0).selectSingleNode("Chart"),i=f.getAttribute("PaletteCustomColors"),u;if(i)for(var r=i.split(";"),e=r.length,n=0;n<e;++n)u=r[n],Array.add(t,String.format(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.colorStringFormat,u.trim()));return t},_validateDataPresentation$p$0:function(n){var t=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(n).selectSingleNode("Error");if(t)throw new Microsoft.Crm.Client.Core.Framework.ChartError(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_Unsupported_Title"),Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.getLocalizedString("Chart_Unsupported_Message")).toException();}};Microsoft.Crm.Client.Core.ViewModels.Controls.ComparisonChartDataParser=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.ComparisonChartDataParser.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.ComparisonChartDataParser.prototype={parse:function(){var tt=new Microsoft.Crm.Client.Core.Framework.PerformanceStopwatch("ComparisonChartDataParser:Parse"),e,it,a,n,v,y,p,f,r,d,h,i,c,l,kt,dt,u,ot,at;tt.start();try{if(e=new Array(0),it={},Microsoft.Crm.Client.Core.Framework.Debug.assert(this.get_isInitialized(),"The instance of the ComparisonChartDataParser class is not properly initialized."),a=this.get_chartDataDescription().get_category(),n=a.get_measureCollections().get_item(0),Microsoft.Crm.Client.Core.Framework.Debug.assert(n.get_secondaryGroupBys().get_Count()>0,"Comparison chart can only be plotted with secondary groups's"),n.get_measures()&&n.get_measures().get_Count()>0&&n.get_measures().get_item(0).get_parentCategory()&&n.get_measures().get_item(0).get_parentCategory().get_primaryGroupBy()&&(n.get_measures().get_item(0).get_parentCategory().get_primaryGroupBy().get_groupAttribute()&&(e[e.length]=n.get_measures().get_item(0).get_parentCategory().get_primaryGroupBy().get_groupAttribute()),n.get_measures().get_item(0).get_parentCategory().get_primaryGroupBy().get_extendedGroupBys()))for(v=0;v<n.get_measures().get_item(0).get_parentCategory().get_primaryGroupBy().get_extendedGroupBys().get_Count();v++)e[e.length]=n.get_measures().get_item(0).get_parentCategory().get_primaryGroupBy().get_extendedGroupBys().get_item(v);Microsoft.Crm.Client.Core.Framework.Debug.assert(this.get_chartPresentationSeries().get_Count()===1,"Comparison chart should have only one series");y=n.get_secondaryGroupBys().get_item(0).get_groupAttribute();p=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField(y,n.get_secondaryGroupBys().get_item(0));y&&(e[e.length]=y);var rt=n.get_measures().get_item(0).get_measureAttribute(),st=rt.get_aliasName()||rt.get_name(),vt=st+Microsoft.Crm.Client.Core.Framework.FieldFormat.raw,yt=st,pt=a.get_primaryGroupBy().get_groupAttribute(),ut=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField(pt,a.get_primaryGroupBy()),t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),o=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),w={};for(f=0;f<this.get_chartData().get_count();f++){var r=this.get_chartData().get_itemsAsList().get_item(f),b=ut.getValue(r),k=p.getValue(r),s;k?s=p.getComparisonCode(r):(k=Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.getAllDataLocalizedString(),s=k);it[s]=k;o.contains(b)||o.add(b);t.contains(s)||t.add(s)}for(var ht=t.get_Items(),wt=ht.length,ft=0;ft<wt;++ft)h=ht[ft],i=new Array(o.get_Count()),w[h]=i;for(f=0;f<this.get_chartData().get_count();f++){r=this.get_chartData().get_itemsAsList().get_item(f);d=p.getComparisonCode(r);d||(d=Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.getAllDataLocalizedString());var i=w[d],b=ut.getValue(r),g=o.indexOf(b);i[g]=new Microsoft.Crm.Client.Core.Models.DataPoint;i[g].Value=r.GetValue(vt);i[g].FormattedValue=r.getIEntityRecord().getFormattedValue(yt);this.attachAggregators(i[g],r,e)}for(var ct=t.get_Items(),bt=ct.length,et=0;et<bt;++et)for(h=ct[et],i=w[h],c=0;c<o.get_Count();c++)_Script.isNullOrUndefined(i[c])&&(i[c]=new Microsoft.Crm.Client.Core.Models.DataPoint);l=new Array(1);l[0]=new Microsoft.Crm.Client.Core.Models.XAxis;l[0].Title=ut.get_xAxisTitle();l[0].Values=o.toArray();n.get_secondaryGroupBys().get_item(0).get_descending()?(kt=this,t.sort(function(n,t){return n.localeCompare(t)})):(dt=this,t.sort(function(n,t){return t.localeCompare(n)}));var nt=new Array(t.get_Count()),lt=!!this.get_queryModel().get_Colors()&&this.get_queryModel().get_Colors().length>0,gt=lt?this.get_queryModel().get_Colors()[0]:null;for(u=0;u<t.get_Count();u++)ot=t.get_Items()[u],nt[u]=this.cloneBlueprintSeriesStyle(this.get_chartPresentationSeries().get_item(0)),nt[u].Title=it[ot],nt[u].DataPoints=w[ot],lt&&(at=u%this.get_queryModel().get_Colors().length,this.get_queryModel().get_Colors()[at]=u===t.get_Count()-1?gt:this.get_queryModel().get_Colors()[(t.get_Count()-u-1)%this.get_queryModel().get_Colors().length]);this.get_queryModel().set_XAxes(l);this.get_queryModel().set_YAxes(this._retrieveChartYAxis$p$1(rt));this.get_queryModel().set_SeriesList(nt)}finally{tt.stop();tt=null}},_retrieveChartYAxis$p$1:function(n){var t=new Array(1);return t[0]=new Microsoft.Crm.Client.Core.Models.YAxis,t[0].Title=Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.formatAxisTitle(n),t}};Microsoft.Crm.Client.Core.ViewModels.Controls.DateTimeChartDataParser=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.DateTimeChartDataParser.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.DateTimeChartDataParser.prototype={parse:function(){this.get_categoryColumn()&&this.get_categoryColumn().get_Count()&&(this.get_queryModel().set_XAxes(this.retrieveChartCategory()),this.get_queryModel().set_SeriesList(this.retrieveChartSeries(0)),this.get_queryModel().set_YAxes(this.retrieveChartYAxis()))},retrieveChartCategory:function(){var n=new Array(1),u,i,r,t,f;if(this.get_chartData().get_count()<1)return n;for(u=this.get_primaryGroupBy().get_groupAttribute(),n[0]=new Microsoft.Crm.Client.Core.Models.XAxis,i=new Array(this.get_chartData().get_count()),r=new Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField(u,this.get_primaryGroupBy()),n[0].Title=r.get_xAxisTitle(),t=0;t<this.get_chartData().get_count();t++)f=this.get_chartData().get_itemsAsList().get_item(t),i[t]=r.getValue(f);return n[0].Values=i,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchart=function(){var n={};return n.marginTop=60,n.marginBottom=78,n.spacingBottom=13,n.spacingLeft=0,n.marginRight=0,n.spacingTop=13,n};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartEvents=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeries=function(){var n={};return n.borderRadius=0,n.shadow=!1,n};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesData=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesArray=function(){return[]};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesState=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesSelectState=function(){var n=Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesState();return n.borderColor="black",n.borderWidth=3,n.color=null,n};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartPlotOptions=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.createHighchartSeriesAnimation=function(){return{}};Microsoft.Crm.Client.Core.ViewModels.Controls.NormalChartDataParser=function(){Microsoft.Crm.Client.Core.ViewModels.Controls.NormalChartDataParser.initializeBase(this)};Microsoft.Crm.Client.Core.ViewModels.Controls.NormalChartDataParser.prototype={parse:function(){(Microsoft.Crm.Client.Core.Framework.Debug.assert(this.get_isInitialized(),"The instance of the NormalChartDataParser class is not properly initialized."),this.get_categoryColumn()&&this.get_categoryColumn().get_Count())&&(this.get_queryModel().set_XAxes(this.retrieveChartCategory()),this.get_queryModel().set_SeriesList(this.retrieveChartSeries(0)),this.get_queryModel().set_YAxes(this.retrieveChartYAxis()))}};Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationSeries=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationSeries.prototype={_chartType$p$0:null,_color$p$0:null,_name$p$0:null,_customProperties$p$0:null,_borderWidth$p$0:0,_borderColor$p$0:null,_isValueShownAsLabel$p$0:!1,get_chartType:function(){return this._chartType$p$0},set_chartType:function(n){return this._chartType$p$0=n||"Column",n},get_color:function(){return this._color$p$0},set_color:function(n){return this._color$p$0=n?String.format(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.colorStringFormat,n.trim()):null,n},get_isValueShownAsLabel:function(){return this._isValueShownAsLabel$p$0},set_isValueShownAsLabel:function(n){return this._isValueShownAsLabel$p$0=n,n},get_name:function(){return this._name$p$0},set_name:function(n){return this._name$p$0=n,n},get_customProperties:function(){return this._customProperties$p$0},set_customProperties:function(n){return this._customProperties$p$0=n,n},get_borderWidth:function(){return this._borderWidth$p$0},set_borderWidth:function(n){return this._borderWidth$p$0=n,n},get_borderColor:function(){return this._borderColor$p$0},set_borderColor:function(n){return this._borderColor$p$0=n?String.format(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.colorStringFormat,n.trim()):null,n}};Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationLegend=function(){};Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationLegend.prototype={_alignment$p$0:null,_docking$p$0:null,_foreColor$p$0:null,_enabled$p$0:!1,get_alignment:function(){return this._alignment$p$0},set_alignment:function(n){return this._alignment$p$0=n,n},get_docking:function(){return this._docking$p$0},set_docking:function(n){return this._docking$p$0=n,n},get_foreColor:function(){return this._foreColor$p$0},set_foreColor:function(n){return this._foreColor$p$0=n?String.format(Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.colorStringFormat,n.trim()):null,n},get_enabled:function(){return this._enabled$p$0},set_enabled:function(n){return this._enabled$p$0=n,n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ICondition=function(){};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ICondition.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ICondition");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression=function(){};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression.registerInterface("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator=function(){};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.prototype={and:0,or:1,not:2};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.registerEnum("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator",!1);Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression=function(n,t,i,r){this._name$p$0=n;this._aliasName$p$0=t;this._entity$p$0=i;this._dateTimeGrouping$p$0=_Script.isUndefined(r)?null:r};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression.generateUniqueAliasName=function(n,t){return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._sequence$p++,Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._sequence$p>Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._maxSequence$p&&(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._sequence$p=0),String.format("{0}_{1}{2}_{3}",n,Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._sequence$p,t,(new Date).getTime())};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression.prototype={_name$p$0:null,_aliasName$p$0:null,_hasGroupBy$p$0:!1,_hasAggregate$p$0:!1,_aggregateType$p$0:null,_entity$p$0:null,_dateTimeGrouping$p$0:null,get_entity:function(){return this._entity$p$0},get_name:function(){return this._name$p$0},get_aliasName:function(){return this._aliasName$p$0},get_aggregateType:function(){return this._aggregateType$p$0},set_aggregateType:function(n){return this._aggregateType$p$0=n,n},get_hasGroupBy:function(){return this._hasGroupBy$p$0},set_hasGroupBy:function(n){return this._hasGroupBy$p$0=n,n},get_hasAggregate:function(){return this._hasAggregate$p$0},set_hasAggregate:function(n){return this._hasAggregate$p$0=n,n},get_dateTimeGrouping:function(){return this._dateTimeGrouping$p$0}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition=function(n,t,i){this.set_attributeName(n);this.set_operator(t);this.set_value(i)};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition.parseXMLNode=function(n,t){var f=_Script.isNullOrUndefined(n.getAttribute("value"))?null:n.getAttribute("value").toString(),e=_Script.isNullOrUndefined(n.getAttribute("entityname"))?null:n.getAttribute("entityname").toString(),i,r,u;if(_Script.isNullOrUndefined(f)&&(i=n.selectNodes("value"),i.get_count()>0)){for(r=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),u=0;u<i.get_count();u++)r.add(i.get_item(u).get_innerText());_Script.isNullOrUndefined(e)?t.addCondition(n.getAttribute("attribute").toString(),n.getAttribute("operator").toString(),r):t.addCondition(n.getAttribute("attribute").toString(),n.getAttribute("operator").toString(),r,n.getAttribute("entityname").toString());return}_Script.isNullOrUndefined(e)?t.addCondition(n.getAttribute("attribute").toString(),n.getAttribute("operator").toString(),f):t.addCondition(n.getAttribute("attribute").toString(),n.getAttribute("operator").toString(),f,n.getAttribute("entityname").toString())};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition.prototype={_entityName$p$0:null,get_entityName:function(){return _Script.isNullOrUndefined(this._entityName$p$0)&&(this._entityName$p$0=Microsoft.Crm.Client.Core.Framework._String.empty),this._entityName$p$0},set_entityName:function(n){return this._entityName$p$0=n,n},_$$pf_AttributeName$p$0:null,get_attributeName:function(){return this._$$pf_AttributeName$p$0},set_attributeName:function(n){return this._$$pf_AttributeName$p$0=n,n},_$$pf_Operator$p$0:null,get_operator:function(){return this._$$pf_Operator$p$0},set_operator:function(n){return this._$$pf_Operator$p$0=n,n},_$$pf_Value$p$0:null,get_value:function(){return this._$$pf_Value$p$0},set_value:function(n){return this._$$pf_Value$p$0=n,n},_$$pf_ConditionName$p$0:null,get_conditionName:function(){return this._$$pf_ConditionName$p$0},set_conditionName:function(n){return this._$$pf_ConditionName$p$0=n,n},clone:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition(this.get_attributeName(),this.get_operator(),this.get_value());return n.set_entityName(this.get_entityName()),n.set_conditionName(this.get_conditionName()),n},equals:function(n){var i,r,t;if(!n)return!1;if(this.get_attributeName()===n.get_attributeName()&&this.get_operator()===n.get_operator()&&this.get_entityName()===n.get_entityName())if(n.get_value()||this.get_value())if(n.get_value()&&this.get_value()&&Object.getType(n.get_value())===Object.getType(this.get_value())){if(Object.getType(n.get_value())===String)return this.get_value()===n.get_value();if(Object.getType(n.get_value())===Microsoft.Crm.Client.Core.Framework.List$1.$$(String)){if(i=n.get_value(),r=this.get_value(),i.get_Count()!==r.get_Count())return!1;for(t=0;t<i.get_Count();t++)if(i.get_item(t)!==r.get_item(t))return!1;return!0}}else return!1;else return!0;return!1}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo=function(n){if(n<Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day||n>Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear)throw Error.argumentOutOfRange("type",n);this._groupingType$p$0=n};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fromGroupingTypeNameToType=function(n){if(!n)return-1;switch(n){case"day":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day;case"week":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week;case"month":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month;case"year":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year;case"quarter":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter;case"fiscal-period":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod;case"fiscal-year":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear;default:return-1}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fromGroupingTypeToName=function(n){switch(n){case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day:return"day";case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week:return"week";case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month:return"month";case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year:return"year";case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter:return"quarter";case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod:return"fiscal-period";case Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear:return"fiscal-year";default:return null}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.prototype={_groupingType$p$0:0,get_groupingType:function(){return this._groupingType$p$0}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression=function(n,t,i){this.top=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.defaultTopValue;this.offset=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.defaultOffsetValue;this.entityName=n;this.tableAliasCount=0;this.tableAliases=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String));this.tableAlias=this.generateTableAlias(this.entityName);this.attributes=new Array(0);this.attributesByName={};this.orderByAttributes=new Array(0);this.groupByAttributes=new Array(0);this.aggregateAttributes=new Array(0);this.linkedEntities=new Array(0);this.parentEntity=t;t?(this.baseEntity=t.baseEntity,this.joinType=_Script.isNullOrUndefined(i)?Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.innerJoin:i):this.baseEntity=this};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.prototype={joinType:0,fetchXmlDoc:null,entityName:null,get_top:function(){return this.top},get_offset:function(){return this.offset},set_offset:function(n){return this.offset=n,n},attributesByName:null,attributes:null,orderByAttributes:null,groupByAttributes:null,aggregateAttributes:null,linkedEntities:null,parentEntity:null,baseEntity:null,metadataPair:null,filterExpression:null,hasAggregate:!1,tableAlias:null,tableAliasCount:0,tableAliases:null,useLimitStatement:!0,get_linkedEntities:function(){return this.linkedEntities},get_aggregateAttributes:function(){return this.aggregateAttributes},get_joinType:function(){return this.joinType},get_groupByAttributes:function(){return this.groupByAttributes},get_orderByAttributes:function(){return this.orderByAttributes},get_attributesByName:function(){return this.attributesByName},get_attributes:function(){return this.attributes},get_entityName:function(){return this.entityName},get_fetchXml:function(){return Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.create(this.fetchXmlDoc.firstChild).get_outerXml()},get_hasAggregate:function(){return this.hasAggregate},get_parentEntity:function(){return this.parentEntity},set_parentEntity:function(n){return this.parentEntity=n,n},get_baseEntity:function(){return this.baseEntity},set_baseEntity:function(n){return this.baseEntity=n,n},get_filterExpression:function(){return this.filterExpression},set_filterExpression:function(n){return this.filterExpression=n,n},get_metadataPair:function(){return this.metadataPair},set_metadataPair:function(n){return this.metadataPair=n,n},get_tableAlias:function(){return this.tableAlias},set_tableAlias:function(n){return this.tableAlias=n,n},get_useLimitStatement:function(){return this.useLimitStatement},set_useLimitStatement:function(n){return this.useLimitStatement=n,n},generateTableAlias:function(n){if(!Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(n)){var t=String.format("{0}{1}",n,this.tableAliasCount++);return this.tableAliases.add(t),t}return Microsoft.Crm.Client.Core.Framework._String.empty},initialize:function(n){var i,t,r;this.fetchXmlDoc=Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNodeFactory.parseXmlDocument(n.get_outerXml());this.hasAggregate=this.getAttributeValue(n,"aggregate")==="true";i=this.getAttributeValue(n,"count");i&&(this.top=Number.parseInvariant(i));t=n.selectSingleNode("entity");_Script.isNullOrUndefined(t)&&n.get_tagName()==="link-entity"&&(t=n);_Script.isNullOrUndefined(this.parentEntity)&&(r=this.getAttributeValue(t,"name"),this.tableAliasCount=0,this.tableAliases=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),this.tableAlias=this.generateTableAlias(r),this.baseEntity=this);this.parser(t)},insertFilterExpressionIntoFetch:function(n){if(n){this.set_filterExpression(n);var t=this._xmlFilterNode$p$0(this.get_filterExpression()),i=this.fetchXmlDoc.getElementsByTagName("entity")[0],r=this.fetchXmlDoc.getElementsByTagName("filter")[0];r?i.replaceChild(t,r):i.appendChild(t)}},_xmlFilterNode$p$0:function(n){var t=null,u,r,e,f,o,s,i;if(n&&(n.get_filterExpressions()&&n.get_filterExpressions().get_Count()||n.get_conditions()&&n.get_conditions().get_Count()))if(n.get_conditions())for(t=this.fetchXmlDoc.createElement("filter"),t.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"type",Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.toString(n.get_filterOperator()).toLowerCase())),i=0;i<n.get_conditions().get_Count();i++)if(u=n.get_conditions().get_item(i),r=this.fetchXmlDoc.createElement("condition"),r.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"attribute",u.get_attributeName())),r.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"operator",u.get_operator())),u.get_value())if(Object.getType(u.get_value())===String)r.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"value",u.get_value())),t.appendChild(r);else{for(e=u.get_value(),f=0;f<e.get_Count();f++)o=this.fetchXmlDoc.createElement("value"),s=this.fetchXmlDoc.createTextNode("settingValue"),s.nodeValue=e.get_item(f),o.appendChild(s),r.appendChild(o);t.appendChild(r)}else t.appendChild(r);else if(t=this.fetchXmlDoc.createElement("filter"),t.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"type",Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.toString(n.get_filterOperator()).toLowerCase())),n.get_filterExpressions().get_Count()===1)t=this._xmlFilterNode$p$0(n.get_filterExpressions().get_item(0));else for(i=0;i<n.get_filterExpressions().get_Count();i++)t.appendChild(this._xmlFilterNode$p$0(n.get_filterExpressions().get_item(i)));else return t;return t},insertOrderByAttributeIntoFetch:function(n,t,i,r){var u=this.fetchXmlDoc.createElement("order"),f,o,s,e,h,c;if(n&&u.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"attribute",n)),t&&u.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"alias",t)),u.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"descending",i?"true":"false")),f=this.getEntityNode(),r<0){f.appendChild(u);return}for(o=f.childNodes,s=-1,e=0;e<o.length;e++)if(h=o[e],c=h.nodeName,c&&c.toLowerCase()==="order"&&(s++,s===r)){f.insertBefore(u,h);return}f.appendChild(u)},insertOrderBy:function(n,t,i,r){var e=t?null:n.get_name()?n.get_name():n.get_aliasName(),o=n.get_aliasName()?n.get_aliasName():n.get_name(),f,u;if(this.insertOrderByAttributeIntoFetch(e,o,i,r),f=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.OrderByQueryExpression(e,o,i,this),r===-1||r>=this.get_orderByAttributes().length)this.get_orderByAttributes()[this.get_orderByAttributes().length]=f;else for(u=this.get_orderByAttributes().length;u>=0;u--)if(r===u){this.get_orderByAttributes()[u]=f;break}else this.get_orderByAttributes()[u]=this.get_orderByAttributes()[u-1]},insertAttributeNode:function(n,t,i,r,u,f){var e=this.fetchXmlDoc.createElement("attribute"),o;e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"name",n));_Script.isNullOrUndefined(t)||e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"alias",t));_Script.isNullOrUndefined(i)||e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"groupby",i));_Script.isNullOrUndefined(r)||e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"aggregate",r));_Script.isNullOrUndefined(u)||(e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"dategrouping",u)),_Script.isNullOrUndefined(f)?e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"usertimezone","true")):e.attributes.setNamedItem(Microsoft.Crm.Client.Core.Storage.Common.Xml.XmlNode.createAttribute(this.fetchXmlDoc,"usertimezone",f)));o=this.getEntityNode();o.appendChild(e)},removeAllAttributesAndOrders:function(){this.removeAttributesAndOrder(this.fetchXmlDoc.getElementsByTagName("entity")[0])},removeAttributesAndOrder:function(n){for(var i=new Array(0),r,t=0,u=n.childNodes.length;t<u;t++){r=n.childNodes[t];switch(r.nodeName){case"attribute":i[i.length]=r;break;case"order":i[i.length]=r;break;case"link-entity":this.removeAttributesAndOrder(r)}}for(t=0;t<i.length;t++)n.removeChild(i[t])},addAttribute:function(n){var t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(n,null,this);this.get_attributesByName()[n]=t;this.get_attributes()[this.get_attributes().length]=t},addLinkEntity:function(n,t,i,r,u){var f=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression(n,this);return f.setLinkProperties(t,i,r,u),this.get_linkedEntities().push(f),f},parser:function(n){var u,r,t,v,f,e,s,h,l,a;for(this.entityName=this.getAttributeValue(n,"name"),u=n.childNodes(),r=0;r<u.get_count();r++)if(t=u.get_item(r),!_Script.isNullOrUndefined(t.get_tagName())){v=t.get_tagName().toLocaleLowerCase();switch(v){case"attribute":f=null;e=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fromGroupingTypeNameToType(this.getAttributeValue(t,"dategrouping"));e>=0&&(f=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo(e));var y=this.getAttributeValue(t,"name"),o=this.getAttributeValue(t,"alias"),i=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression(y,o,this,f);this.attributesByName[o?o:y]=i;this.attributes[this.attributes.length]=i;s=this.getAttributeValue(t,"aggregate");s&&(i.set_hasAggregate(!0),i.set_aggregateType(s),this.aggregateAttributes[this.aggregateAttributes.length]=i);h=this.getAttributeValue(t,"groupby");h&&h==="true"&&(i.set_hasGroupBy(!0),this.groupByAttributes[this.groupByAttributes.length]=i);break;case"order":var w=this.getAttributeValue(t,"alias"),b=this.getAttributeValue(t,"attribute"),p=this.getAttributeValue(t,"descending"),k=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.OrderByQueryExpression(b,w,!!p&&p==="true",this);this.orderByAttributes[this.orderByAttributes.length]=k;break;case"link-entity":var d=this.getAttributeValue(t,"name"),g=this.getAttributeValue(t,"from"),nt=this.getAttributeValue(t,"to"),tt=this.getAttributeValue(t,"link-type"),c=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression(d,this);c.setLinkProperties(g,nt,Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.equal,this.getLinkType(t));c.initialize(t);this.linkedEntities[this.linkedEntities.length]=c;break;case"filter":l=this.getAttributeValue(t,"type");a=0;l&&l.toLowerCase()==="or"&&(a=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.or);this.filterExpression=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression(a,this.get_entityName());this.filterExpression=this.filterParser(t,this.filterExpression)}}},filterParser:function(n,t){for(var a=n.childNodes(),i,v,s,h,e,u,l,f,p,w,r=0;r<a.get_count();r++)if(i=a.get_item(r),!_Script.isNullOrUndefined(i.get_tagName())){v=i.get_tagName().toLocaleLowerCase();switch(v){case"filter":s=this.getAttributeValue(i,"type");h=0;s&&s.toLowerCase()==="or"&&(h=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.or);e=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression(h,"tempValue");e=this.filterParser(i,e);t.addFilterExpression(e);break;case"condition":var o=this.getAttributeValue(i,"attribute"),c=this.getAttributeValue(i,"operator"),y=this.getAttributeValue(i,"value"),b=this.getAttributeValue(i,"uitype");if(r||t.set_filterExpressionId(o),Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(y)){if(u=i.childNodes(),u.get_count()>0){for(l=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),f=0;f<u.get_count();f++)(p=u.get_item(f),_Script.isNullOrUndefined(p.get_innerText()))||l.add(u.get_item(f).get_innerText());t.addCondition(o,c,l)}else t.addCondition(o,c);t.get_conditions().get_Count()>0&&(w=t.get_conditions().get_Items()[t.get_conditions().get_Count()-1],w.set_entityName(b))}else t.addCondition(o,c,y)}}return t},getEntityNode:function(){var n=this.fetchXmlDoc.getElementsByTagName("entity")[0];return _Script.isNullOrUndefined(n)&&(n=this.fetchXmlDoc.getElementsByTagName("link-entity")[0]),n},getAttributeValue:function(n,t){return n.getAttribute(t)},getLinkType:function(n){var t=this.getAttributeValue(n,"link-type");if(!t)return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.innerJoin;switch(t){case"natural":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.naturalJoin;case"inner":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.innerJoin;case"outer":return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.leftOuterJoin;default:throw Error.create("EntityQueryExpression.GetLinkType: Invalid join type!");}}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression=function(n,t,i){this.set_filterOperator(n);this.set_filterExpressionId(t);this.set_filterExpressions(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression)));_Script.isNullOrUndefined(i)?this.set_isQuickFindFields(!1):this.set_isQuickFindFields(i)};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._removeCondition$p=function(n,t){if(n.get_conditions())for(var i=0;i<n.get_conditions().get_Count();i++)n.get_conditions().get_item(i).equals(t)&&n.get_conditions().remove(n.get_conditions().get_item(i))};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._removeFilterExpression$p=function(n,t){if(n.get_filterExpressions())for(var i=0;i<n.get_filterExpressions().get_Count();i++)if(t===n.get_filterExpressions().get_item(i).get_filterExpressionId()){n.get_filterExpressions().remove(n.get_filterExpressions().get_item(i));break}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._createXmlFilter$p=function(n){var t=Microsoft.Crm.Client.Core.Framework._String.empty,i,f,u,r;if(n&&(n.get_filterExpressions()&&n.get_filterExpressions().get_Count()||n.get_conditions()&&n.get_conditions().get_Count()))if(n.get_conditions()){for(n.get_conditions().get_Count()>0&&(t+='<filter type="'+Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.toString(n.get_filterOperator()).toLowerCase()+'"',n.get_isQuickFindFields()&&(t+=' isquickfindfields="1"'),t+=">"),r=0;r<n.get_conditions().get_Count();r++)if(i=n.get_conditions().get_item(r),t+="<condition ",Microsoft.Crm.Client.Core.Framework._String.isNullOrEmpty(i.get_entityName())||(t+='entityname="'+i.get_entityName()+'" '),i.get_value())if(Object.getType(i.get_value())===String)t+='attribute="'+i.get_attributeName()+'" operator="'+i.get_operator()+'" value="'+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.xmlAttributeEncode(i.get_value())+'" />';else{for(f=i.get_value(),t+='attribute="'+i.get_attributeName()+'" operator="'+i.get_operator()+'">',u=0;u<f.get_Count();u++)t+="<value>"+Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.xmlEncode(f.get_item(u))+"<\/value>";t+="<\/condition>"}else t+='attribute="'+i.get_attributeName()+'" operator="'+i.get_operator()+'"/>';n.get_conditions().get_Count()>0&&(t+="<\/filter>")}else{for(n.get_filterExpressions().get_Count()>1&&(t+='<filter type="'+Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LogicalOperator.toString(n.get_filterOperator()).toLowerCase()+'">'),r=0;r<n.get_filterExpressions().get_Count();r++)t+=Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._createXmlFilter$p(n.get_filterExpressions().get_item(r));n.get_filterExpressions().get_Count()>1&&(t+="<\/filter>")}else return t;return t};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression.prototype={_$$pf_FilterExpressionId$p$0:null,get_filterExpressionId:function(){return this._$$pf_FilterExpressionId$p$0},set_filterExpressionId:function(n){return this._$$pf_FilterExpressionId$p$0=n,n},_$$pf_FilterOperator$p$0:0,get_filterOperator:function(){return this._$$pf_FilterOperator$p$0},set_filterOperator:function(n){return this._$$pf_FilterOperator$p$0=n,n},_$$pf_IsQuickFindFields$p$0:!1,get_isQuickFindFields:function(){return this._$$pf_IsQuickFindFields$p$0},set_isQuickFindFields:function(n){return this._$$pf_IsQuickFindFields$p$0=n,n},_$$pf_Conditions$p$0:null,get_conditions:function(){return this._$$pf_Conditions$p$0},set_conditions:function(n){return this._$$pf_Conditions$p$0=n,n},_$$pf_FilterExpressions$p$0:null,get_filterExpressions:function(){return this._$$pf_FilterExpressions$p$0},set_filterExpressions:function(n){return this._$$pf_FilterExpressions$p$0=n,n},addCondition:function(n,t,i,r,u){i=_Script.isNullOrUndefined(i)?null:i;u=_Script.isNullOrUndefined(u)?Microsoft.Crm.Client.Core.Framework._String.empty:u;var f=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition(n,t,i);return f.set_entityName(r),f.set_conditionName(u),this.get_conditions()?this.get_conditions().add(f):(this.set_conditions(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ICondition))),this.get_conditions().add(f)),this},removeCondition:function(n){return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._removeCondition$p(this,n),this},addFilterExpression:function(n){if(n)this.get_filterExpressions()?this.get_filterExpressions().add(n):(this.set_filterExpressions(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression))),this.get_filterExpressions().add(n));else return this;return this},removeFilterExpression:function(n){return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._removeFilterExpression$p(this,n),this},getFilterExpression:function(n){for(var t=0;this.get_filterExpressions()&&t<this.get_filterExpressions().get_Count();t++)if(n===this.get_filterExpressions().get_item(t).get_filterExpressionId())return this.get_filterExpressions().get_item(t);return null},reset:function(n){return n?(this.set_filterOperator(n.get_filterOperator()),this.set_filterExpressionId(n.get_filterExpressionId()),this.set_conditions(n.get_conditions()),this.set_filterExpressions(n.get_filterExpressions())):this.clear(),this},clear:function(){this.set_filterExpressionId(null);this.set_filterExpressions(null);this.set_conditions(null)},clone:function(){var t=new Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression(this.get_filterOperator(),this.get_filterExpressionId()),n;if(this.get_conditions())for(t.set_conditions(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ICondition))),n=0;n<this.get_conditions().get_Count();n++)t.get_conditions().add(this.get_conditions().get_item(n).clone());else t.set_conditions(null);if(this.get_filterExpressions())for(t.set_filterExpressions(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression))),n=0;n<this.get_filterExpressions().get_Count();n++)t.get_filterExpressions().add(this.get_filterExpressions().get_item(n).clone());else t.set_filterExpressions(null);return t},toFetchXml:function(){return Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression._createXmlFilter$p(this)}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.OrderByQueryExpression=function(n,t,i,r){this._name$p$0=n;this._aliasName$p$0=t;this._descending$p$0=i;this._entity$p$0=r};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.OrderByQueryExpression.prototype={_name$p$0:null,_aliasName$p$0:null,_descending$p$0:!1,_entity$p$0:null,get_entity:function(){return this._entity$p$0},get_descending:function(){return this._descending$p$0},get_name:function(){return this._name$p$0},get_aliasName:function(){return this._aliasName$p$0}};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator=function(){};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression=function(n,t,i){Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression.initializeBase(this);this.entityName=n;this.attributes=new Array(0);this.attributesByName={};this.orderByAttributes=new Array(0);this.groupByAttributes=new Array(0);this.aggregateAttributes=new Array(0);this.linkedEntities=new Array(0);this.parentEntity=t;t&&(this.baseEntity=t.get_baseEntity(),this.tableAlias=this.baseEntity.generateTableAlias(this.entityName),this.joinType=_Script.isNullOrUndefined(i)?Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.innerJoin:i)};Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression.prototype={_linkToAttribute$p$1:null,_linkFromAttribute$p$1:null,_conditionOperator$p$1:null,get_linkToAttribute:function(){return this._linkToAttribute$p$1},get_linkFromAttribute:function(){return this._linkFromAttribute$p$1},get_conditionOperator:function(){return this._conditionOperator$p$1},setLinkProperties:function(n,t,i,r){this._linkFromAttribute$p$1=n;this._linkToAttribute$p$1=t;this._conditionOperator$p$1=i;this.joinType=r}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy");Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode=function(){};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.multilineHtmlEncode=function(n,t){var i,r;if(_Script.isNullOrUndefined(n))return Microsoft.Crm.Client.Core.Framework._String.empty;for(_Script.isNullOrUndefined(t)&&(t=!1),i=n.replace("\r\n","\n").replace("\r","\n").split("\n"),r=0;r<i.length;r++)i[r]=Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.htmlEncode(i[r]);return t?i.join("<br />"):i.join("\r\n")};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.xmlAttributeEncode=function(n){return _Script.isNullOrUndefined(n)?Microsoft.Crm.Client.Core.Framework._String.empty:CrmEncodeDecode.CrmXmlAttributeEncode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.javaScriptEncode=function(n){return CrmEncodeDecode.CrmJavaScriptEncode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.htmlAttributeEncode=function(n){return CrmEncodeDecode.CrmHtmlAttributeEncode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.htmlEncode=function(n){return _Script.isNullOrUndefined(n)?Microsoft.Crm.Client.Core.Framework._String.empty:CrmEncodeDecode.CrmHtmlEncode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.htmlDecode=function(n){return _Script.isNullOrUndefined(n)?Microsoft.Crm.Client.Core.Framework._String.empty:CrmEncodeDecode.CrmHtmlDecode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.xmlEncode=function(n){return _Script.isNullOrUndefined(n)?Microsoft.Crm.Client.Core.Framework._String.empty:CrmEncodeDecode.CrmXmlEncode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.urlEncode=function(n){return CrmEncodeDecode.CrmUrlEncode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.urlDecode=function(n){return CrmEncodeDecode.CrmUrlDecode(n)};Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.isValidHref=function(n){return!Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode._invalidHRefCharacterPattern$p.test(n)};Microsoft.Crm.Client.DataSourceFactory.registerClass("Microsoft.Crm.Client.DataSourceFactory");Microsoft.Crm.Client.Core.Framework.ErrorInfo.registerClass("Microsoft.Crm.Client.Core.Framework.ErrorInfo");Microsoft.Crm.Client.Core.Framework.ChartError.registerClass("Microsoft.Crm.Client.Core.Framework.ChartError",Microsoft.Crm.Client.Core.Framework.ErrorInfo);Microsoft.Crm.Client.Core.Framework.ChartErrorInformation.registerClass("Microsoft.Crm.Client.Core.Framework.ChartErrorInformation");Microsoft.Crm.Client.Core.Framework.FeatureName.registerClass("Microsoft.Crm.Client.Core.Framework.FeatureName");Microsoft.Crm.Client.Core.Framework.DictionaryWrapper.registerClass("Microsoft.Crm.Client.Core.Framework.DictionaryWrapper");Microsoft.Crm.Client.Core.Framework.DisposableBase.registerClass("Microsoft.Crm.Client.Core.Framework.DisposableBase",null,Sys.IDisposable);Microsoft.Crm.Client.Core.Storage.Common.StorageConstants.registerClass("Microsoft.Crm.Client.Core.Storage.Common.StorageConstants");Microsoft.Crm.Client.Core.Storage.Common.EntityAttributeMetadataPair.registerClass("Microsoft.Crm.Client.Core.Storage.Common.EntityAttributeMetadataPair");Microsoft.Crm.Client.Core.Storage.Common.AllColumns.registerClass("Microsoft.Crm.Client.Core.Storage.Common.AllColumns",null,Microsoft.Crm.Client.Core.Storage.Common.IColumnSet);Microsoft.Crm.Client.Core.Storage.Common.ColumnSet.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ColumnSet",null,Microsoft.Crm.Client.Core.Storage.Common.IColumnSet,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.registerClass("Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter");Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml.registerClass("Microsoft.Crm.Client.Core.Storage.Common.MergeFetchXmlFilterXml");Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.registerClass("Microsoft.Crm.Client.Core.Framework.Common.ResourceManager");Microsoft.Crm.Client.Core.Models.ChartTitle.registerClass("Microsoft.Crm.Client.Core.Models.ChartTitle");Microsoft.Crm.Client.Core.Models.DataLabels.registerClass("Microsoft.Crm.Client.Core.Models.DataLabels");Microsoft.Crm.Client.Core.Models.DataPoint.registerClass("Microsoft.Crm.Client.Core.Models.DataPoint");Microsoft.Crm.Client.Core.Models.Legend.registerClass("Microsoft.Crm.Client.Core.Models.Legend");Microsoft.Crm.Client.Core.Models.Series.registerClass("Microsoft.Crm.Client.Core.Models.Series");Microsoft.Crm.Client.Core.Models.XAxis.registerClass("Microsoft.Crm.Client.Core.Models.XAxis");Microsoft.Crm.Client.Core.Models.YAxis.registerClass("Microsoft.Crm.Client.Core.Models.YAxis");Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase.registerClass("Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase");Microsoft.Crm.Client.Core.Models.DataPointAggregator.registerClass("Microsoft.Crm.Client.Core.Models.DataPointAggregator",Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase);Microsoft.Crm.Client.Core.Models.DataPointDateTimeRangeAggregator.registerClass("Microsoft.Crm.Client.Core.Models.DataPointDateTimeRangeAggregator",Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase);Microsoft.Crm.Client.Core.Models.DataPointFiscalPeriodAggregator.registerClass("Microsoft.Crm.Client.Core.Models.DataPointFiscalPeriodAggregator",Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase);Microsoft.Crm.Client.Core.Models.DataPointFiscalYearAggregator.registerClass("Microsoft.Crm.Client.Core.Models.DataPointFiscalYearAggregator",Microsoft.Crm.Client.Core.Models.DataPointAggregatorBase);Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer.registerClass("Microsoft.Crm.Client.Core.Models._chartAggregatorsContainer");Microsoft.Crm.Client.Core.Models.Chart.ChartCategory.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartCategory");Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription");Microsoft.Crm.Client.Core.Models.Chart.ChartDataQueryDecorator.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartDataQueryDecorator");Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartGroupBy");Microsoft.Crm.Client.Core.Models.Chart.ChartMeasure.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartMeasure");Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureCollectionInfo.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureCollectionInfo");Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureInfo.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartMeasureInfo");Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel.registerClass("Microsoft.Crm.Client.Core.Models.Chart.ChartQueryModel");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata",null,Microsoft.Crm.Client.Core.Storage.Common.IAttributeMetadata,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadataCollection.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadataCollection");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributePrivilege.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributePrivilege",null,Microsoft.Crm.Client.Core.Framework.ISerializable);Xrm.Objects.EntityReference.registerClass("Xrm.Objects.EntityReference",null,Microsoft.Crm.Client.Core.Framework.IReference,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionMetadata",null,Microsoft.Crm.Client.Core.Framework.ISerializable,Microsoft.Crm.Client.Core.Framework.IPicklistItem,Microsoft.Crm.Client.Core.Framework.IOptionMetadata);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.OptionSetMetadata",null,Microsoft.Crm.Client.Core.Framework.ISerializable,Microsoft.Crm.Client.Core.Framework.IOptionSetMetadata);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AliasedValue",null,Microsoft.Crm.Client.Core.Framework.IAlias,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery.registerClass("Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery");ChartConfigObject.registerClass("ChartConfigObject");Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder",Microsoft.Crm.Client.Core.Framework.DisposableBase);Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator");Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataField");Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser");Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParserFactory.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParserFactory");Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter");Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser");Microsoft.Crm.Client.Core.ViewModels.Controls.ComparisonChartDataParser.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.ComparisonChartDataParser",Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser);Microsoft.Crm.Client.Core.ViewModels.Controls.DateTimeChartDataParser.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.DateTimeChartDataParser",Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser);Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.HighchartStubFactory");Microsoft.Crm.Client.Core.ViewModels.Controls.NormalChartDataParser.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.NormalChartDataParser",Microsoft.Crm.Client.Core.ViewModels.Controls.ChartDataParser);Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationSeries.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationSeries");Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationLegend.registerClass("Microsoft.Crm.Client.Core.ViewModels.Controls.PresentationLegend");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.Condition",null,Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ICondition);Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.FilterExpression",null,Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.IFilterExpression);Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.OrderByQueryExpression.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.OrderByQueryExpression");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator");Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression.registerClass("Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.LinkedEntityQueryExpression",Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression);Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode.registerClass("Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode");Microsoft.Crm.Client.DataSourceFactory._instance$p=null;Microsoft.Crm.Client.Core.Framework.ChartError.typeName="ChartError";Microsoft.Crm.Client.Core.Framework.ChartError._errorTitleKey$p="ErrorTitle";Microsoft.Crm.Client.Core.Framework.ChartError._errorDescriptionKey$p="ErrorDescription";Microsoft.Crm.Client.Core.Framework.ErrorInfo._nameKey$p="name";Microsoft.Crm.Client.Core.Framework.ErrorInfo._messageKey$p="message";Microsoft.Crm.Client.Core.Framework.FeatureName.mobileClientMashup="MobileClientMashup";Microsoft.Crm.Client.Core.Framework.FeatureName.officeMailApp="OfficeMailApp";Microsoft.Crm.Client.Core.Framework.FeatureName.officeMailAppMobile="OfficeMailAppMobile";Microsoft.Crm.Client.Core.Framework.FeatureName.officeMailAppMetadata="OfficeMailAppMetadata";Microsoft.Crm.Client.Core.Framework.FeatureName.sssReliablePromote="SSSReliablePromote";Microsoft.Crm.Client.Core.Framework.FeatureName.mobileClientOffline="MobileClientOffline";Microsoft.Crm.Client.Core.Framework.FeatureName.mobileClientOfflineAutoOptin="MobileClientOfflineAutoOptin";Microsoft.Crm.Client.Core.Framework.FeatureName.associatedGridURLAddressability="AssociatedGridURLAddressability";Microsoft.Crm.Client.Core.Framework.FeatureName.lookupRelationshipFilters="LookupRelationshipFilters";Microsoft.Crm.Client.Core.Framework.FeatureName.interactionCentricMultiEntityChartsFeature="InteractionCentricMultiEntityChartsFeature";Microsoft.Crm.Client.Core.Framework.FeatureName.ishGuidedHelp="ISHGuidedHelp";Microsoft.Crm.Client.Core.Framework.FeatureName.appModuleForOrganization="AppModuleForOrganization";Microsoft.Crm.Client.Core.Framework.FeatureName.appModuleMOCAForScaleGroup="AppModuleMOCAForScaleGroup";Microsoft.Crm.Client.Core.Framework.FeatureName.interactionCentricLookupAutoResolve="InteractionCentricLookupAutoResolve";Microsoft.Crm.Client.Core.Framework.FeatureName.quickFindSearchOnISH="QuickFindSearchOnISH";Microsoft.Crm.Client.Core.Framework.FeatureName.emailEngagement="EmailEngagement";Microsoft.Crm.Client.Core.Framework.FeatureName.interactionCentricEmailLink="InteractionCentricEmailLink";Microsoft.Crm.Client.Core.Framework.FeatureName.deviceIntegration="DeviceIntegration";Microsoft.Crm.Client.Core.Framework.FeatureName.autoDataCapture="AutoDataCapture";Microsoft.Crm.Client.Core.Framework.FeatureName.landingPage="LandingPage";Microsoft.Crm.Client.Core.Framework.FeatureName.taskBasedFlow="TaskBasedFlow";Microsoft.Crm.Client.Core.Storage.Common.StorageConstants.compositeIndexDelimiter="_";Microsoft.Crm.Client.Core.Storage.Common.AllColumns._instance$p=null;Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.noBreakSpace="Â ";Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.zeroWidthNoBreakSpace="ï»¿";Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.leftToRightMark="â";Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter.rightToLeftMark="â";Microsoft.Crm.Client.Core.Storage.Common.CrmFormatter._instance$p=null;Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._shortResourceKeyPostfix$p="_Short";Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.defaultErrorTitleId="Error_Title_Generic";Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.defaultErrorMessageId="Error_Message_Generic_Mobile_Client";Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.errorTitleIdPrefix="Error_Title_0x";Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.errorMessageIdPrefix="Error_Message_0x";Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._resources$p={};Microsoft.Crm.Client.Core.Framework.Common.ResourceManager._isHorizontalMode$p=!0;Microsoft.Crm.Client.Core.Models.Chart.ChartDataDefinitionDescription.onDataDefinitionReadyEventName="OnDataDefinitionReady";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.durationFormat="duration";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.timeZoneFormat="timezone";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.languageFormat="language";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.dateAndTimeFormat="dateandtime";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.dateOnlyFormat="dateonly";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeFormat.tickerSymbolFormat="tickersymbol";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.idPath="id";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.entityLogicalNamePath="entitylogicalname";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.logicalNamePath="logicalname";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.typePath="type";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.sourceTypePath="sourcetype";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.displayNamePath="displayname";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isSecuredPath="issecured";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isSortableEnabledPath="issortableenabled";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForCreatePath="isvalidforcreate";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForUpdatePath="isvalidforupdate";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isValidForReadPath="isvalidforread";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.requiredLevelPath="requiredlevel";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.maxLengthPath="maxlength";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.minValuePath="minvalue";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.maxValuePath="maxvalue";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.precisionPath="precision";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.precisionSourcePath="precisionsource";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.defaultFormValuePath="defaultformvalue";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.defaultValuePath="defaultvalue";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.formatPath="format";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.behaviorPath="behavior";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isBaseCurrencyPath="isbasecurrency";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.attributeOfPath="attributeof";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.hasChangedPath="haschanged";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.optionSetPath="optionset";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.targetsPath="targets";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.imeModePath="imemode";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.inheritsFromPath="inheritsfrom";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.isLocalizablePath="islocalizable";Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.entityAttributeLogicalNamesPath="entitylogicalname_logicalname";Xrm.Objects.EntityReference._empty$p=null;Microsoft.Crm.Client.Core.Storage.DataApi.AttributeMetadataQuery._validAttributeRegExp$p=null;Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._categoriesPropertyName$p="categories";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._xPropertyName$p="x";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._textPropertyName$p="text";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titlePropertyName$p="title";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._stylePropertyName$p="style";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._alignPropertyName$p="align";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._colorPropertyName$p="color";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._labelsPropertyName$p="labels";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._marginPropertyName$p="margin";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._paddingPropertyName$p="padding";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._oppositePropertyName$p="opposite";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._overflowPropertyName$p="overflow";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontSizePropertyName$p="fontSize";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineHeightPropertyName$p="lineheight";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._floatingPropertyName$p="floating";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._useHTMLPropertyName$p="useHTML";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._rotationPropertyName$p="rotation";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineWidthPropertyName$p="lineWidth";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._itemStylePropertyName$p="itemStyle";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._formatterPropertyName$p="formatter";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineColorPropertyName$p="lineColor";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._endOnTickPropertyName$p="endOnTick";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._dataLabelsPropertyName$p="dataLabels";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._dataLabelsPropertyPosition$p="inside";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._enabledPropertyName$p="enabled";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontWeightPropertyName$p="fontWeight";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontFamilyPropertyName$p="fontFamily";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._widthPropertyName$p="width";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderWidthPropertyName$p="borderWidth";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._symbolWidthPropertyName$p="symbolWidth";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._borderColorPropertyName$p="borderColor";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._verticalAlignPropertyName$p="verticalAlign";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._startOnTickPropertyName$p="startOnTick";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._showInLegendPropertyName$p="showInLegend";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineColorPropertyName$p="gridLineColor";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._symbolPaddingPropertyName$p="symbolPadding";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._itemMarginTopPropertyName$p="itemMarginTop";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineDashStylePropertyName$p="gridLineDashStyle";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineWidthPropertyName$p="gridLineWidth";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._toolTipPointFormatPropertyName$p="pointFormat";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._toolTipHeaderFormatPropertyName$p="headerFormat";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._hoverStylePropertyName$p="itemHoverStyle";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultColor$p="#3F94E9";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._firstAggregatorIndex$p=0;Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._eventsPropertyName$p="events";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._cursorPropertyName$p="cursor";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._legendClickPropertyName$p="legendItemClick";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._fontWeightNormal$p="normal";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiFontFamily$p="Segoe UI, SegoeUI";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiFontFamily$p='"Segoe UI", Tahoma, sans-serif';Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._segoeUiSemiBoldFontFamily$p="Segoe UI Semibold, SegoeUI-Semibold";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._ishSegoeUiSemiBoldFontFamily$p='"Segoe UI Semibold", Tahoma, sans-serif';Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titleColor$p="#d89a57";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titleSize$p="#12px";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._titleWidth$p="#300px";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineColor$p="#d6d6d6";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._lineColor$p="#d6d6d6";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._gridlineDashStyle$p="ShortDot";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._axisLabelColor$p="#666666";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icAxisLabelColor$p="#FFFFFF";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultFontSize$p="11px";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphFontSize$p="12px";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._filterGraphLineHeight$p="18px";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._overflowJustify$p="justify";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._specialLegendColor$p="#666666";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultLegendColor$p="#000000";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._icDefaultLegendColor$p="#FFFFFF";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._defaultBorderColor$p="#ffffff";Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator._maxLengthLegend$p=15;Microsoft.Crm.Client.Core.ViewModels.Controls._chartFormatter._monthNames$p=null;Microsoft.Crm.Client.Core.ViewModels.Controls.ChartPresentationParser.colorStringFormat="rgb({0})";Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._maxSequence$p=65535;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.AttributeQueryExpression._sequence$p=0;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.day=0;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.week=1;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.month=2;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.quarter=3;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.year=4;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalPeriod=5;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.DateTimeGroupingInfo.fiscalYear=6;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.none=-1;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.innerJoin=0;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.leftOuterJoin=1;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.naturalJoin=2;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.defaultTopValue=5e3;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.EntityQueryExpression.defaultOffsetValue=0;Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.equal="eq";Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.notEqual="ne";Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.greaterThan="gt";Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.greaterThanEqual="ge";Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.lessThan="lt";Microsoft.Crm.Client.Core.Storage.Common.FetchExpression.ConditionalOperator.lessThanEqual="le";Microsoft.Crm.Client.Core.Storage.CrmSoapServiceProxy.EncodeDecode._invalidHRefCharacterPattern$p=new RegExp('(<|>|\\\\|"|\\r|\\n)',"i");Type.registerNamespace("Microsoft.Crm.Client.Core.Framework");Microsoft.Crm.Client.Core.Framework.Trace=function(){};Microsoft.Crm.Client.Core.Framework.Trace.logWarning=function(){};Microsoft.Crm.Client.Core.Framework.Trace.prototype={executeLogWarning:function(n,t){Microsoft.Crm.Client.Core.Framework.Trace.logWarning(n,t)}};Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils=function(){};Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.getDSTAdjustment=function(n,t){var u,i,r,f,e;if(_Script.isNullOrUndefined(t))return 0;for(u=null,i=new Date(n.getTime()),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),r=0;r<t.length;r++)if(f=t[r].get_dateStart(),e=t[r].get_dateEnd(),i>=f&&i<=e){u=t[r];break}return 0};Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.convertDateTimeFromUtcToUserDisplay=function(n,t,i){var r,u;return _Script.isNullOrUndefined(n)?n:(r=t*Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils._millisecondsInMinute$p,r+=Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.getDSTAdjustment(n,i),u=n.getTimezoneOffset()*Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils._millisecondsInMinute$p,new Date(n.getTime()+r+u))};Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.getUtcEquivalentFromLocal=function(n){return new Date(n.getTime()+n.getTimezoneOffset()*Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils._millisecondsInMinute$p)};Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.convertTimeToBehaviorDisplay=function(n,t,i,r){switch(i){case Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior.dateOnly:case Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior.timeZoneIndependent:return Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.getUtcEquivalentFromLocal(n);case Microsoft.Crm.Client.Core.Framework.DateTimeFieldBehavior.userLocal:return Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.convertDateTimeFromUtcToUserDisplay(n,t,r);default:return new Date(n.getTime())}};Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.prototype={formatTimeToBehaviorDisplay:function(n,t,i,r){return Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.convertTimeToBehaviorDisplay(n,t,i,r)}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.Common");Microsoft.Crm.Client.Core.Storage.Common.EntityMetadata=function(){};Microsoft.Crm.Client.Core.Storage.Common.EntityMetadata.prototype={_$$pf_Id$p$0:null,get_id:function(){return this._$$pf_Id$p$0},set_id:function(n){return this._$$pf_Id$p$0=n,n},_$$pf_LogicalName$p$0:null,get_logicalName:function(){return this._$$pf_LogicalName$p$0},set_logicalName:function(n){return this._$$pf_LogicalName$p$0=n,n},_$$pf_DisplayName$p$0:null,get_displayName:function(){return this._$$pf_DisplayName$p$0},set_displayName:function(n){return this._$$pf_DisplayName$p$0=n,n},_$$pf_PluralName$p$0:null,get_pluralName:function(){return this._$$pf_PluralName$p$0},set_pluralName:function(n){return this._$$pf_PluralName$p$0=n,n},_$$pf_ObjectTypeCode$p$0:0,get_objectTypeCode:function(){return this._$$pf_ObjectTypeCode$p$0},set_objectTypeCode:function(n){return this._$$pf_ObjectTypeCode$p$0=n,n},_$$pf_PrimaryIdAttribute$p$0:null,get_primaryIdAttribute:function(){return this._$$pf_PrimaryIdAttribute$p$0},set_primaryIdAttribute:function(n){return this._$$pf_PrimaryIdAttribute$p$0=n,n},_$$pf_PrimaryNameAttribute$p$0:null,get_primaryNameAttribute:function(){return this._$$pf_PrimaryNameAttribute$p$0},set_primaryNameAttribute:function(n){return this._$$pf_PrimaryNameAttribute$p$0=n,n},_$$pf_EntityColor$p$0:null,get_entityColor:function(){return this._$$pf_EntityColor$p$0},set_entityColor:function(n){return this._$$pf_EntityColor$p$0=n,n},getObjectData:function(){var n={};return n.Id=this.get_id(),n.logicalName=this.get_logicalName(),n.displayName=this.get_displayName(),n.pluralName=this.get_pluralName(),n.objectTypeCode=this.get_objectTypeCode(),n.primaryIdAttribute=this.get_primaryIdAttribute(),n.primrayNameAttribute=this.get_primaryNameAttribute(),n.entityColor=this.get_entityColor(),n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel");Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ApplicationMetadata=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ApplicationMetadata.prototype={_$$pf_DisplayName$p$0:null,get_displayName:function(){return this._$$pf_DisplayName$p$0},set_displayName:function(n){return this._$$pf_DisplayName$p$0=n,n},_$$pf_AssociatedEntityLogicalName$p$0:null,get_associatedEntityLogicalName:function(){return this._$$pf_AssociatedEntityLogicalName$p$0},set_associatedEntityLogicalName:function(n){return this._$$pf_AssociatedEntityLogicalName$p$0=n,n}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingAttributeMetaData=function(){this._attributeMetaDataDict$p$0={}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingAttributeMetaData.prototype={_attributeMetaDataDict$p$0:null,_$$pf_DisplayName$p$0:null,get_displayName:function(){return this._$$pf_DisplayName$p$0},set_displayName:function(n){return this._$$pf_DisplayName$p$0=n,n},_$$pf_Behavior$p$0:0,get_behavior:function(){return this._$$pf_Behavior$p$0},set_behavior:function(n){return this._$$pf_Behavior$p$0=n,n},_$$pf_Type$p$0:0,get_type:function(){return this._$$pf_Type$p$0},set_type:function(n){return this._$$pf_Type$p$0=n,n},getChartingMetaDataSet:function(){return this._attributeMetaDataDict$p$0},getChartingMetaDataInDisplayOrder:function(){return this._attributeMetaDataDict$p$0},addToDictionary:function(n){var t=n.get_value().toString();this._attributeMetaDataDict$p$0[t]=n}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaData=function(){};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaData.prototype={_$$pf_Label$p$0:null,get_label:function(){return this._$$pf_Label$p$0},set_label:function(n){return this._$$pf_Label$p$0=n,n},_$$pf_Value$p$0:0,get_value:function(){return this._$$pf_Value$p$0},set_value:function(n){return this._$$pf_Value$p$0=n,n},_$$pf_Color$p$0:null,get_color:function(){return this._$$pf_Color$p$0},set_color:function(n){return this._$$pf_Color$p$0=n,n}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaDataAggregator=function(){this._aggregateDict$p$0={}};Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaDataAggregator.prototype={_aggregateDict$p$0:null,getChartingAttributeMetadata:function(n,t){var i=this._aggregateDict$p$0[n];return i[t]},addToDictionary:function(n,t){var r,i;n in this._aggregateDict$p$0?(i=this._aggregateDict$p$0[n],r=t.get_displayName(),i[r]=t):(i={},i[t.get_displayName()]=t,this._aggregateDict$p$0[n]=i)}};Type.registerNamespace("Microsoft.Crm.Client.Core.Storage.DataApi");Microsoft.Crm.Client.Core.Storage.DataApi.RetrieveEntityMetadataDataSource=function(){this.retrieveEntityMetadata=this.RetrieveEntityMetadata};Microsoft.Crm.Client.Core.Storage.DataApi.RetrieveEntityMetadataDataSource.prototype={_entityMetadataArray$p$0:null,addEntityMetadata:function(n){this._entityMetadataArray$p$0=new Array(n.length);for(var t=0;t<n.length;t++)this._entityMetadataArray$p$0[t]=new Microsoft.Crm.Client.Core.Storage.Common.EntityMetadata,this._entityMetadataArray$p$0[t].set_id(n[t].Id),this._entityMetadataArray$p$0[t].set_logicalName(n[t].LogicalName),this._entityMetadataArray$p$0[t].set_displayName(n[t].DisplayName),this._entityMetadataArray$p$0[t].set_pluralName(n[t].PluralName),this._entityMetadataArray$p$0[t].set_objectTypeCode(n[t].ObjectTypeCode),this._entityMetadataArray$p$0[t].set_primaryIdAttribute(n[t].PrimaryIdAttribute),this._entityMetadataArray$p$0[t].set_primaryNameAttribute(n[t].PrimaryNameAttribute),this._entityMetadataArray$p$0[t].set_entityColor(n[t].EntityColor)},RetrieveEntityMetadata:function(n){for(var i=Microsoft.Crm.Client.Core.Imported.MscrmComponents.deferredPromiseFactory(Microsoft.Crm.Client.Core.Storage.Common.IEntityMetadata,Microsoft.Crm.Client.Core.Framework.ErrorStatus),r=this._entityMetadataArray$p$0,u,f,t=0;t<r.length;t++)u=r[t],u.get_logicalName()===n?i.resolve(u):t===r.length-1&&(f=Microsoft.Crm.Client.Core.Framework.ErrorStatus.fromErrorCodeOnly(Microsoft.Crm.Client.Core.Framework.CrmErrorCodes.entityMetadataSyncFailedWithContinue),i.reject(f));return i.promise()},retrieveMultipleEntityMetadata:function(){return null},retrieveMultipleAttributeMetadata:function(){return null},getAttributeTransactionCurrencySymbol:function(){return"$"},_getMockedMetadata$p$0:function(){var n=new Microsoft.Crm.Client.Core.Storage.Common.EntityMetadata;return n.set_id(null),n.set_logicalName("opportunity"),n.set_displayName("Opportunity"),n.set_pluralName("Opportunities"),n.set_objectTypeCode(3),n.set_primaryIdAttribute("opportunityid"),n.set_primaryNameAttribute("name"),n.set_entityColor("#3E7239"),n}};Type.registerNamespace("Microsoft.Crm.Client.Core.Models");Microsoft.Crm.Client.Core.Models.Model=function(){this._fields$p$0={};this.getFormattedValue=this.GetFormattedValue;this.getValue=this.GetValue};Microsoft.Crm.Client.Core.Models.Model.prototype={_$$pf_Id$p$0:null,get_Id:function(){return this._$$pf_Id$p$0},set_Id:function(n){return this._$$pf_Id$p$0=n,n},_$$pf_ModelName$p$0:null,get_ModelName:function(){return this._$$pf_ModelName$p$0},set_ModelName:function(n){return this._$$pf_ModelName$p$0=n,n},_$$pf_ActionableModelName$p$0:null,get_actionableModelName:function(){return this._$$pf_ActionableModelName$p$0},set_actionableModelName:function(n){return this._$$pf_ActionableModelName$p$0=n,n},add_propertyChanged:function(){},remove_propertyChanged:function(){},get_fieldNames:function(){var t=new(Microsoft.Crm.Client.Core.Framework.List$1.$$(String)),i=this._fields$p$0,n,r;for(n in i)r={key:n,value:i[n]},t.add(r.key);return t.toArray()},fillModel:function(n){this._fields$p$0=n},getIEntityRecord:function(){return this},GetValue:function(n){return this._fields$p$0[n]},GetFormattedValue:function(n){return this._fields$p$0[n]},SetValue:function(n,t){this._fields$p$0[n]=t},apcl:function(){},rpcl:function(){}};Microsoft.Crm.Client.Core.Models.RecordCollectionModel=function(){};Microsoft.Crm.Client.Core.Models.RecordCollectionModel.prototype={get_count:function(){return this.get_itemsAsList().get_Count()},_$$pf_ItemsAsList$p$0:null,get_itemsAsList:function(){return this._$$pf_ItemsAsList$p$0},set_itemsAsList:function(n){return this._$$pf_ItemsAsList$p$0=n,n},dispose:function(){}};Type.registerNamespace("Microsoft.Crm.Client.Core.ViewModels");Microsoft.Crm.Client.Core.ViewModels.ChartConfigurableViewModel=function(){};Microsoft.Crm.Client.Core.ViewModels.ChartConfigurableViewModel.prototype={_$$pf_IsInteractionCentricDashboard$p$0:!1,get_isInteractionCentricDashboard:function(){return this._$$pf_IsInteractionCentricDashboard$p$0},set_isInteractionCentricDashboard:function(n){return this._$$pf_IsInteractionCentricDashboard$p$0=n,n},_$$pf_SecondaryGroupByAttributeName$p$0:null,get_secondaryGroupByAttributeName:function(){return this._$$pf_SecondaryGroupByAttributeName$p$0},set_secondaryGroupByAttributeName:function(n){return this._$$pf_SecondaryGroupByAttributeName$p$0=n,n},_$$pf_PrimaryModelName$p$0:null,get_primaryModelName:function(){return this._$$pf_PrimaryModelName$p$0},set_primaryModelName:function(n){return this._$$pf_PrimaryModelName$p$0=n,n},_$$pf_Title$p$0:null,get_title:function(){return this._$$pf_Title$p$0},set_title:function(n){return this._$$pf_Title$p$0=n,n},_$$pf_Colors$p$0:null,get_colors:function(){return this._$$pf_Colors$p$0},set_colors:function(n){return this._$$pf_Colors$p$0=n,n},_$$pf_XAxes$p$0:null,get_xAxes:function(){return this._$$pf_XAxes$p$0},set_xAxes:function(n){return this._$$pf_XAxes$p$0=n,n},_$$pf_YAxes$p$0:null,get_yAxes:function(){return this._$$pf_YAxes$p$0},set_yAxes:function(n){return this._$$pf_YAxes$p$0=n,n},_$$pf_SeriesList$p$0:null,get_seriesList:function(){return this._$$pf_SeriesList$p$0},set_seriesList:function(n){return this._$$pf_SeriesList$p$0=n,n},_$$pf_AllowPointSelect$p$0:!1,get_allowPointSelect:function(){return this._$$pf_AllowPointSelect$p$0},set_allowPointSelect:function(n){return this._$$pf_AllowPointSelect$p$0=n,n},_$$pf_Legend$p$0:null,get_legend:function(){return this._$$pf_Legend$p$0},set_legend:function(n){return this._$$pf_Legend$p$0=n,n}};Type.registerNamespace("Portal.Charting");Portal.Charting.ChartBuilder=function(){};Portal.Charting.ChartDefinition=function(){};Portal.Charting.PortalChartOrchestrator=function(){};Portal.Charting.PortalChartOrchestrator.createChart=function(n){var f=jQueryApi.jQueryDeferredFactory.Deferred(Object,Object),l=Sys.Serialization.JavaScriptSerializer.deserialize(n.AttributeMetadataSerialized),s=Sys.Serialization.JavaScriptSerializer.deserialize(n.EntityMetadataSerialized),p=Sys.Serialization.JavaScriptSerializer.deserialize(n.ResourceManagerStringOverridesSerialized),h,e,o,r,i,a,u,v,c,t,y;for(Microsoft.Crm.Client.Core.Framework.Common.ResourceManager.updateResources(p),h=l.length,e=new Array(h),t=0;t<h;t++)e[t]=Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.AttributeMetadata.createFromObjectData(l[t]);if(o=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ApplicationMetadata,o.set_associatedEntityLogicalName(s[0].LogicalName),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ApplicationMetadata,r.set_displayName(n.ChartDefinition.Name),r.set_associatedEntityLogicalName(s[0].LogicalName),i=new Microsoft.Crm.Client.Core.Models.Chart.ChartDataQueryDecorator(n.ChartDefinition.DataDescriptionXml,n.FetchXml),a=i.get_dataDefinition().get_chartingDataSource(),a.addEntityMetadata(s),u=i.get_dataDefinition().retrieveEntityMetadataDeferred(),u.length){for(c=new Array(u.length),t=0;t<u.length;t++)c[t]=u[t];y=$.when.apply(null,c);y.then(function(){i.get_dataDefinition().setMetadata(arguments);var t=Portal.Charting.PortalChartOrchestrator._completeChartCreation$p(o,r,n.DataJson,i,e,n.ChartDefinition.PresentationDescriptionXml);f.resolve(t)},function(n){f.reject(n)})}else i.get_dataDefinition().setMetadata(null),v=Portal.Charting.PortalChartOrchestrator._completeChartCreation$p(o,r,n.DataJson,i,e,n.ChartDefinition.PresentationDescriptionXml),f.resolve(v);return f};Portal.Charting.PortalChartOrchestrator._completeChartCreation$p=function(n,t,i,r,u,f){var o,s;r.setupAggregationQueries();var c=r.get_dataDefinition().get_entityExpression().get_attributes(),l=Portal.Charting.PortalChartOrchestrator._buildRecordCollectionModel$p(i,c),a=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartBuilder.createChartBuilder(n,t,r.get_dataDefinition(),l,f),e=u;for(o=0;o<e.length;o++)s=r.get_dataDefinition().get_metadataPairCollection()[e[o].get_entityLogicalName()],e.length>0&&!_Script.isNullOrUndefined(s)&&s.get_attributeMetadataCollection().mergeAttributeMetadata(e,!1);var v=a.buildChartModel(),y=Portal.Charting.PortalChartOrchestrator._populateChartConfigurableViewModel$p(v),p=Portal.Charting.PortalChartOrchestrator._createChartingMetaDataAggregator$p(r.get_dataDefinition()),w=new Microsoft.Crm.Client.Core.Framework.Trace,h=Microsoft.Crm.Client.Core.ViewModels.Controls.ChartConfigGenerator.generateConfigurationObject(y,p,w);return Portal.Charting.PortalChartOrchestrator._modifyChartConfigObjectForAir$p(h),h};Portal.Charting.PortalChartOrchestrator._populateChartConfigurableViewModel$p=function(n){var t=new Microsoft.Crm.Client.Core.ViewModels.ChartConfigurableViewModel;return t.set_title(n.get_Title()),t.set_colors(n.get_Colors()),t.set_xAxes(n.get_XAxes()),t.set_yAxes(n.get_YAxes()),t.set_seriesList(n.get_SeriesList()),t.set_legend(n.get_Legend()),t.set_allowPointSelect(!1),t.set_primaryModelName(null),t.set_secondaryGroupByAttributeName(null),t.set_isInteractionCentricDashboard(!1),t};Portal.Charting.PortalChartOrchestrator._createChartingMetaDataAggregator$p=function(n){for(var h=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaDataAggregator,c,e,t,i,s,f,r,u=0;u<n.get_categoryColumns().get_Count();u++){c=n.get_categoryColumns().get_item(u);e=c.get_entity().get_metadataPair().get_attributeMetadataCollection();for(var l=e.get_attributes(),a=l.length,o=0;o<a;++o){if(t=l[o],i=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingAttributeMetaData,i.set_behavior(t.get_behavior()),i.set_displayName(t.get_displayName()),i.set_type(t.get_type()),t.get_optionSet())for(s=t.get_optionSet().get_options().getEnumerator();s.moveNext();)f=s.get_current(),r=new Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaData,r.set_color(f.get_color()),r.set_label(f.get_label()),r.set_value(f.get_value()),i.addToDictionary(r);h.addToDictionary(e.get_associatedEntityLogicalName(),i)}}return h};Portal.Charting.PortalChartOrchestrator._buildRecordCollectionModel$p=function(n,t){var o=new Microsoft.Crm.Client.Core.Models.RecordCollectionModel,a,s,e,h,i,f,y,r,l,p,u,w;for(o.set_itemsAsList(new(Microsoft.Crm.Client.Core.Framework.List$1.$$(Microsoft.Crm.Client.Core.Models.IModel))),a=8,n=n.substring(a,n.length),s=JSON.parse(n),e=0;e<s.length;e++){h=new Microsoft.Crm.Client.Core.Models.Model;i=s[e];for(var v=t,b=v.length,c=0;c<b;++c)f=v[c],!f.get_aliasName()||f.get_aliasName()in i||!i[f.get_name()]||(y=i[f.get_name()].toString(),i[f.get_aliasName()]=y);h.fillModel(i);r=null;r=[];for(l in i)i.hasOwnProperty(l)&&r.push(l);for(p=6,u=0;u<r.length;u++)r[u].endsWith("_Value")&&(w=r[u].substring(0,r[u].length-p),i[w+"undefinedRaw"]=i[r[u]]);o.get_itemsAsList().add(h)}return o};Portal.Charting.PortalChartOrchestrator._modifyChartConfigObjectForAir$p=function(n){var i,r,t,f,e,u;_Script.isNullOrUndefined(n.series)||_Script.isNullOrUndefined(n.series[0])||(n.series[0].type==="column"?_Script.isNullOrUndefined(n.xAxis)||_Script.isNullOrUndefined(n.xAxis[0])||(i=n.xAxis[0],i.tickAmount=3,_Script.isNullOrUndefined(i.labels)||(t=i.labels,t.autoRotation=!1,t.rotation=0,t.align="center")):_Script.isNullOrUndefined(n.yAxis)||_Script.isNullOrUndefined(n.yAxis[0])||(r=n.yAxis[0],r.tickAmount=3,_Script.isNullOrUndefined(r.labels)||(t=r.labels,t.autoRotation=!1,t.rotation=0,t.align="center")),n.series[0].type==="funnel"&&(f=n.series[0],f.neckWidth="5%",f.neckHeight="0%"),(n.series[0].type==="column"||n.series[0].type==="bar")&&(_Script.isNullOrUndefined(n.chart)||(n.chart.marginBottom-=18)));_Script.isNullOrUndefined(n.legend)||(n.legend.layout="horizontal",n.legend.align="center");e={};e.enabled=!1;n.exporting=e;u={};u.enabled=!0;u.description="acc";n.accessibility=u};Portal.Charting.PortalChartOrchestrator._changeColors$p=function(n){n.colors=["#02B8AB","#FD6260","#384649","#F1C80E","#8ad9c4","#f3c183","#FF9655","#FFF263","#6AF9C4"]};Portal.Charting.PortalChartOrchestrator._removeBarColors$p=function(n){for(var r,i=n.series,u=i.length,t=0;t<u;++t)r=i[t],r.color=null};Portal.Charting.PortalChartOrchestrator._changeChartTitleColor$p=function(n){n.title.style.color="#00a3d9"};Microsoft.Crm.Client.Core.Framework.Trace.registerClass("Microsoft.Crm.Client.Core.Framework.Trace",null,Microsoft.Crm.Client.Core.Framework.ITrace);Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils.registerClass("Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils",null,Microsoft.Crm.Client.Core.Framework.IUserDateTimeUtils);Microsoft.Crm.Client.Core.Storage.Common.EntityMetadata.registerClass("Microsoft.Crm.Client.Core.Storage.Common.EntityMetadata",null,Microsoft.Crm.Client.Core.Storage.Common.IEntityMetadata,Microsoft.Crm.Client.Core.Framework.ISerializable);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ApplicationMetadata.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ApplicationMetadata",null,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IApplicationMetadata);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingAttributeMetaData.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingAttributeMetaData",null,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingAttributeMetaData);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaData.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaData",null,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaData);Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaDataAggregator.registerClass("Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.ChartingMetaDataAggregator",null,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IChartingMetaDataAggregator);Microsoft.Crm.Client.Core.Storage.DataApi.RetrieveEntityMetadataDataSource.registerClass("Microsoft.Crm.Client.Core.Storage.DataApi.RetrieveEntityMetadataDataSource",null,Microsoft.Crm.Client.Core.Storage.DataApi.IRetrieveEntityMetadataDataSource,Microsoft.Crm.Client.Core.Storage.DataApi.IChartableUserContext);Microsoft.Crm.Client.Core.Models.Model.registerClass("Microsoft.Crm.Client.Core.Models.Model",null,Microsoft.Crm.Client.Core.Models.IModel,Microsoft.Crm.Client.Core.Framework.IRootModel,Microsoft.Crm.Client.Core.Framework.INotifyPropertyChanged,Microsoft.Crm.Client.Core.Models.IEntityRecordContainer,Microsoft.Crm.Client.Core.Storage.Common.ObjectModel.IEntityRecord);Microsoft.Crm.Client.Core.Models.RecordCollectionModel.registerClass("Microsoft.Crm.Client.Core.Models.RecordCollectionModel",null,Microsoft.Crm.Client.Core.Models.IRecordCollectionModel);Microsoft.Crm.Client.Core.ViewModels.ChartConfigurableViewModel.registerClass("Microsoft.Crm.Client.Core.ViewModels.ChartConfigurableViewModel",null,Microsoft.Crm.Client.Core.ViewModels.IChartConfigurableViewModel);Portal.Charting.ChartBuilder.registerClass("Portal.Charting.ChartBuilder");Portal.Charting.ChartDefinition.registerClass("Portal.Charting.ChartDefinition");Portal.Charting.PortalChartOrchestrator.registerClass("Portal.Charting.PortalChartOrchestrator");Microsoft.Crm.Client.Core.Framework.UserDateTimeUtils._millisecondsInMinute$p=6e4,function(n){function i(t){this._element=n(t);this._serviceUrl=this._element.attr("data-serviceurl");this._chartId=this._element.attr("data-chartid");this._viewId=this._element.attr("data-viewid");this._messageAccessDenied=this._element.attr("data-accessdeniedmessage")||window.ResourceManager.Access_Denied_Error;this._messageUnknownError=window.ResourceManager.UnKnown_Error_Occurred;this._messageLoading=this._element.attr("data-loadingmessage")||window.ResourceManager.Visualization_Chart_Loading_Message;this._messageNoData=this._element.attr("data-nodatamessage")||window.ResourceManager.Visualization_Chart_NoData_Message}function r(t){var i=t._element,r=t._messageNoData;i.find(".nodata").remove();n("<div class='nodata' role='alert'>"+r+"<\/div>").appendTo(i)}function t(t,i){if(typeof t!=typeof undefined&&t!==!1&&t!=null){typeof console!=typeof undefined&&typeof console.log!=typeof undefined&&console.log(t);var r;r=typeof t.InnerError!=typeof undefined&&t.InnerError!==!1&&t.InnerError!=null?t.InnerError.Message:t.Message;(r===null||r===""||r==="error")&&(r=window.ResourceManager.UnKnown_Error_Occurred);i.find(".notification").slideUp().remove();n("<div class='notification alert alert-danger error role='alert'><span class='glyphicon glyphicon-warning-sign' aria-hidden='true'><\/span> "+r+"<\/div>").prependTo(i)}}n(document).ready(function(){n(".crm-chart").each(function(){new i(n(this)).render()})});i.prototype.render=function(){var u=this,i=u._element,a=u._serviceUrl,e=u._chartId,o=u._viewId,v=u._messageAccessDenied,c=u._messageUnknownError,y=u._messageLoading,s,l,h,f;if(i.find(".chart").fadeOut().remove(),s=n("<div class='chart-loading text-center'><span class='fa fa-spinner fa-spin' aria-hidden='true'><\/span><\/div>").append(n("<span><\/span>").text(y)),i.append(s),typeof e==typeof undefined||e===null||e===""){l={Message:c};s.hide();t(l,i);return}h={};h.chartId=e;typeof o!=typeof undefined&&o!==null&&o!==""&&(h.viewId=o);f=undefined;n.ajax({type:"GET",dataType:"json",url:a,data:h,global:!1}).done(function(e){if(f=e,e==null||e.ChartDefinition==null){t({Message:c},i);return}if(e.EntityPermissionDenied){var o={Message:v};t(o,i);return}$P_CRM=n;i.attr("id")==null&&i.attr("id",e.Id);Portal.Charting.PortalChartOrchestrator.createChart(e).then(function(t){t.title.text=f.ChartDefinition.Name;n.extend(!0,t,{legend:{itemStyle:{width:"100px",textOverflow:"ellipsis",overflow:"hidden"}}});n("#"+i.attr("id")).highcharts(t);(f.Data==null||f.Data.length===0)&&r(u)}).fail(function(n){t(n,i)})}).fail(function(r){var u=r.getResponseHeader("content-type")||"",f=u.indexOf("json")>-1?n.parseJSON(r.responseText):{Message:r.status,InnerError:{Message:r.statusText}};t(f,i)}).always(function(){s.hide()})}}(jQuery),function(n){function t(n){var u=n.originalEvent.changedTouches,t=u[0],i="",r;switch(n.type){case"touchmove":i="mousemove";break;case"touchend":i="mouseup";break;default:return}r=document.createEvent("MouseEvent");r.initMouseEvent(i,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null);t.target.dispatchEvent(r);n.preventDefault()}n.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}};n.fn.rateit=function(i,r){var e=1,u={},o="init",s=function(n){return n.charAt(0).toUpperCase()+n.substr(1)},f;if(this.length===0)return this;if(f=n.type(i),f=="object"||i===undefined||i===null)u=n.extend({},n.fn.rateit.defaults,i);else{if(f=="string"&&i!=="reset"&&r===undefined)return this.data("rateit"+s(i));f=="string"&&(o="setvalue")}return this.each(function(){var c=n(this),f=function(n,t){if(t!=null){var i="aria-value"+(n=="value"?"now":n),r=c.find(".rateit-range");r.attr(i)!=undefined&&r.attr(i,t)}return arguments[0]="rateit"+s(n),c.data.apply(c,arguments)},p,w,v,h,b,g,nt,l,y,k,a;if(i=="reset"){p=f("init");for(w in p)c.data(w,p[w]);f("backingfld")&&(h=n(f("backingfld")),h.val(f("value")),h.trigger("change"),h[0].min&&(h[0].min=f("min")),h[0].max&&(h[0].max=f("max")),h[0].step&&(h[0].step=f("step")));c.trigger("reset")}if(c.hasClass("rateit")||c.addClass("rateit"),v=c.css("direction")!="rtl",o=="setvalue"){if(!f("init"))throw"Can't set value before init";i!="readonly"||r!=!0||f("readonly")||(c.find(".rateit-range").unbind(),f("wired",!1));i=="value"&&(r=r==null?f("min"):Math.max(f("min"),Math.min(f("max"),r)));f("backingfld")&&(h=n(f("backingfld")),i=="value"&&h.val(r),i=="min"&&h[0].min&&(h[0].min=r),i=="max"&&h[0].max&&(h[0].max=r),i=="step"&&h[0].step&&(h[0].step=r));f(i,r)}f("init")||(f("min",isNaN(f("min"))?u.min:f("min")),f("max",isNaN(f("max"))?u.max:f("max")),f("step",f("step")||u.step),f("readonly",f("readonly")!==undefined?f("readonly"):u.readonly),f("resetable",f("resetable")!==undefined?f("resetable"):u.resetable),f("backingfld",f("backingfld")||u.backingfld),f("starwidth",f("starwidth")||u.starwidth),f("starheight",f("starheight")||u.starheight),f("value",Math.max(f("min"),Math.min(f("max"),isNaN(f("value"))?isNaN(u.value)?u.min:u.value:f("value")))),f("ispreset",f("ispreset")!==undefined?f("ispreset"):u.ispreset),f("backingfld")&&(h=n(f("backingfld")).hide(),(h.attr("disabled")||h.attr("readonly"))&&f("readonly",!0),h[0].nodeName=="INPUT"&&(h[0].type=="range"||h[0].type=="text")&&(f("min",parseInt(h.attr("min"))||f("min")),f("max",parseInt(h.attr("max"))||f("max")),f("step",parseInt(h.attr("step"))||f("step"))),h[0].nodeName=="SELECT"&&h[0].options.length>1?(f("min",isNaN(f("min"))?Number(h[0].options[0].value):f("min")),f("max",Number(h[0].options[h[0].length-1].value)),f("step",Number(h[0].options[1].value)-Number(h[0].options[0].value)),b=h.find("option[selected]"),b.length==1&&f("value",b.val())):f("value",h.val())),g=c[0].nodeName=="DIV"?"div":"span",e++,nt='<button id="rateit-reset-{{index}}" type="button" data-role="none" class="rateit-reset" aria-label="'+n.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"><\/button><{{element}} id="rateit-range-{{index}}" class="rateit-range" tabindex="0" role="slider" aria-label="'+n.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+f("min")+'" aria-valuemax="'+f("max")+'" aria-valuenow="'+f("value")+'"><{{element}} class="rateit-selected" style="height:'+f("starheight")+'px"><\/{{element}}><{{element}} class="rateit-hover" style="height:'+f("starheight")+'px"><\/{{element}}><\/{{element}}>',c.append(nt.replace(/{{index}}/gi,e).replace(/{{element}}/gi,g)),v||(c.find(".rateit-reset").css("float","right"),c.find(".rateit-selected").addClass("rateit-selected-rtl"),c.find(".rateit-hover").addClass("rateit-hover-rtl")),f("init",JSON.parse(JSON.stringify(c.data()))));c.find(".rateit-selected, .rateit-hover").height(f("starheight"));l=c.find(".rateit-range");l.width(f("starwidth")*(f("max")-f("min"))).height(f("starheight"));y="rateit-preset"+(v?"":"-rtl");f("ispreset")?c.find(".rateit-selected").addClass(y):c.find(".rateit-selected").removeClass(y);f("value")!=null&&(k=(f("value")-f("min"))*f("starwidth"),c.find(".rateit-selected").width(k));a=c.find(".rateit-reset");a.data("wired")!==!0&&a.bind("click",function(t){t.preventDefault();a.blur();var i=n.Event("beforereset");if(c.trigger(i),i.isDefaultPrevented())return!1;c.rateit("value",null);c.trigger("reset")}).data("wired",!0);var tt=function(t,i){var u=i.changedTouches?i.changedTouches[0].pageX:i.pageX,r=u-n(t).offset().left;return v||(r=l.width()-r),r>l.width()&&(r=l.width()),r<0&&(r=0),k=Math.ceil(r/f("starwidth")*(1/f("step")))},it=function(n){var t=n*f("starwidth")*f("step"),r=l.find(".rateit-hover"),i;r.data("width")!=t&&(l.find(".rateit-selected").hide(),r.width(t).show().data("width",t),i=[n*f("step")+f("min")],c.trigger("hover",i).trigger("over",i))},d=function(t){var i=n.Event("beforerated");return(c.trigger(i,[t]),i.isDefaultPrevented())?!1:(f("value",t),f("backingfld")&&n(f("backingfld")).val(t).trigger("change"),f("ispreset")&&(l.find(".rateit-selected").removeClass(y),f("ispreset",!1)),l.find(".rateit-hover").hide(),l.find(".rateit-selected").width(t*f("starwidth")-f("min")*f("starwidth")).show(),c.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[t]),!0)};f("readonly")?a.hide():(f("resetable")||a.hide(),f("wired")||(l.bind("touchmove touchend",t),l.mousemove(function(n){var t=tt(this,n);it(t)}),l.mouseleave(function(){l.find(".rateit-hover").hide().width(0).data("width","");c.trigger("hover",[null]).trigger("over",[null]);l.find(".rateit-selected").show()}),l.mouseup(function(n){var t=tt(this,n),i=t*f("step")+f("min");d(i);l.blur()}),l.keyup(function(n){(n.which==38||n.which==(v?39:37))&&d(Math.min(f("value")+f("step"),f("max")));(n.which==40||n.which==(v?37:39))&&d(Math.max(f("value")-f("step"),f("min")))}),f("wired",!0)),f("resetable")&&a.show());l.attr("aria-readonly",f("readonly"))})};n.fn.rateit.defaults={min:0,max:5,step:.5,starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1};n(function(){n("div.rateit, span.rateit").rateit()})}(jQuery),function(n){function t(t){this._element=n(t);this._urlSave=this._element.attr("data-url-save");this._logicalName=this._element.attr("data-logicalname");this._id=this._element.attr("data-id");this._min=this._element.attr("data-rateit-min");this._max=this._element.attr("data-rateit-max")}n(document).ready(function(){n(".rateit").each(function(){new t(n(this)).initialize()})});t.prototype.initialize=function(){var t=this,f=t._element,i=t._urlSave,r=t._logicalName,u=t._id;if(typeof i!=typeof undefined&&i!==null&&i!==""&&typeof r!=typeof undefined&&r!==null&&r!==""&&typeof u!=typeof undefined&&u!==null&&u!==""){f.rateit("readonly",!1);f.on("rated",function(){var i=n(this).rateit("value");t.saveRating(i)})}};t.prototype.saveRating=function(t){var f=this,i=f._element,o=f._urlSave,s=f._logicalName,h=f._id,r=f._min,u=f._max,e,c,l;if(typeof t==typeof undefined||t===null||t===""){i.rateit("reset");return}if(typeof o==typeof undefined||o===null||o===""){i.rateit("reset");return}if(typeof s==typeof undefined||s===null||s===""){i.rateit("reset");return}if(typeof h==typeof undefined||h===null||h===""){i.rateit("reset");return}typeof r==typeof undefined||r===null||r===""?r=0:(r=parseInt(r),isNaN(r)&&(r=0));typeof u==typeof undefined||u===null||u===""?u=5:(u=parseInt(u),isNaN(u)&&(u=5));i.rateit("readonly",!0);e={};c={};c.LogicalName=s;c.Id=h;e.entityReference=c;e.rating=t;e.min=r;e.max=u;l=JSON.stringify(e);shell.ajaxSafePost({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",url:o,data:l,processData:!1,global:!1}).done(function(n){if(typeof n!=typeof undefined&&n!=null&&n!==""){i.rateit("value",n.AverageRatingRounded);var t=i.closest(".rating").find(".rating-count");t.text(n.RatingCount)}else{i.rateit("reset");return}}).fail(function(t){var r=t.getResponseHeader("content-type")||"",u=r.indexOf("json")>-1?n.parseJSON(t.responseText):{Message:t.status,InnerError:{Message:t.statusText}};typeof console!=typeof undefined&&typeof console.log!=typeof undefined&&console.log(u);i.rateit("reset")}).always(function(){i.rateit("readonly",!1)})}}(jQuery);jQuery.timeago.settings.strings={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}